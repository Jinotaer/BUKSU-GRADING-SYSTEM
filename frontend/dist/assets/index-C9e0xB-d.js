(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const m of u.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function n(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(c){if(c.ep)return;c.ep=!0;const u=n(c);fetch(c.href,u)}})();function Fm(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Ku={exports:{}},ei={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rg;function cN(){if(Rg)return ei;Rg=1;var s=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function n(i,c,u){var m=null;if(u!==void 0&&(m=""+u),c.key!==void 0&&(m=""+c.key),"key"in c){u={};for(var f in c)f!=="key"&&(u[f]=c[f])}else u=c;return c=u.ref,{$$typeof:s,type:i,key:m,ref:c!==void 0?c:null,props:u}}return ei.Fragment=r,ei.jsx=n,ei.jsxs=n,ei}var Lg;function dN(){return Lg||(Lg=1,Ku.exports=cN()),Ku.exports}var e=dN(),em={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ug;function uN(){if(Ug)return $e;Ug=1;var s=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),m=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),j=Symbol.iterator;function w(_){return _===null||typeof _!="object"?null:(_=j&&_[j]||_["@@iterator"],typeof _=="function"?_:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,T={};function C(_,P,ie){this.props=_,this.context=P,this.refs=T,this.updater=ie||E}C.prototype.isReactComponent={},C.prototype.setState=function(_,P){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,P,"setState")},C.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function k(){}k.prototype=C.prototype;function N(_,P,ie){this.props=_,this.context=P,this.refs=T,this.updater=ie||E}var M=N.prototype=new k;M.constructor=N,v(M,C.prototype),M.isPureReactComponent=!0;var A=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},Y=Object.prototype.hasOwnProperty;function Q(_,P,ie,L,V,me){return ie=me.ref,{$$typeof:s,type:_,key:P,ref:ie!==void 0?ie:null,props:me}}function q(_,P){return Q(_.type,P,void 0,void 0,void 0,_.props)}function ne(_){return typeof _=="object"&&_!==null&&_.$$typeof===s}function re(_){var P={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(ie){return P[ie]})}var B=/\/+/g;function ae(_,P){return typeof _=="object"&&_!==null&&_.key!=null?re(""+_.key):P.toString(36)}function ce(){}function J(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(ce,ce):(_.status="pending",_.then(function(P){_.status==="pending"&&(_.status="fulfilled",_.value=P)},function(P){_.status==="pending"&&(_.status="rejected",_.reason=P)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function $(_,P,ie,L,V){var me=typeof _;(me==="undefined"||me==="boolean")&&(_=null);var xe=!1;if(_===null)xe=!0;else switch(me){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(_.$$typeof){case s:case r:xe=!0;break;case b:return xe=_._init,$(xe(_._payload),P,ie,L,V)}}if(xe)return V=V(_),xe=L===""?"."+ae(_,0):L,A(V)?(ie="",xe!=null&&(ie=xe.replace(B,"$&/")+"/"),$(V,P,ie,"",function(K){return K})):V!=null&&(ne(V)&&(V=q(V,ie+(V.key==null||_&&_.key===V.key?"":(""+V.key).replace(B,"$&/")+"/")+xe)),P.push(V)),1;xe=0;var ke=L===""?".":L+":";if(A(_))for(var te=0;te<_.length;te++)L=_[te],me=ke+ae(L,te),xe+=$(L,P,ie,me,V);else if(te=w(_),typeof te=="function")for(_=te.call(_),te=0;!(L=_.next()).done;)L=L.value,me=ke+ae(L,te++),xe+=$(L,P,ie,me,V);else if(me==="object"){if(typeof _.then=="function")return $(J(_),P,ie,L,V);throw P=String(_),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return xe}function O(_,P,ie){if(_==null)return _;var L=[],V=0;return $(_,L,"","",function(me){return P.call(ie,me,V++)}),L}function U(_){if(_._status===-1){var P=_._result;P=P(),P.then(function(ie){(_._status===0||_._status===-1)&&(_._status=1,_._result=ie)},function(ie){(_._status===0||_._status===-1)&&(_._status=2,_._result=ie)}),_._status===-1&&(_._status=0,_._result=P)}if(_._status===1)return _._result.default;throw _._result}var I=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)};function le(){}return $e.Children={map:O,forEach:function(_,P,ie){O(_,function(){P.apply(this,arguments)},ie)},count:function(_){var P=0;return O(_,function(){P++}),P},toArray:function(_){return O(_,function(P){return P})||[]},only:function(_){if(!ne(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},$e.Component=C,$e.Fragment=n,$e.Profiler=c,$e.PureComponent=N,$e.StrictMode=i,$e.Suspense=x,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,$e.__COMPILER_RUNTIME={__proto__:null,c:function(_){return D.H.useMemoCache(_)}},$e.cache=function(_){return function(){return _.apply(null,arguments)}},$e.cloneElement=function(_,P,ie){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var L=v({},_.props),V=_.key,me=void 0;if(P!=null)for(xe in P.ref!==void 0&&(me=void 0),P.key!==void 0&&(V=""+P.key),P)!Y.call(P,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&P.ref===void 0||(L[xe]=P[xe]);var xe=arguments.length-2;if(xe===1)L.children=ie;else if(1<xe){for(var ke=Array(xe),te=0;te<xe;te++)ke[te]=arguments[te+2];L.children=ke}return Q(_.type,V,void 0,void 0,me,L)},$e.createContext=function(_){return _={$$typeof:m,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:u,_context:_},_},$e.createElement=function(_,P,ie){var L,V={},me=null;if(P!=null)for(L in P.key!==void 0&&(me=""+P.key),P)Y.call(P,L)&&L!=="key"&&L!=="__self"&&L!=="__source"&&(V[L]=P[L]);var xe=arguments.length-2;if(xe===1)V.children=ie;else if(1<xe){for(var ke=Array(xe),te=0;te<xe;te++)ke[te]=arguments[te+2];V.children=ke}if(_&&_.defaultProps)for(L in xe=_.defaultProps,xe)V[L]===void 0&&(V[L]=xe[L]);return Q(_,me,void 0,void 0,null,V)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(_){return{$$typeof:f,render:_}},$e.isValidElement=ne,$e.lazy=function(_){return{$$typeof:b,_payload:{_status:-1,_result:_},_init:U}},$e.memo=function(_,P){return{$$typeof:p,type:_,compare:P===void 0?null:P}},$e.startTransition=function(_){var P=D.T,ie={};D.T=ie;try{var L=_(),V=D.S;V!==null&&V(ie,L),typeof L=="object"&&L!==null&&typeof L.then=="function"&&L.then(le,I)}catch(me){I(me)}finally{D.T=P}},$e.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},$e.use=function(_){return D.H.use(_)},$e.useActionState=function(_,P,ie){return D.H.useActionState(_,P,ie)},$e.useCallback=function(_,P){return D.H.useCallback(_,P)},$e.useContext=function(_){return D.H.useContext(_)},$e.useDebugValue=function(){},$e.useDeferredValue=function(_,P){return D.H.useDeferredValue(_,P)},$e.useEffect=function(_,P,ie){var L=D.H;if(typeof ie=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return L.useEffect(_,P)},$e.useId=function(){return D.H.useId()},$e.useImperativeHandle=function(_,P,ie){return D.H.useImperativeHandle(_,P,ie)},$e.useInsertionEffect=function(_,P){return D.H.useInsertionEffect(_,P)},$e.useLayoutEffect=function(_,P){return D.H.useLayoutEffect(_,P)},$e.useMemo=function(_,P){return D.H.useMemo(_,P)},$e.useOptimistic=function(_,P){return D.H.useOptimistic(_,P)},$e.useReducer=function(_,P,ie){return D.H.useReducer(_,P,ie)},$e.useRef=function(_){return D.H.useRef(_)},$e.useState=function(_){return D.H.useState(_)},$e.useSyncExternalStore=function(_,P,ie){return D.H.useSyncExternalStore(_,P,ie)},$e.useTransition=function(){return D.H.useTransition()},$e.version="19.1.1",$e}var zg;function Vm(){return zg||(zg=1,em.exports=uN()),em.exports}var g=Vm();const Gt=Fm(g);var tm={exports:{}},ti={},sm={exports:{}},am={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pg;function mN(){return Pg||(Pg=1,(function(s){function r(O,U){var I=O.length;O.push(U);e:for(;0<I;){var le=I-1>>>1,_=O[le];if(0<c(_,U))O[le]=U,O[I]=_,I=le;else break e}}function n(O){return O.length===0?null:O[0]}function i(O){if(O.length===0)return null;var U=O[0],I=O.pop();if(I!==U){O[0]=I;e:for(var le=0,_=O.length,P=_>>>1;le<P;){var ie=2*(le+1)-1,L=O[ie],V=ie+1,me=O[V];if(0>c(L,I))V<_&&0>c(me,L)?(O[le]=me,O[V]=I,le=V):(O[le]=L,O[ie]=I,le=ie);else if(V<_&&0>c(me,I))O[le]=me,O[V]=I,le=V;else break e}}return U}function c(O,U){var I=O.sortIndex-U.sortIndex;return I!==0?I:O.id-U.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var m=Date,f=m.now();s.unstable_now=function(){return m.now()-f}}var x=[],p=[],b=1,j=null,w=3,E=!1,v=!1,T=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function A(O){for(var U=n(p);U!==null;){if(U.callback===null)i(p);else if(U.startTime<=O)i(p),U.sortIndex=U.expirationTime,r(x,U);else break;U=n(p)}}function D(O){if(T=!1,A(O),!v)if(n(x)!==null)v=!0,Y||(Y=!0,ae());else{var U=n(p);U!==null&&$(D,U.startTime-O)}}var Y=!1,Q=-1,q=5,ne=-1;function re(){return C?!0:!(s.unstable_now()-ne<q)}function B(){if(C=!1,Y){var O=s.unstable_now();ne=O;var U=!0;try{e:{v=!1,T&&(T=!1,N(Q),Q=-1),E=!0;var I=w;try{t:{for(A(O),j=n(x);j!==null&&!(j.expirationTime>O&&re());){var le=j.callback;if(typeof le=="function"){j.callback=null,w=j.priorityLevel;var _=le(j.expirationTime<=O);if(O=s.unstable_now(),typeof _=="function"){j.callback=_,A(O),U=!0;break t}j===n(x)&&i(x),A(O)}else i(x);j=n(x)}if(j!==null)U=!0;else{var P=n(p);P!==null&&$(D,P.startTime-O),U=!1}}break e}finally{j=null,w=I,E=!1}U=void 0}}finally{U?ae():Y=!1}}}var ae;if(typeof M=="function")ae=function(){M(B)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,J=ce.port2;ce.port1.onmessage=B,ae=function(){J.postMessage(null)}}else ae=function(){k(B,0)};function $(O,U){Q=k(function(){O(s.unstable_now())},U)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(O){O.callback=null},s.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<O?Math.floor(1e3/O):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function(O){switch(w){case 1:case 2:case 3:var U=3;break;default:U=w}var I=w;w=U;try{return O()}finally{w=I}},s.unstable_requestPaint=function(){C=!0},s.unstable_runWithPriority=function(O,U){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var I=w;w=O;try{return U()}finally{w=I}},s.unstable_scheduleCallback=function(O,U,I){var le=s.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?le+I:le):I=le,O){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=I+_,O={id:b++,callback:U,priorityLevel:O,startTime:I,expirationTime:_,sortIndex:-1},I>le?(O.sortIndex=I,r(p,O),n(x)===null&&O===n(p)&&(T?(N(Q),Q=-1):T=!0,$(D,I-le))):(O.sortIndex=_,r(x,O),v||E||(v=!0,Y||(Y=!0,ae()))),O},s.unstable_shouldYield=re,s.unstable_wrapCallback=function(O){var U=w;return function(){var I=w;w=U;try{return O.apply(this,arguments)}finally{w=I}}}})(am)),am}var $g;function hN(){return $g||($g=1,sm.exports=mN()),sm.exports}var rm={exports:{}},es={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yg;function fN(){if(Yg)return es;Yg=1;var s=Vm();function r(x){var p="https://react.dev/errors/"+x;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+x+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(r(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},c=Symbol.for("react.portal");function u(x,p,b){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:j==null?null:""+j,children:x,containerInfo:p,implementation:b}}var m=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(x,p){if(x==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return es.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,es.createPortal=function(x,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(r(299));return u(x,p,null,b)},es.flushSync=function(x){var p=m.T,b=i.p;try{if(m.T=null,i.p=2,x)return x()}finally{m.T=p,i.p=b,i.d.f()}},es.preconnect=function(x,p){typeof x=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(x,p))},es.prefetchDNS=function(x){typeof x=="string"&&i.d.D(x)},es.preinit=function(x,p){if(typeof x=="string"&&p&&typeof p.as=="string"){var b=p.as,j=f(b,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?i.d.S(x,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:j,integrity:w,fetchPriority:E}):b==="script"&&i.d.X(x,{crossOrigin:j,integrity:w,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},es.preinitModule=function(x,p){if(typeof x=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=f(p.as,p.crossOrigin);i.d.M(x,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(x)},es.preload=function(x,p){if(typeof x=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,j=f(b,p.crossOrigin);i.d.L(x,b,{crossOrigin:j,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},es.preloadModule=function(x,p){if(typeof x=="string")if(p){var b=f(p.as,p.crossOrigin);i.d.m(x,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(x)},es.requestFormReset=function(x){i.d.r(x)},es.unstable_batchedUpdates=function(x,p){return x(p)},es.useFormState=function(x,p,b){return m.H.useFormState(x,p,b)},es.useFormStatus=function(){return m.H.useHostTransitionStatus()},es.version="19.1.1",es}var Bg;function xN(){if(Bg)return rm.exports;Bg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),rm.exports=fN(),rm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hg;function gN(){if(Hg)return ti;Hg=1;var s=hN(),r=Vm(),n=xN();function i(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var a=t,l=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(l=a.return),t=a.return;while(t)}return a.tag===3?l:null}function m(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function f(t){if(u(t)!==t)throw Error(i(188))}function x(t){var a=t.alternate;if(!a){if(a=u(t),a===null)throw Error(i(188));return a!==t?null:t}for(var l=t,o=a;;){var d=l.return;if(d===null)break;var h=d.alternate;if(h===null){if(o=d.return,o!==null){l=o;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===l)return f(d),t;if(h===o)return f(d),a;h=h.sibling}throw Error(i(188))}if(l.return!==o.return)l=d,o=h;else{for(var y=!1,S=d.child;S;){if(S===l){y=!0,l=d,o=h;break}if(S===o){y=!0,o=d,l=h;break}S=S.sibling}if(!y){for(S=h.child;S;){if(S===l){y=!0,l=h,o=d;break}if(S===o){y=!0,o=h,l=d;break}S=S.sibling}if(!y)throw Error(i(189))}}if(l.alternate!==o)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?t:a}function p(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=p(t),a!==null)return a;t=t.sibling}return null}var b=Object.assign,j=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),M=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function ae(t){return t===null||typeof t!="object"?null:(t=B&&t[B]||t["@@iterator"],typeof t=="function"?t:null)}var ce=Symbol.for("react.client.reference");function J(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ce?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case v:return"Fragment";case C:return"Profiler";case T:return"StrictMode";case D:return"Suspense";case Y:return"SuspenseList";case ne:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case E:return"Portal";case M:return(t.displayName||"Context")+".Provider";case N:return(t._context.displayName||"Context")+".Consumer";case A:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Q:return a=t.displayName||null,a!==null?a:J(t.type)||"Memo";case q:a=t._payload,t=t._init;try{return J(t(a))}catch{}}return null}var $=Array.isArray,O=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},le=[],_=-1;function P(t){return{current:t}}function ie(t){0>_||(t.current=le[_],le[_]=null,_--)}function L(t,a){_++,le[_]=t.current,t.current=a}var V=P(null),me=P(null),xe=P(null),ke=P(null);function te(t,a){switch(L(xe,a),L(me,t),L(V,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?og(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=og(a),t=cg(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ie(V),L(V,t)}function K(){ie(V),ie(me),ie(xe)}function ve(t){t.memoizedState!==null&&L(ke,t);var a=V.current,l=cg(a,t.type);a!==l&&(L(me,t),L(V,l))}function se(t){me.current===t&&(ie(V),ie(me)),ke.current===t&&(ie(ke),Xl._currentValue=I)}var je=Object.prototype.hasOwnProperty,oe=s.unstable_scheduleCallback,W=s.unstable_cancelCallback,Ne=s.unstable_shouldYield,Ce=s.unstable_requestPaint,Re=s.unstable_now,he=s.unstable_getCurrentPriorityLevel,ye=s.unstable_ImmediatePriority,tt=s.unstable_UserBlockingPriority,gt=s.unstable_NormalPriority,mt=s.unstable_LowPriority,Vt=s.unstable_IdlePriority,Es=s.log,ba=s.unstable_setDisableYieldValue,is=null,Tt=null;function os(t){if(typeof Es=="function"&&ba(t),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(is,t)}catch{}}var pe=Math.clz32?Math.clz32:pt,Ae=Math.log,nt=Math.LN2;function pt(t){return t>>>=0,t===0?32:31-(Ae(t)/nt|0)|0}var Be=256,lt=4194304;function bt(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Fa(t,a,l){var o=t.pendingLanes;if(o===0)return 0;var d=0,h=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var S=o&134217727;return S!==0?(o=S&~h,o!==0?d=bt(o):(y&=S,y!==0?d=bt(y):l||(l=S&~t,l!==0&&(d=bt(l))))):(S=o&~h,S!==0?d=bt(S):y!==0?d=bt(y):l||(l=o&~t,l!==0&&(d=bt(l)))),d===0?0:a!==0&&a!==d&&(a&h)===0&&(h=d&-d,l=a&-a,h>=l||h===32&&(l&4194048)!==0)?a:d}function rl(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function Zy(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gh(){var t=Be;return Be<<=1,(Be&4194048)===0&&(Be=256),t}function Ih(){var t=lt;return lt<<=1,(lt&62914560)===0&&(lt=4194304),t}function Hc(t){for(var a=[],l=0;31>l;l++)a.push(t);return a}function nl(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Wy(t,a,l,o,d,h){var y=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var S=t.entanglements,R=t.expirationTimes,F=t.hiddenUpdates;for(l=y&~l;0<l;){var de=31-pe(l),fe=1<<de;S[de]=0,R[de]=-1;var X=F[de];if(X!==null)for(F[de]=null,de=0;de<X.length;de++){var Z=X[de];Z!==null&&(Z.lane&=-536870913)}l&=~fe}o!==0&&Fh(t,o,0),h!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=h&~(y&~a))}function Fh(t,a,l){t.pendingLanes|=a,t.suspendedLanes&=~a;var o=31-pe(a);t.entangledLanes|=a,t.entanglements[o]=t.entanglements[o]|1073741824|l&4194090}function Vh(t,a){var l=t.entangledLanes|=a;for(t=t.entanglements;l;){var o=31-pe(l),d=1<<o;d&a|t[o]&a&&(t[o]|=a),l&=~d}}function qc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Gc(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Qh(){var t=U.p;return t!==0?t:(t=window.event,t===void 0?32:Tg(t.type))}function Jy(t,a){var l=U.p;try{return U.p=t,a()}finally{U.p=l}}var Va=Math.random().toString(36).slice(2),Jt="__reactFiber$"+Va,cs="__reactProps$"+Va,Kr="__reactContainer$"+Va,Ic="__reactEvents$"+Va,Ky="__reactListeners$"+Va,ej="__reactHandles$"+Va,Xh="__reactResources$"+Va,ll="__reactMarker$"+Va;function Fc(t){delete t[Jt],delete t[cs],delete t[Ic],delete t[Ky],delete t[ej]}function en(t){var a=t[Jt];if(a)return a;for(var l=t.parentNode;l;){if(a=l[Kr]||l[Jt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(t=hg(t);t!==null;){if(l=t[Jt])return l;t=hg(t)}return a}t=l,l=t.parentNode}return null}function tn(t){if(t=t[Jt]||t[Kr]){var a=t.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return t}return null}function il(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(i(33))}function sn(t){var a=t[Xh];return a||(a=t[Xh]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function $t(t){t[ll]=!0}var Zh=new Set,Wh={};function wr(t,a){an(t,a),an(t+"Capture",a)}function an(t,a){for(Wh[t]=a,t=0;t<a.length;t++)Zh.add(a[t])}var tj=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jh={},Kh={};function sj(t){return je.call(Kh,t)?!0:je.call(Jh,t)?!1:tj.test(t)?Kh[t]=!0:(Jh[t]=!0,!1)}function Ri(t,a,l){if(sj(a))if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var o=a.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+l)}}function Li(t,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+l)}}function ya(t,a,l,o){if(o===null)t.removeAttribute(l);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(a,l,""+o)}}var Vc,ef;function rn(t){if(Vc===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Vc=a&&a[1]||"",ef=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vc+t+ef}var Qc=!1;function Xc(t,a){if(!t||Qc)return"";Qc=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(a){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(Z){var X=Z}Reflect.construct(t,[],fe)}else{try{fe.call()}catch(Z){X=Z}t.call(fe.prototype)}}else{try{throw Error()}catch(Z){X=Z}(fe=t())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(Z){if(Z&&X&&typeof Z.stack=="string")return[Z.stack,X.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=o.DetermineComponentFrameRoot(),y=h[0],S=h[1];if(y&&S){var R=y.split(`
`),F=S.split(`
`);for(d=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;if(o===R.length||d===F.length)for(o=R.length-1,d=F.length-1;1<=o&&0<=d&&R[o]!==F[d];)d--;for(;1<=o&&0<=d;o--,d--)if(R[o]!==F[d]){if(o!==1||d!==1)do if(o--,d--,0>d||R[o]!==F[d]){var de=`
`+R[o].replace(" at new "," at ");return t.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",t.displayName)),de}while(1<=o&&0<=d);break}}}finally{Qc=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?rn(l):""}function aj(t){switch(t.tag){case 26:case 27:case 5:return rn(t.type);case 16:return rn("Lazy");case 13:return rn("Suspense");case 19:return rn("SuspenseList");case 0:case 15:return Xc(t.type,!1);case 11:return Xc(t.type.render,!1);case 1:return Xc(t.type,!0);case 31:return rn("Activity");default:return""}}function tf(t){try{var a="";do a+=aj(t),t=t.return;while(t);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Ts(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sf(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function rj(t){var a=sf(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,a),o=""+t[a];if(!t.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,h=l.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return d.call(this)},set:function(y){o=""+y,h.call(this,y)}}),Object.defineProperty(t,a,{enumerable:l.enumerable}),{getValue:function(){return o},setValue:function(y){o=""+y},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function Ui(t){t._valueTracker||(t._valueTracker=rj(t))}function af(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var l=a.getValue(),o="";return t&&(o=sf(t)?t.checked?"true":"false":t.value),t=o,t!==l?(a.setValue(t),!0):!1}function zi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var nj=/[\n"\\]/g;function _s(t){return t.replace(nj,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Zc(t,a,l,o,d,h,y,S){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),a!=null?y==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+Ts(a)):t.value!==""+Ts(a)&&(t.value=""+Ts(a)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),a!=null?Wc(t,y,Ts(a)):l!=null?Wc(t,y,Ts(l)):o!=null&&t.removeAttribute("value"),d==null&&h!=null&&(t.defaultChecked=!!h),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Ts(S):t.removeAttribute("name")}function rf(t,a,l,o,d,h,y,S){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),a!=null||l!=null){if(!(h!=="submit"&&h!=="reset"||a!=null))return;l=l!=null?""+Ts(l):"",a=a!=null?""+Ts(a):l,S||a===t.value||(t.value=a),t.defaultValue=a}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=S?t.checked:!!o,t.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Wc(t,a,l){a==="number"&&zi(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function nn(t,a,l,o){if(t=t.options,a){a={};for(var d=0;d<l.length;d++)a["$"+l[d]]=!0;for(l=0;l<t.length;l++)d=a.hasOwnProperty("$"+t[l].value),t[l].selected!==d&&(t[l].selected=d),d&&o&&(t[l].defaultSelected=!0)}else{for(l=""+Ts(l),a=null,d=0;d<t.length;d++){if(t[d].value===l){t[d].selected=!0,o&&(t[d].defaultSelected=!0);return}a!==null||t[d].disabled||(a=t[d])}a!==null&&(a.selected=!0)}}function nf(t,a,l){if(a!=null&&(a=""+Ts(a),a!==t.value&&(t.value=a),l==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=l!=null?""+Ts(l):""}function lf(t,a,l,o){if(a==null){if(o!=null){if(l!=null)throw Error(i(92));if($(o)){if(1<o.length)throw Error(i(93));o=o[0]}l=o}l==null&&(l=""),a=l}l=Ts(a),t.defaultValue=l,o=t.textContent,o===l&&o!==""&&o!==null&&(t.value=o)}function ln(t,a){if(a){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=a;return}}t.textContent=a}var lj=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function of(t,a,l){var o=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?o?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":o?t.setProperty(a,l):typeof l!="number"||l===0||lj.has(a)?a==="float"?t.cssFloat=l:t[a]=(""+l).trim():t[a]=l+"px"}function cf(t,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(t=t.style,l!=null){for(var o in l)!l.hasOwnProperty(o)||a!=null&&a.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var d in a)o=a[d],a.hasOwnProperty(d)&&l[d]!==o&&of(t,d,o)}else for(var h in a)a.hasOwnProperty(h)&&of(t,h,a[h])}function Jc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ij=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oj=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pi(t){return oj.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Kc=null;function ed(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var on=null,cn=null;function df(t){var a=tn(t);if(a&&(t=a.stateNode)){var l=t[cs]||null;e:switch(t=a.stateNode,a.type){case"input":if(Zc(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+_s(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var o=l[a];if(o!==t&&o.form===t.form){var d=o[cs]||null;if(!d)throw Error(i(90));Zc(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(a=0;a<l.length;a++)o=l[a],o.form===t.form&&af(o)}break e;case"textarea":nf(t,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&nn(t,!!l.multiple,a,!1)}}}var td=!1;function uf(t,a,l){if(td)return t(a,l);td=!0;try{var o=t(a);return o}finally{if(td=!1,(on!==null||cn!==null)&&(So(),on&&(a=on,t=cn,cn=on=null,df(a),t)))for(a=0;a<t.length;a++)df(t[a])}}function ol(t,a){var l=t.stateNode;if(l===null)return null;var o=l[cs]||null;if(o===null)return null;l=o[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var ja=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sd=!1;if(ja)try{var cl={};Object.defineProperty(cl,"passive",{get:function(){sd=!0}}),window.addEventListener("test",cl,cl),window.removeEventListener("test",cl,cl)}catch{sd=!1}var Qa=null,ad=null,$i=null;function mf(){if($i)return $i;var t,a=ad,l=a.length,o,d="value"in Qa?Qa.value:Qa.textContent,h=d.length;for(t=0;t<l&&a[t]===d[t];t++);var y=l-t;for(o=1;o<=y&&a[l-o]===d[h-o];o++);return $i=d.slice(t,1<o?1-o:void 0)}function Yi(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function Bi(){return!0}function hf(){return!1}function ds(t){function a(l,o,d,h,y){this._reactName=l,this._targetInst=d,this.type=o,this.nativeEvent=h,this.target=y,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(l=t[S],this[S]=l?l(h):h[S]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Bi:hf,this.isPropagationStopped=hf,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),a}var Sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hi=ds(Sr),dl=b({},Sr,{view:0,detail:0}),cj=ds(dl),rd,nd,ul,qi=b({},dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:id,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ul&&(ul&&t.type==="mousemove"?(rd=t.screenX-ul.screenX,nd=t.screenY-ul.screenY):nd=rd=0,ul=t),rd)},movementY:function(t){return"movementY"in t?t.movementY:nd}}),ff=ds(qi),dj=b({},qi,{dataTransfer:0}),uj=ds(dj),mj=b({},dl,{relatedTarget:0}),ld=ds(mj),hj=b({},Sr,{animationName:0,elapsedTime:0,pseudoElement:0}),fj=ds(hj),xj=b({},Sr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gj=ds(xj),pj=b({},Sr,{data:0}),xf=ds(pj),bj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vj(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=jj[t])?!!a[t]:!1}function id(){return vj}var Nj=b({},dl,{key:function(t){if(t.key){var a=bj[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=Yi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:id,charCode:function(t){return t.type==="keypress"?Yi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wj=ds(Nj),Sj=b({},qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gf=ds(Sj),Cj=b({},dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:id}),kj=ds(Cj),Ej=b({},Sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tj=ds(Ej),_j=b({},qi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Aj=ds(_j),Mj=b({},Sr,{newState:0,oldState:0}),Dj=ds(Mj),Oj=[9,13,27,32],od=ja&&"CompositionEvent"in window,ml=null;ja&&"documentMode"in document&&(ml=document.documentMode);var Rj=ja&&"TextEvent"in window&&!ml,pf=ja&&(!od||ml&&8<ml&&11>=ml),bf=" ",yf=!1;function jf(t,a){switch(t){case"keyup":return Oj.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var dn=!1;function Lj(t,a){switch(t){case"compositionend":return vf(a);case"keypress":return a.which!==32?null:(yf=!0,bf);case"textInput":return t=a.data,t===bf&&yf?null:t;default:return null}}function Uj(t,a){if(dn)return t==="compositionend"||!od&&jf(t,a)?(t=mf(),$i=ad=Qa=null,dn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return pf&&a.locale!=="ko"?null:a.data;default:return null}}var zj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nf(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!zj[t.type]:a==="textarea"}function wf(t,a,l,o){on?cn?cn.push(o):cn=[o]:on=o,a=Ao(a,"onChange"),0<a.length&&(l=new Hi("onChange","change",null,l,o),t.push({event:l,listeners:a}))}var hl=null,fl=null;function Pj(t){ag(t,0)}function Gi(t){var a=il(t);if(af(a))return t}function Sf(t,a){if(t==="change")return a}var Cf=!1;if(ja){var cd;if(ja){var dd="oninput"in document;if(!dd){var kf=document.createElement("div");kf.setAttribute("oninput","return;"),dd=typeof kf.oninput=="function"}cd=dd}else cd=!1;Cf=cd&&(!document.documentMode||9<document.documentMode)}function Ef(){hl&&(hl.detachEvent("onpropertychange",Tf),fl=hl=null)}function Tf(t){if(t.propertyName==="value"&&Gi(fl)){var a=[];wf(a,fl,t,ed(t)),uf(Pj,a)}}function $j(t,a,l){t==="focusin"?(Ef(),hl=a,fl=l,hl.attachEvent("onpropertychange",Tf)):t==="focusout"&&Ef()}function Yj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gi(fl)}function Bj(t,a){if(t==="click")return Gi(a)}function Hj(t,a){if(t==="input"||t==="change")return Gi(a)}function qj(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var ps=typeof Object.is=="function"?Object.is:qj;function xl(t,a){if(ps(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var l=Object.keys(t),o=Object.keys(a);if(l.length!==o.length)return!1;for(o=0;o<l.length;o++){var d=l[o];if(!je.call(a,d)||!ps(t[d],a[d]))return!1}return!0}function _f(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Af(t,a){var l=_f(t);t=0;for(var o;l;){if(l.nodeType===3){if(o=t+l.textContent.length,t<=a&&o>=a)return{node:l,offset:a-t};t=o}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=_f(l)}}function Mf(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?Mf(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function Df(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=zi(t.document);a instanceof t.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)t=a.contentWindow;else break;a=zi(t.document)}return a}function ud(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var Gj=ja&&"documentMode"in document&&11>=document.documentMode,un=null,md=null,gl=null,hd=!1;function Of(t,a,l){var o=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;hd||un==null||un!==zi(o)||(o=un,"selectionStart"in o&&ud(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),gl&&xl(gl,o)||(gl=o,o=Ao(md,"onSelect"),0<o.length&&(a=new Hi("onSelect","select",null,a,l),t.push({event:a,listeners:o}),a.target=un)))}function Cr(t,a){var l={};return l[t.toLowerCase()]=a.toLowerCase(),l["Webkit"+t]="webkit"+a,l["Moz"+t]="moz"+a,l}var mn={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionrun:Cr("Transition","TransitionRun"),transitionstart:Cr("Transition","TransitionStart"),transitioncancel:Cr("Transition","TransitionCancel"),transitionend:Cr("Transition","TransitionEnd")},fd={},Rf={};ja&&(Rf=document.createElement("div").style,"AnimationEvent"in window||(delete mn.animationend.animation,delete mn.animationiteration.animation,delete mn.animationstart.animation),"TransitionEvent"in window||delete mn.transitionend.transition);function kr(t){if(fd[t])return fd[t];if(!mn[t])return t;var a=mn[t],l;for(l in a)if(a.hasOwnProperty(l)&&l in Rf)return fd[t]=a[l];return t}var Lf=kr("animationend"),Uf=kr("animationiteration"),zf=kr("animationstart"),Ij=kr("transitionrun"),Fj=kr("transitionstart"),Vj=kr("transitioncancel"),Pf=kr("transitionend"),$f=new Map,xd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xd.push("scrollEnd");function Gs(t,a){$f.set(t,a),wr(a,[t])}var Yf=new WeakMap;function As(t,a){if(typeof t=="object"&&t!==null){var l=Yf.get(t);return l!==void 0?l:(a={value:t,source:a,stack:tf(a)},Yf.set(t,a),a)}return{value:t,source:a,stack:tf(a)}}var Ms=[],hn=0,gd=0;function Ii(){for(var t=hn,a=gd=hn=0;a<t;){var l=Ms[a];Ms[a++]=null;var o=Ms[a];Ms[a++]=null;var d=Ms[a];Ms[a++]=null;var h=Ms[a];if(Ms[a++]=null,o!==null&&d!==null){var y=o.pending;y===null?d.next=d:(d.next=y.next,y.next=d),o.pending=d}h!==0&&Bf(l,d,h)}}function Fi(t,a,l,o){Ms[hn++]=t,Ms[hn++]=a,Ms[hn++]=l,Ms[hn++]=o,gd|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function pd(t,a,l,o){return Fi(t,a,l,o),Vi(t)}function fn(t,a){return Fi(t,null,null,a),Vi(t)}function Bf(t,a,l){t.lanes|=l;var o=t.alternate;o!==null&&(o.lanes|=l);for(var d=!1,h=t.return;h!==null;)h.childLanes|=l,o=h.alternate,o!==null&&(o.childLanes|=l),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(d=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,d&&a!==null&&(d=31-pe(l),t=h.hiddenUpdates,o=t[d],o===null?t[d]=[a]:o.push(a),a.lane=l|536870912),h):null}function Vi(t){if(50<Bl)throw Bl=0,wu=null,Error(i(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var xn={};function Qj(t,a,l,o){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bs(t,a,l,o){return new Qj(t,a,l,o)}function bd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function va(t,a){var l=t.alternate;return l===null?(l=bs(t.tag,a,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=a,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,a=t.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function Hf(t,a){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,a=l.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function Qi(t,a,l,o,d,h){var y=0;if(o=t,typeof t=="function")bd(t)&&(y=1);else if(typeof t=="string")y=Zv(t,l,V.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ne:return t=bs(31,l,a,d),t.elementType=ne,t.lanes=h,t;case v:return Er(l.children,d,h,a);case T:y=8,d|=24;break;case C:return t=bs(12,l,a,d|2),t.elementType=C,t.lanes=h,t;case D:return t=bs(13,l,a,d),t.elementType=D,t.lanes=h,t;case Y:return t=bs(19,l,a,d),t.elementType=Y,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:case M:y=10;break e;case N:y=9;break e;case A:y=11;break e;case Q:y=14;break e;case q:y=16,o=null;break e}y=29,l=Error(i(130,t===null?"null":typeof t,"")),o=null}return a=bs(y,l,a,d),a.elementType=t,a.type=o,a.lanes=h,a}function Er(t,a,l,o){return t=bs(7,t,o,a),t.lanes=l,t}function yd(t,a,l){return t=bs(6,t,null,a),t.lanes=l,t}function jd(t,a,l){return a=bs(4,t.children!==null?t.children:[],t.key,a),a.lanes=l,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var gn=[],pn=0,Xi=null,Zi=0,Ds=[],Os=0,Tr=null,Na=1,wa="";function _r(t,a){gn[pn++]=Zi,gn[pn++]=Xi,Xi=t,Zi=a}function qf(t,a,l){Ds[Os++]=Na,Ds[Os++]=wa,Ds[Os++]=Tr,Tr=t;var o=Na;t=wa;var d=32-pe(o)-1;o&=~(1<<d),l+=1;var h=32-pe(a)+d;if(30<h){var y=d-d%5;h=(o&(1<<y)-1).toString(32),o>>=y,d-=y,Na=1<<32-pe(a)+d|l<<d|o,wa=h+t}else Na=1<<h|l<<d|o,wa=t}function vd(t){t.return!==null&&(_r(t,1),qf(t,1,0))}function Nd(t){for(;t===Xi;)Xi=gn[--pn],gn[pn]=null,Zi=gn[--pn],gn[pn]=null;for(;t===Tr;)Tr=Ds[--Os],Ds[Os]=null,wa=Ds[--Os],Ds[Os]=null,Na=Ds[--Os],Ds[Os]=null}var ls=null,kt=null,Ke=!1,Ar=null,ra=!1,wd=Error(i(519));function Mr(t){var a=Error(i(418,""));throw yl(As(a,t)),wd}function Gf(t){var a=t.stateNode,l=t.type,o=t.memoizedProps;switch(a[Jt]=t,a[cs]=o,l){case"dialog":Ie("cancel",a),Ie("close",a);break;case"iframe":case"object":case"embed":Ie("load",a);break;case"video":case"audio":for(l=0;l<ql.length;l++)Ie(ql[l],a);break;case"source":Ie("error",a);break;case"img":case"image":case"link":Ie("error",a),Ie("load",a);break;case"details":Ie("toggle",a);break;case"input":Ie("invalid",a),rf(a,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Ui(a);break;case"select":Ie("invalid",a);break;case"textarea":Ie("invalid",a),lf(a,o.value,o.defaultValue,o.children),Ui(a)}l=o.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||o.suppressHydrationWarning===!0||ig(a.textContent,l)?(o.popover!=null&&(Ie("beforetoggle",a),Ie("toggle",a)),o.onScroll!=null&&Ie("scroll",a),o.onScrollEnd!=null&&Ie("scrollend",a),o.onClick!=null&&(a.onclick=Mo),a=!0):a=!1,a||Mr(t)}function If(t){for(ls=t.return;ls;)switch(ls.tag){case 5:case 13:ra=!1;return;case 27:case 3:ra=!0;return;default:ls=ls.return}}function pl(t){if(t!==ls)return!1;if(!Ke)return If(t),Ke=!0,!1;var a=t.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||$u(t.type,t.memoizedProps)),l=!l),l&&kt&&Mr(t),If(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,a=0;t;){if(t.nodeType===8)if(l=t.data,l==="/$"){if(a===0){kt=Fs(t.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;t=t.nextSibling}kt=null}}else a===27?(a=kt,dr(t.type)?(t=qu,qu=null,kt=t):kt=a):kt=ls?Fs(t.stateNode.nextSibling):null;return!0}function bl(){kt=ls=null,Ke=!1}function Ff(){var t=Ar;return t!==null&&(hs===null?hs=t:hs.push.apply(hs,t),Ar=null),t}function yl(t){Ar===null?Ar=[t]:Ar.push(t)}var Sd=P(null),Dr=null,Sa=null;function Xa(t,a,l){L(Sd,a._currentValue),a._currentValue=l}function Ca(t){t._currentValue=Sd.current,ie(Sd)}function Cd(t,a,l){for(;t!==null;){var o=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,o!==null&&(o.childLanes|=a)):o!==null&&(o.childLanes&a)!==a&&(o.childLanes|=a),t===l)break;t=t.return}}function kd(t,a,l,o){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var h=d.dependencies;if(h!==null){var y=d.child;h=h.firstContext;e:for(;h!==null;){var S=h;h=d;for(var R=0;R<a.length;R++)if(S.context===a[R]){h.lanes|=l,S=h.alternate,S!==null&&(S.lanes|=l),Cd(h.return,l,t),o||(y=null);break e}h=S.next}}else if(d.tag===18){if(y=d.return,y===null)throw Error(i(341));y.lanes|=l,h=y.alternate,h!==null&&(h.lanes|=l),Cd(y,l,t),y=null}else y=d.child;if(y!==null)y.return=d;else for(y=d;y!==null;){if(y===t){y=null;break}if(d=y.sibling,d!==null){d.return=y.return,y=d;break}y=y.return}d=y}}function jl(t,a,l,o){t=null;for(var d=a,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var y=d.alternate;if(y===null)throw Error(i(387));if(y=y.memoizedProps,y!==null){var S=d.type;ps(d.pendingProps.value,y.value)||(t!==null?t.push(S):t=[S])}}else if(d===ke.current){if(y=d.alternate,y===null)throw Error(i(387));y.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Xl):t=[Xl])}d=d.return}t!==null&&kd(a,t,l,o),a.flags|=262144}function Wi(t){for(t=t.firstContext;t!==null;){if(!ps(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Or(t){Dr=t,Sa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return Vf(Dr,t)}function Ji(t,a){return Dr===null&&Or(t),Vf(t,a)}function Vf(t,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Sa===null){if(t===null)throw Error(i(308));Sa=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else Sa=Sa.next=a;return l}var Xj=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(l,o){t.push(o)}};this.abort=function(){a.aborted=!0,t.forEach(function(l){return l()})}},Zj=s.unstable_scheduleCallback,Wj=s.unstable_NormalPriority,Ut={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ed(){return{controller:new Xj,data:new Map,refCount:0}}function vl(t){t.refCount--,t.refCount===0&&Zj(Wj,function(){t.controller.abort()})}var Nl=null,Td=0,bn=0,yn=null;function Jj(t,a){if(Nl===null){var l=Nl=[];Td=0,bn=Au(),yn={status:"pending",value:void 0,then:function(o){l.push(o)}}}return Td++,a.then(Qf,Qf),a}function Qf(){if(--Td===0&&Nl!==null){yn!==null&&(yn.status="fulfilled");var t=Nl;Nl=null,bn=0,yn=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function Kj(t,a){var l=[],o={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return t.then(function(){o.status="fulfilled",o.value=a;for(var d=0;d<l.length;d++)(0,l[d])(a)},function(d){for(o.status="rejected",o.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),o}var Xf=O.S;O.S=function(t,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Jj(t,a),Xf!==null&&Xf(t,a)};var Rr=P(null);function _d(){var t=Rr.current;return t!==null?t:xt.pooledCache}function Ki(t,a){a===null?L(Rr,Rr.current):L(Rr,a.pool)}function Zf(){var t=_d();return t===null?null:{parent:Ut._currentValue,pool:t}}var wl=Error(i(460)),Wf=Error(i(474)),eo=Error(i(542)),Ad={then:function(){}};function Jf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function to(){}function Kf(t,a,l){switch(l=t[l],l===void 0?t.push(a):l!==a&&(a.then(to,to),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,tx(t),t;default:if(typeof a.status=="string")a.then(to,to);else{if(t=xt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=a,t.status="pending",t.then(function(o){if(a.status==="pending"){var d=a;d.status="fulfilled",d.value=o}},function(o){if(a.status==="pending"){var d=a;d.status="rejected",d.reason=o}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,tx(t),t}throw Sl=a,wl}}var Sl=null;function ex(){if(Sl===null)throw Error(i(459));var t=Sl;return Sl=null,t}function tx(t){if(t===wl||t===eo)throw Error(i(483))}var Za=!1;function Md(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dd(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Wa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ja(t,a,l){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(at&2)!==0){var d=o.pending;return d===null?a.next=a:(a.next=d.next,d.next=a),o.pending=a,a=Vi(t),Bf(t,null,l),a}return Fi(t,o,a,l),Vi(t)}function Cl(t,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var o=a.lanes;o&=t.pendingLanes,l|=o,a.lanes=l,Vh(t,l)}}function Od(t,a){var l=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,l===o)){var d=null,h=null;if(l=l.firstBaseUpdate,l!==null){do{var y={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};h===null?d=h=y:h=h.next=y,l=l.next}while(l!==null);h===null?d=h=a:h=h.next=a}else d=h=a;l={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:o.shared,callbacks:o.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=a:t.next=a,l.lastBaseUpdate=a}var Rd=!1;function kl(){if(Rd){var t=yn;if(t!==null)throw t}}function El(t,a,l,o){Rd=!1;var d=t.updateQueue;Za=!1;var h=d.firstBaseUpdate,y=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var R=S,F=R.next;R.next=null,y===null?h=F:y.next=F,y=R;var de=t.alternate;de!==null&&(de=de.updateQueue,S=de.lastBaseUpdate,S!==y&&(S===null?de.firstBaseUpdate=F:S.next=F,de.lastBaseUpdate=R))}if(h!==null){var fe=d.baseState;y=0,de=F=R=null,S=h;do{var X=S.lane&-536870913,Z=X!==S.lane;if(Z?(Ve&X)===X:(o&X)===X){X!==0&&X===bn&&(Rd=!0),de!==null&&(de=de.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ue=t,Oe=S;X=a;var ct=l;switch(Oe.tag){case 1:if(Ue=Oe.payload,typeof Ue=="function"){fe=Ue.call(ct,fe,X);break e}fe=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Oe.payload,X=typeof Ue=="function"?Ue.call(ct,fe,X):Ue,X==null)break e;fe=b({},fe,X);break e;case 2:Za=!0}}X=S.callback,X!==null&&(t.flags|=64,Z&&(t.flags|=8192),Z=d.callbacks,Z===null?d.callbacks=[X]:Z.push(X))}else Z={lane:X,tag:S.tag,payload:S.payload,callback:S.callback,next:null},de===null?(F=de=Z,R=fe):de=de.next=Z,y|=X;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;Z=S,S=Z.next,Z.next=null,d.lastBaseUpdate=Z,d.shared.pending=null}}while(!0);de===null&&(R=fe),d.baseState=R,d.firstBaseUpdate=F,d.lastBaseUpdate=de,h===null&&(d.shared.lanes=0),lr|=y,t.lanes=y,t.memoizedState=fe}}function sx(t,a){if(typeof t!="function")throw Error(i(191,t));t.call(a)}function ax(t,a){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)sx(l[t],a)}var jn=P(null),so=P(0);function rx(t,a){t=Da,L(so,t),L(jn,a),Da=t|a.baseLanes}function Ld(){L(so,Da),L(jn,jn.current)}function Ud(){Da=so.current,ie(jn),ie(so)}var Ka=0,He=null,it=null,Ot=null,ao=!1,vn=!1,Lr=!1,ro=0,Tl=0,Nn=null,ev=0;function _t(){throw Error(i(321))}function zd(t,a){if(a===null)return!1;for(var l=0;l<a.length&&l<t.length;l++)if(!ps(t[l],a[l]))return!1;return!0}function Pd(t,a,l,o,d,h){return Ka=h,He=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,O.H=t===null||t.memoizedState===null?Bx:Hx,Lr=!1,h=l(o,d),Lr=!1,vn&&(h=lx(a,l,o,d)),nx(t),h}function nx(t){O.H=uo;var a=it!==null&&it.next!==null;if(Ka=0,Ot=it=He=null,ao=!1,Tl=0,Nn=null,a)throw Error(i(300));t===null||Yt||(t=t.dependencies,t!==null&&Wi(t)&&(Yt=!0))}function lx(t,a,l,o){He=t;var d=0;do{if(vn&&(Nn=null),Tl=0,vn=!1,25<=d)throw Error(i(301));if(d+=1,Ot=it=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}O.H=iv,h=a(l,o)}while(vn);return h}function tv(){var t=O.H,a=t.useState()[0];return a=typeof a.then=="function"?_l(a):a,t=t.useState()[0],(it!==null?it.memoizedState:null)!==t&&(He.flags|=1024),a}function $d(){var t=ro!==0;return ro=0,t}function Yd(t,a,l){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~l}function Bd(t){if(ao){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}ao=!1}Ka=0,Ot=it=He=null,vn=!1,Tl=ro=0,Nn=null}function us(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?He.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function Rt(){if(it===null){var t=He.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var a=Ot===null?He.memoizedState:Ot.next;if(a!==null)Ot=a,it=t;else{if(t===null)throw He.alternate===null?Error(i(467)):Error(i(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Ot===null?He.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function Hd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(t){var a=Tl;return Tl+=1,Nn===null&&(Nn=[]),t=Kf(Nn,t,a),a=He,(Ot===null?a.memoizedState:Ot.next)===null&&(a=a.alternate,O.H=a===null||a.memoizedState===null?Bx:Hx),t}function no(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _l(t);if(t.$$typeof===M)return Kt(t)}throw Error(i(438,String(t)))}function qd(t){var a=null,l=He.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var o=He.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(a={data:o.data.map(function(d){return d.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Hd(),He.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(t),o=0;o<t;o++)l[o]=re;return a.index++,l}function ka(t,a){return typeof a=="function"?a(t):a}function lo(t){var a=Rt();return Gd(a,it,t)}function Gd(t,a,l){var o=t.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=l;var d=t.baseQueue,h=o.pending;if(h!==null){if(d!==null){var y=d.next;d.next=h.next,h.next=y}a.baseQueue=d=h,o.pending=null}if(h=t.baseState,d===null)t.memoizedState=h;else{a=d.next;var S=y=null,R=null,F=a,de=!1;do{var fe=F.lane&-536870913;if(fe!==F.lane?(Ve&fe)===fe:(Ka&fe)===fe){var X=F.revertLane;if(X===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),fe===bn&&(de=!0);else if((Ka&X)===X){F=F.next,X===bn&&(de=!0);continue}else fe={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},R===null?(S=R=fe,y=h):R=R.next=fe,He.lanes|=X,lr|=X;fe=F.action,Lr&&l(h,fe),h=F.hasEagerState?F.eagerState:l(h,fe)}else X={lane:fe,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},R===null?(S=R=X,y=h):R=R.next=X,He.lanes|=fe,lr|=fe;F=F.next}while(F!==null&&F!==a);if(R===null?y=h:R.next=S,!ps(h,t.memoizedState)&&(Yt=!0,de&&(l=yn,l!==null)))throw l;t.memoizedState=h,t.baseState=y,t.baseQueue=R,o.lastRenderedState=h}return d===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Id(t){var a=Rt(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=t;var o=l.dispatch,d=l.pending,h=a.memoizedState;if(d!==null){l.pending=null;var y=d=d.next;do h=t(h,y.action),y=y.next;while(y!==d);ps(h,a.memoizedState)||(Yt=!0),a.memoizedState=h,a.baseQueue===null&&(a.baseState=h),l.lastRenderedState=h}return[h,o]}function ix(t,a,l){var o=He,d=Rt(),h=Ke;if(h){if(l===void 0)throw Error(i(407));l=l()}else l=a();var y=!ps((it||d).memoizedState,l);y&&(d.memoizedState=l,Yt=!0),d=d.queue;var S=dx.bind(null,o,d,t);if(Al(2048,8,S,[t]),d.getSnapshot!==a||y||Ot!==null&&Ot.memoizedState.tag&1){if(o.flags|=2048,wn(9,io(),cx.bind(null,o,d,l,a),null),xt===null)throw Error(i(349));h||(Ka&124)!==0||ox(o,a,l)}return l}function ox(t,a,l){t.flags|=16384,t={getSnapshot:a,value:l},a=He.updateQueue,a===null?(a=Hd(),He.updateQueue=a,a.stores=[t]):(l=a.stores,l===null?a.stores=[t]:l.push(t))}function cx(t,a,l,o){a.value=l,a.getSnapshot=o,ux(a)&&mx(t)}function dx(t,a,l){return l(function(){ux(a)&&mx(t)})}function ux(t){var a=t.getSnapshot;t=t.value;try{var l=a();return!ps(t,l)}catch{return!0}}function mx(t){var a=fn(t,2);a!==null&&ws(a,t,2)}function Fd(t){var a=us();if(typeof t=="function"){var l=t;if(t=l(),Lr){os(!0);try{l()}finally{os(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:t},a}function hx(t,a,l,o){return t.baseState=l,Gd(t,it,typeof o=="function"?o:ka)}function sv(t,a,l,o,d){if(co(t))throw Error(i(485));if(t=a.action,t!==null){var h={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){h.listeners.push(y)}};O.T!==null?l(!0):h.isTransition=!1,o(h),l=a.pending,l===null?(h.next=a.pending=h,fx(a,h)):(h.next=l.next,a.pending=l.next=h)}}function fx(t,a){var l=a.action,o=a.payload,d=t.state;if(a.isTransition){var h=O.T,y={};O.T=y;try{var S=l(d,o),R=O.S;R!==null&&R(y,S),xx(t,a,S)}catch(F){Vd(t,a,F)}finally{O.T=h}}else try{h=l(d,o),xx(t,a,h)}catch(F){Vd(t,a,F)}}function xx(t,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(o){gx(t,a,o)},function(o){return Vd(t,a,o)}):gx(t,a,l)}function gx(t,a,l){a.status="fulfilled",a.value=l,px(a),t.state=l,a=t.pending,a!==null&&(l=a.next,l===a?t.pending=null:(l=l.next,a.next=l,fx(t,l)))}function Vd(t,a,l){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do a.status="rejected",a.reason=l,px(a),a=a.next;while(a!==o)}t.action=null}function px(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function bx(t,a){return a}function yx(t,a){if(Ke){var l=xt.formState;if(l!==null){e:{var o=He;if(Ke){if(kt){t:{for(var d=kt,h=ra;d.nodeType!==8;){if(!h){d=null;break t}if(d=Fs(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){kt=Fs(d.nextSibling),o=d.data==="F!";break e}}Mr(o)}o=!1}o&&(a=l[0])}}return l=us(),l.memoizedState=l.baseState=a,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bx,lastRenderedState:a},l.queue=o,l=Px.bind(null,He,o),o.dispatch=l,o=Fd(!1),h=Jd.bind(null,He,!1,o.queue),o=us(),d={state:a,dispatch:null,action:t,pending:null},o.queue=d,l=sv.bind(null,He,d,h,l),d.dispatch=l,o.memoizedState=t,[a,l,!1]}function jx(t){var a=Rt();return vx(a,it,t)}function vx(t,a,l){if(a=Gd(t,a,bx)[0],t=lo(ka)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var o=_l(a)}catch(y){throw y===wl?eo:y}else o=a;a=Rt();var d=a.queue,h=d.dispatch;return l!==a.memoizedState&&(He.flags|=2048,wn(9,io(),av.bind(null,d,l),null)),[o,h,t]}function av(t,a){t.action=a}function Nx(t){var a=Rt(),l=it;if(l!==null)return vx(a,l,t);Rt(),a=a.memoizedState,l=Rt();var o=l.queue.dispatch;return l.memoizedState=t,[a,o,!1]}function wn(t,a,l,o){return t={tag:t,create:l,deps:o,inst:a,next:null},a=He.updateQueue,a===null&&(a=Hd(),He.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=t.next=t:(o=l.next,l.next=t,t.next=o,a.lastEffect=t),t}function io(){return{destroy:void 0,resource:void 0}}function wx(){return Rt().memoizedState}function oo(t,a,l,o){var d=us();o=o===void 0?null:o,He.flags|=t,d.memoizedState=wn(1|a,io(),l,o)}function Al(t,a,l,o){var d=Rt();o=o===void 0?null:o;var h=d.memoizedState.inst;it!==null&&o!==null&&zd(o,it.memoizedState.deps)?d.memoizedState=wn(a,h,l,o):(He.flags|=t,d.memoizedState=wn(1|a,h,l,o))}function Sx(t,a){oo(8390656,8,t,a)}function Cx(t,a){Al(2048,8,t,a)}function kx(t,a){return Al(4,2,t,a)}function Ex(t,a){return Al(4,4,t,a)}function Tx(t,a){if(typeof a=="function"){t=t();var l=a(t);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function _x(t,a,l){l=l!=null?l.concat([t]):null,Al(4,4,Tx.bind(null,a,t),l)}function Qd(){}function Ax(t,a){var l=Rt();a=a===void 0?null:a;var o=l.memoizedState;return a!==null&&zd(a,o[1])?o[0]:(l.memoizedState=[t,a],t)}function Mx(t,a){var l=Rt();a=a===void 0?null:a;var o=l.memoizedState;if(a!==null&&zd(a,o[1]))return o[0];if(o=t(),Lr){os(!0);try{t()}finally{os(!1)}}return l.memoizedState=[o,a],o}function Xd(t,a,l){return l===void 0||(Ka&1073741824)!==0?t.memoizedState=a:(t.memoizedState=l,t=R0(),He.lanes|=t,lr|=t,l)}function Dx(t,a,l,o){return ps(l,a)?l:jn.current!==null?(t=Xd(t,l,o),ps(t,a)||(Yt=!0),t):(Ka&42)===0?(Yt=!0,t.memoizedState=l):(t=R0(),He.lanes|=t,lr|=t,a)}function Ox(t,a,l,o,d){var h=U.p;U.p=h!==0&&8>h?h:8;var y=O.T,S={};O.T=S,Jd(t,!1,a,l);try{var R=d(),F=O.S;if(F!==null&&F(S,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var de=Kj(R,o);Ml(t,a,de,Ns(t))}else Ml(t,a,o,Ns(t))}catch(fe){Ml(t,a,{then:function(){},status:"rejected",reason:fe},Ns())}finally{U.p=h,O.T=y}}function rv(){}function Zd(t,a,l,o){if(t.tag!==5)throw Error(i(476));var d=Rx(t).queue;Ox(t,d,a,I,l===null?rv:function(){return Lx(t),l(o)})}function Rx(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:I},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:l},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function Lx(t){var a=Rx(t).next.queue;Ml(t,a,{},Ns())}function Wd(){return Kt(Xl)}function Ux(){return Rt().memoizedState}function zx(){return Rt().memoizedState}function nv(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var l=Ns();t=Wa(l);var o=Ja(a,t,l);o!==null&&(ws(o,a,l),Cl(o,a,l)),a={cache:Ed()},t.payload=a;return}a=a.return}}function lv(t,a,l){var o=Ns();l={lane:o,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},co(t)?$x(a,l):(l=pd(t,a,l,o),l!==null&&(ws(l,t,o),Yx(l,a,o)))}function Px(t,a,l){var o=Ns();Ml(t,a,l,o)}function Ml(t,a,l,o){var d={lane:o,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(co(t))$x(a,d);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=a.lastRenderedReducer,h!==null))try{var y=a.lastRenderedState,S=h(y,l);if(d.hasEagerState=!0,d.eagerState=S,ps(S,y))return Fi(t,a,d,0),xt===null&&Ii(),!1}catch{}finally{}if(l=pd(t,a,d,o),l!==null)return ws(l,t,o),Yx(l,a,o),!0}return!1}function Jd(t,a,l,o){if(o={lane:2,revertLane:Au(),action:o,hasEagerState:!1,eagerState:null,next:null},co(t)){if(a)throw Error(i(479))}else a=pd(t,l,o,2),a!==null&&ws(a,t,2)}function co(t){var a=t.alternate;return t===He||a!==null&&a===He}function $x(t,a){vn=ao=!0;var l=t.pending;l===null?a.next=a:(a.next=l.next,l.next=a),t.pending=a}function Yx(t,a,l){if((l&4194048)!==0){var o=a.lanes;o&=t.pendingLanes,l|=o,a.lanes=l,Vh(t,l)}}var uo={readContext:Kt,use:no,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t},Bx={readContext:Kt,use:no,useCallback:function(t,a){return us().memoizedState=[t,a===void 0?null:a],t},useContext:Kt,useEffect:Sx,useImperativeHandle:function(t,a,l){l=l!=null?l.concat([t]):null,oo(4194308,4,Tx.bind(null,a,t),l)},useLayoutEffect:function(t,a){return oo(4194308,4,t,a)},useInsertionEffect:function(t,a){oo(4,2,t,a)},useMemo:function(t,a){var l=us();a=a===void 0?null:a;var o=t();if(Lr){os(!0);try{t()}finally{os(!1)}}return l.memoizedState=[o,a],o},useReducer:function(t,a,l){var o=us();if(l!==void 0){var d=l(a);if(Lr){os(!0);try{l(a)}finally{os(!1)}}}else d=a;return o.memoizedState=o.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},o.queue=t,t=t.dispatch=lv.bind(null,He,t),[o.memoizedState,t]},useRef:function(t){var a=us();return t={current:t},a.memoizedState=t},useState:function(t){t=Fd(t);var a=t.queue,l=Px.bind(null,He,a);return a.dispatch=l,[t.memoizedState,l]},useDebugValue:Qd,useDeferredValue:function(t,a){var l=us();return Xd(l,t,a)},useTransition:function(){var t=Fd(!1);return t=Ox.bind(null,He,t.queue,!0,!1),us().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,l){var o=He,d=us();if(Ke){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),xt===null)throw Error(i(349));(Ve&124)!==0||ox(o,a,l)}d.memoizedState=l;var h={value:l,getSnapshot:a};return d.queue=h,Sx(dx.bind(null,o,h,t),[t]),o.flags|=2048,wn(9,io(),cx.bind(null,o,h,l,a),null),l},useId:function(){var t=us(),a=xt.identifierPrefix;if(Ke){var l=wa,o=Na;l=(o&~(1<<32-pe(o)-1)).toString(32)+l,a=""+a+"R"+l,l=ro++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=ev++,a=""+a+"r"+l.toString(32)+"";return t.memoizedState=a},useHostTransitionStatus:Wd,useFormState:yx,useActionState:yx,useOptimistic:function(t){var a=us();a.memoizedState=a.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Jd.bind(null,He,!0,l),l.dispatch=a,[t,a]},useMemoCache:qd,useCacheRefresh:function(){return us().memoizedState=nv.bind(null,He)}},Hx={readContext:Kt,use:no,useCallback:Ax,useContext:Kt,useEffect:Cx,useImperativeHandle:_x,useInsertionEffect:kx,useLayoutEffect:Ex,useMemo:Mx,useReducer:lo,useRef:wx,useState:function(){return lo(ka)},useDebugValue:Qd,useDeferredValue:function(t,a){var l=Rt();return Dx(l,it.memoizedState,t,a)},useTransition:function(){var t=lo(ka)[0],a=Rt().memoizedState;return[typeof t=="boolean"?t:_l(t),a]},useSyncExternalStore:ix,useId:Ux,useHostTransitionStatus:Wd,useFormState:jx,useActionState:jx,useOptimistic:function(t,a){var l=Rt();return hx(l,it,t,a)},useMemoCache:qd,useCacheRefresh:zx},iv={readContext:Kt,use:no,useCallback:Ax,useContext:Kt,useEffect:Cx,useImperativeHandle:_x,useInsertionEffect:kx,useLayoutEffect:Ex,useMemo:Mx,useReducer:Id,useRef:wx,useState:function(){return Id(ka)},useDebugValue:Qd,useDeferredValue:function(t,a){var l=Rt();return it===null?Xd(l,t,a):Dx(l,it.memoizedState,t,a)},useTransition:function(){var t=Id(ka)[0],a=Rt().memoizedState;return[typeof t=="boolean"?t:_l(t),a]},useSyncExternalStore:ix,useId:Ux,useHostTransitionStatus:Wd,useFormState:Nx,useActionState:Nx,useOptimistic:function(t,a){var l=Rt();return it!==null?hx(l,it,t,a):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:qd,useCacheRefresh:zx},Sn=null,Dl=0;function mo(t){var a=Dl;return Dl+=1,Sn===null&&(Sn=[]),Kf(Sn,t,a)}function Ol(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function ho(t,a){throw a.$$typeof===j?Error(i(525)):(t=Object.prototype.toString.call(a),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function qx(t){var a=t._init;return a(t._payload)}function Gx(t){function a(H,z){if(t){var G=H.deletions;G===null?(H.deletions=[z],H.flags|=16):G.push(z)}}function l(H,z){if(!t)return null;for(;z!==null;)a(H,z),z=z.sibling;return null}function o(H){for(var z=new Map;H!==null;)H.key!==null?z.set(H.key,H):z.set(H.index,H),H=H.sibling;return z}function d(H,z){return H=va(H,z),H.index=0,H.sibling=null,H}function h(H,z,G){return H.index=G,t?(G=H.alternate,G!==null?(G=G.index,G<z?(H.flags|=67108866,z):G):(H.flags|=67108866,z)):(H.flags|=1048576,z)}function y(H){return t&&H.alternate===null&&(H.flags|=67108866),H}function S(H,z,G,ue){return z===null||z.tag!==6?(z=yd(G,H.mode,ue),z.return=H,z):(z=d(z,G),z.return=H,z)}function R(H,z,G,ue){var Ee=G.type;return Ee===v?de(H,z,G.props.children,ue,G.key):z!==null&&(z.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===q&&qx(Ee)===z.type)?(z=d(z,G.props),Ol(z,G),z.return=H,z):(z=Qi(G.type,G.key,G.props,null,H.mode,ue),Ol(z,G),z.return=H,z)}function F(H,z,G,ue){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=jd(G,H.mode,ue),z.return=H,z):(z=d(z,G.children||[]),z.return=H,z)}function de(H,z,G,ue,Ee){return z===null||z.tag!==7?(z=Er(G,H.mode,ue,Ee),z.return=H,z):(z=d(z,G),z.return=H,z)}function fe(H,z,G){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=yd(""+z,H.mode,G),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case w:return G=Qi(z.type,z.key,z.props,null,H.mode,G),Ol(G,z),G.return=H,G;case E:return z=jd(z,H.mode,G),z.return=H,z;case q:var ue=z._init;return z=ue(z._payload),fe(H,z,G)}if($(z)||ae(z))return z=Er(z,H.mode,G,null),z.return=H,z;if(typeof z.then=="function")return fe(H,mo(z),G);if(z.$$typeof===M)return fe(H,Ji(H,z),G);ho(H,z)}return null}function X(H,z,G,ue){var Ee=z!==null?z.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Ee!==null?null:S(H,z,""+G,ue);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case w:return G.key===Ee?R(H,z,G,ue):null;case E:return G.key===Ee?F(H,z,G,ue):null;case q:return Ee=G._init,G=Ee(G._payload),X(H,z,G,ue)}if($(G)||ae(G))return Ee!==null?null:de(H,z,G,ue,null);if(typeof G.then=="function")return X(H,z,mo(G),ue);if(G.$$typeof===M)return X(H,z,Ji(H,G),ue);ho(H,G)}return null}function Z(H,z,G,ue,Ee){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return H=H.get(G)||null,S(z,H,""+ue,Ee);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case w:return H=H.get(ue.key===null?G:ue.key)||null,R(z,H,ue,Ee);case E:return H=H.get(ue.key===null?G:ue.key)||null,F(z,H,ue,Ee);case q:var qe=ue._init;return ue=qe(ue._payload),Z(H,z,G,ue,Ee)}if($(ue)||ae(ue))return H=H.get(G)||null,de(z,H,ue,Ee,null);if(typeof ue.then=="function")return Z(H,z,G,mo(ue),Ee);if(ue.$$typeof===M)return Z(H,z,G,Ji(z,ue),Ee);ho(z,ue)}return null}function Ue(H,z,G,ue){for(var Ee=null,qe=null,Me=z,Le=z=0,Ht=null;Me!==null&&Le<G.length;Le++){Me.index>Le?(Ht=Me,Me=null):Ht=Me.sibling;var Ze=X(H,Me,G[Le],ue);if(Ze===null){Me===null&&(Me=Ht);break}t&&Me&&Ze.alternate===null&&a(H,Me),z=h(Ze,z,Le),qe===null?Ee=Ze:qe.sibling=Ze,qe=Ze,Me=Ht}if(Le===G.length)return l(H,Me),Ke&&_r(H,Le),Ee;if(Me===null){for(;Le<G.length;Le++)Me=fe(H,G[Le],ue),Me!==null&&(z=h(Me,z,Le),qe===null?Ee=Me:qe.sibling=Me,qe=Me);return Ke&&_r(H,Le),Ee}for(Me=o(Me);Le<G.length;Le++)Ht=Z(Me,H,Le,G[Le],ue),Ht!==null&&(t&&Ht.alternate!==null&&Me.delete(Ht.key===null?Le:Ht.key),z=h(Ht,z,Le),qe===null?Ee=Ht:qe.sibling=Ht,qe=Ht);return t&&Me.forEach(function(xr){return a(H,xr)}),Ke&&_r(H,Le),Ee}function Oe(H,z,G,ue){if(G==null)throw Error(i(151));for(var Ee=null,qe=null,Me=z,Le=z=0,Ht=null,Ze=G.next();Me!==null&&!Ze.done;Le++,Ze=G.next()){Me.index>Le?(Ht=Me,Me=null):Ht=Me.sibling;var xr=X(H,Me,Ze.value,ue);if(xr===null){Me===null&&(Me=Ht);break}t&&Me&&xr.alternate===null&&a(H,Me),z=h(xr,z,Le),qe===null?Ee=xr:qe.sibling=xr,qe=xr,Me=Ht}if(Ze.done)return l(H,Me),Ke&&_r(H,Le),Ee;if(Me===null){for(;!Ze.done;Le++,Ze=G.next())Ze=fe(H,Ze.value,ue),Ze!==null&&(z=h(Ze,z,Le),qe===null?Ee=Ze:qe.sibling=Ze,qe=Ze);return Ke&&_r(H,Le),Ee}for(Me=o(Me);!Ze.done;Le++,Ze=G.next())Ze=Z(Me,H,Le,Ze.value,ue),Ze!==null&&(t&&Ze.alternate!==null&&Me.delete(Ze.key===null?Le:Ze.key),z=h(Ze,z,Le),qe===null?Ee=Ze:qe.sibling=Ze,qe=Ze);return t&&Me.forEach(function(oN){return a(H,oN)}),Ke&&_r(H,Le),Ee}function ct(H,z,G,ue){if(typeof G=="object"&&G!==null&&G.type===v&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case w:e:{for(var Ee=G.key;z!==null;){if(z.key===Ee){if(Ee=G.type,Ee===v){if(z.tag===7){l(H,z.sibling),ue=d(z,G.props.children),ue.return=H,H=ue;break e}}else if(z.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===q&&qx(Ee)===z.type){l(H,z.sibling),ue=d(z,G.props),Ol(ue,G),ue.return=H,H=ue;break e}l(H,z);break}else a(H,z);z=z.sibling}G.type===v?(ue=Er(G.props.children,H.mode,ue,G.key),ue.return=H,H=ue):(ue=Qi(G.type,G.key,G.props,null,H.mode,ue),Ol(ue,G),ue.return=H,H=ue)}return y(H);case E:e:{for(Ee=G.key;z!==null;){if(z.key===Ee)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){l(H,z.sibling),ue=d(z,G.children||[]),ue.return=H,H=ue;break e}else{l(H,z);break}else a(H,z);z=z.sibling}ue=jd(G,H.mode,ue),ue.return=H,H=ue}return y(H);case q:return Ee=G._init,G=Ee(G._payload),ct(H,z,G,ue)}if($(G))return Ue(H,z,G,ue);if(ae(G)){if(Ee=ae(G),typeof Ee!="function")throw Error(i(150));return G=Ee.call(G),Oe(H,z,G,ue)}if(typeof G.then=="function")return ct(H,z,mo(G),ue);if(G.$$typeof===M)return ct(H,z,Ji(H,G),ue);ho(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,z!==null&&z.tag===6?(l(H,z.sibling),ue=d(z,G),ue.return=H,H=ue):(l(H,z),ue=yd(G,H.mode,ue),ue.return=H,H=ue),y(H)):l(H,z)}return function(H,z,G,ue){try{Dl=0;var Ee=ct(H,z,G,ue);return Sn=null,Ee}catch(Me){if(Me===wl||Me===eo)throw Me;var qe=bs(29,Me,null,H.mode);return qe.lanes=ue,qe.return=H,qe}finally{}}}var Cn=Gx(!0),Ix=Gx(!1),Rs=P(null),na=null;function er(t){var a=t.alternate;L(zt,zt.current&1),L(Rs,t),na===null&&(a===null||jn.current!==null||a.memoizedState!==null)&&(na=t)}function Fx(t){if(t.tag===22){if(L(zt,zt.current),L(Rs,t),na===null){var a=t.alternate;a!==null&&a.memoizedState!==null&&(na=t)}}else tr()}function tr(){L(zt,zt.current),L(Rs,Rs.current)}function Ea(t){ie(Rs),na===t&&(na=null),ie(zt)}var zt=P(0);function fo(t){for(var a=t;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Hu(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Kd(t,a,l,o){a=t.memoizedState,l=l(o,a),l=l==null?a:b({},a,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var eu={enqueueSetState:function(t,a,l){t=t._reactInternals;var o=Ns(),d=Wa(o);d.payload=a,l!=null&&(d.callback=l),a=Ja(t,d,o),a!==null&&(ws(a,t,o),Cl(a,t,o))},enqueueReplaceState:function(t,a,l){t=t._reactInternals;var o=Ns(),d=Wa(o);d.tag=1,d.payload=a,l!=null&&(d.callback=l),a=Ja(t,d,o),a!==null&&(ws(a,t,o),Cl(a,t,o))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var l=Ns(),o=Wa(l);o.tag=2,a!=null&&(o.callback=a),a=Ja(t,o,l),a!==null&&(ws(a,t,l),Cl(a,t,l))}};function Vx(t,a,l,o,d,h,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,h,y):a.prototype&&a.prototype.isPureReactComponent?!xl(l,o)||!xl(d,h):!0}function Qx(t,a,l,o){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,o),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,o),a.state!==t&&eu.enqueueReplaceState(a,a.state,null)}function Ur(t,a){var l=a;if("ref"in a){l={};for(var o in a)o!=="ref"&&(l[o]=a[o])}if(t=t.defaultProps){l===a&&(l=b({},l));for(var d in t)l[d]===void 0&&(l[d]=t[d])}return l}var xo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Xx(t){xo(t)}function Zx(t){console.error(t)}function Wx(t){xo(t)}function go(t,a){try{var l=t.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(o){setTimeout(function(){throw o})}}function Jx(t,a,l){try{var o=t.onCaughtError;o(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function tu(t,a,l){return l=Wa(l),l.tag=3,l.payload={element:null},l.callback=function(){go(t,a)},l}function Kx(t){return t=Wa(t),t.tag=3,t}function e0(t,a,l,o){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var h=o.value;t.payload=function(){return d(h)},t.callback=function(){Jx(a,l,o)}}var y=l.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Jx(a,l,o),typeof d!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function ov(t,a,l,o,d){if(l.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(a=l.alternate,a!==null&&jl(a,l,d,!0),l=Rs.current,l!==null){switch(l.tag){case 13:return na===null?Cu():l.alternate===null&&Et===0&&(Et=3),l.flags&=-257,l.flags|=65536,l.lanes=d,o===Ad?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([o]):a.add(o),Eu(t,o,d)),!1;case 22:return l.flags|=65536,o===Ad?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([o])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([o]):l.add(o)),Eu(t,o,d)),!1}throw Error(i(435,l.tag))}return Eu(t,o,d),Cu(),!1}if(Ke)return a=Rs.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=d,o!==wd&&(t=Error(i(422),{cause:o}),yl(As(t,l)))):(o!==wd&&(a=Error(i(423),{cause:o}),yl(As(a,l))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,o=As(o,l),d=tu(t.stateNode,o,d),Od(t,d),Et!==4&&(Et=2)),!1;var h=Error(i(520),{cause:o});if(h=As(h,l),Yl===null?Yl=[h]:Yl.push(h),Et!==4&&(Et=2),a===null)return!0;o=As(o,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,t=d&-d,l.lanes|=t,t=tu(l.stateNode,o,t),Od(l,t),!1;case 1:if(a=l.type,h=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ir===null||!ir.has(h))))return l.flags|=65536,d&=-d,l.lanes|=d,d=Kx(d),e0(d,t,l,o),Od(l,d),!1}l=l.return}while(l!==null);return!1}var t0=Error(i(461)),Yt=!1;function Qt(t,a,l,o){a.child=t===null?Ix(a,null,l,o):Cn(a,t.child,l,o)}function s0(t,a,l,o,d){l=l.render;var h=a.ref;if("ref"in o){var y={};for(var S in o)S!=="ref"&&(y[S]=o[S])}else y=o;return Or(a),o=Pd(t,a,l,y,h,d),S=$d(),t!==null&&!Yt?(Yd(t,a,d),Ta(t,a,d)):(Ke&&S&&vd(a),a.flags|=1,Qt(t,a,o,d),a.child)}function a0(t,a,l,o,d){if(t===null){var h=l.type;return typeof h=="function"&&!bd(h)&&h.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=h,r0(t,a,h,o,d)):(t=Qi(l.type,null,o,a,a.mode,d),t.ref=a.ref,t.return=a,a.child=t)}if(h=t.child,!cu(t,d)){var y=h.memoizedProps;if(l=l.compare,l=l!==null?l:xl,l(y,o)&&t.ref===a.ref)return Ta(t,a,d)}return a.flags|=1,t=va(h,o),t.ref=a.ref,t.return=a,a.child=t}function r0(t,a,l,o,d){if(t!==null){var h=t.memoizedProps;if(xl(h,o)&&t.ref===a.ref)if(Yt=!1,a.pendingProps=o=h,cu(t,d))(t.flags&131072)!==0&&(Yt=!0);else return a.lanes=t.lanes,Ta(t,a,d)}return su(t,a,l,o,d)}function n0(t,a,l){var o=a.pendingProps,d=o.children,h=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((a.flags&128)!==0){if(o=h!==null?h.baseLanes|l:l,t!==null){for(d=a.child=t.child,h=0;d!==null;)h=h|d.lanes|d.childLanes,d=d.sibling;a.childLanes=h&~o}else a.childLanes=0,a.child=null;return l0(t,a,o,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ki(a,h!==null?h.cachePool:null),h!==null?rx(a,h):Ld(),Fx(a);else return a.lanes=a.childLanes=536870912,l0(t,a,h!==null?h.baseLanes|l:l,l)}else h!==null?(Ki(a,h.cachePool),rx(a,h),tr(),a.memoizedState=null):(t!==null&&Ki(a,null),Ld(),tr());return Qt(t,a,d,l),a.child}function l0(t,a,l,o){var d=_d();return d=d===null?null:{parent:Ut._currentValue,pool:d},a.memoizedState={baseLanes:l,cachePool:d},t!==null&&Ki(a,null),Ld(),Fx(a),t!==null&&jl(t,a,o,!0),null}function po(t,a){var l=a.ref;if(l===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(t===null||t.ref!==l)&&(a.flags|=4194816)}}function su(t,a,l,o,d){return Or(a),l=Pd(t,a,l,o,void 0,d),o=$d(),t!==null&&!Yt?(Yd(t,a,d),Ta(t,a,d)):(Ke&&o&&vd(a),a.flags|=1,Qt(t,a,l,d),a.child)}function i0(t,a,l,o,d,h){return Or(a),a.updateQueue=null,l=lx(a,o,l,d),nx(t),o=$d(),t!==null&&!Yt?(Yd(t,a,h),Ta(t,a,h)):(Ke&&o&&vd(a),a.flags|=1,Qt(t,a,l,h),a.child)}function o0(t,a,l,o,d){if(Or(a),a.stateNode===null){var h=xn,y=l.contextType;typeof y=="object"&&y!==null&&(h=Kt(y)),h=new l(o,h),a.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=eu,a.stateNode=h,h._reactInternals=a,h=a.stateNode,h.props=o,h.state=a.memoizedState,h.refs={},Md(a),y=l.contextType,h.context=typeof y=="object"&&y!==null?Kt(y):xn,h.state=a.memoizedState,y=l.getDerivedStateFromProps,typeof y=="function"&&(Kd(a,l,y,o),h.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(y=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),y!==h.state&&eu.enqueueReplaceState(h,h.state,null),El(a,o,h,d),kl(),h.state=a.memoizedState),typeof h.componentDidMount=="function"&&(a.flags|=4194308),o=!0}else if(t===null){h=a.stateNode;var S=a.memoizedProps,R=Ur(l,S);h.props=R;var F=h.context,de=l.contextType;y=xn,typeof de=="object"&&de!==null&&(y=Kt(de));var fe=l.getDerivedStateFromProps;de=typeof fe=="function"||typeof h.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,de||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(S||F!==y)&&Qx(a,h,o,y),Za=!1;var X=a.memoizedState;h.state=X,El(a,o,h,d),kl(),F=a.memoizedState,S||X!==F||Za?(typeof fe=="function"&&(Kd(a,l,fe,o),F=a.memoizedState),(R=Za||Vx(a,l,R,o,X,F,y))?(de||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(a.flags|=4194308)):(typeof h.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=o,a.memoizedState=F),h.props=o,h.state=F,h.context=y,o=R):(typeof h.componentDidMount=="function"&&(a.flags|=4194308),o=!1)}else{h=a.stateNode,Dd(t,a),y=a.memoizedProps,de=Ur(l,y),h.props=de,fe=a.pendingProps,X=h.context,F=l.contextType,R=xn,typeof F=="object"&&F!==null&&(R=Kt(F)),S=l.getDerivedStateFromProps,(F=typeof S=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==fe||X!==R)&&Qx(a,h,o,R),Za=!1,X=a.memoizedState,h.state=X,El(a,o,h,d),kl();var Z=a.memoizedState;y!==fe||X!==Z||Za||t!==null&&t.dependencies!==null&&Wi(t.dependencies)?(typeof S=="function"&&(Kd(a,l,S,o),Z=a.memoizedState),(de=Za||Vx(a,l,de,o,X,Z,R)||t!==null&&t.dependencies!==null&&Wi(t.dependencies))?(F||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,Z,R),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,Z,R)),typeof h.componentDidUpdate=="function"&&(a.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&X===t.memoizedState||(a.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&X===t.memoizedState||(a.flags|=1024),a.memoizedProps=o,a.memoizedState=Z),h.props=o,h.state=Z,h.context=R,o=de):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&X===t.memoizedState||(a.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&X===t.memoizedState||(a.flags|=1024),o=!1)}return h=o,po(t,a),o=(a.flags&128)!==0,h||o?(h=a.stateNode,l=o&&typeof l.getDerivedStateFromError!="function"?null:h.render(),a.flags|=1,t!==null&&o?(a.child=Cn(a,t.child,null,d),a.child=Cn(a,null,l,d)):Qt(t,a,l,d),a.memoizedState=h.state,t=a.child):t=Ta(t,a,d),t}function c0(t,a,l,o){return bl(),a.flags|=256,Qt(t,a,l,o),a.child}var au={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ru(t){return{baseLanes:t,cachePool:Zf()}}function nu(t,a,l){return t=t!==null?t.childLanes&~l:0,a&&(t|=Ls),t}function d0(t,a,l){var o=a.pendingProps,d=!1,h=(a.flags&128)!==0,y;if((y=h)||(y=t!==null&&t.memoizedState===null?!1:(zt.current&2)!==0),y&&(d=!0,a.flags&=-129),y=(a.flags&32)!==0,a.flags&=-33,t===null){if(Ke){if(d?er(a):tr(),Ke){var S=kt,R;if(R=S){e:{for(R=S,S=ra;R.nodeType!==8;){if(!S){S=null;break e}if(R=Fs(R.nextSibling),R===null){S=null;break e}}S=R}S!==null?(a.memoizedState={dehydrated:S,treeContext:Tr!==null?{id:Na,overflow:wa}:null,retryLane:536870912,hydrationErrors:null},R=bs(18,null,null,0),R.stateNode=S,R.return=a,a.child=R,ls=a,kt=null,R=!0):R=!1}R||Mr(a)}if(S=a.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Hu(S)?a.lanes=32:a.lanes=536870912,null;Ea(a)}return S=o.children,o=o.fallback,d?(tr(),d=a.mode,S=bo({mode:"hidden",children:S},d),o=Er(o,d,l,null),S.return=a,o.return=a,S.sibling=o,a.child=S,d=a.child,d.memoizedState=ru(l),d.childLanes=nu(t,y,l),a.memoizedState=au,o):(er(a),lu(a,S))}if(R=t.memoizedState,R!==null&&(S=R.dehydrated,S!==null)){if(h)a.flags&256?(er(a),a.flags&=-257,a=iu(t,a,l)):a.memoizedState!==null?(tr(),a.child=t.child,a.flags|=128,a=null):(tr(),d=o.fallback,S=a.mode,o=bo({mode:"visible",children:o.children},S),d=Er(d,S,l,null),d.flags|=2,o.return=a,d.return=a,o.sibling=d,a.child=o,Cn(a,t.child,null,l),o=a.child,o.memoizedState=ru(l),o.childLanes=nu(t,y,l),a.memoizedState=au,a=d);else if(er(a),Hu(S)){if(y=S.nextSibling&&S.nextSibling.dataset,y)var F=y.dgst;y=F,o=Error(i(419)),o.stack="",o.digest=y,yl({value:o,source:null,stack:null}),a=iu(t,a,l)}else if(Yt||jl(t,a,l,!1),y=(l&t.childLanes)!==0,Yt||y){if(y=xt,y!==null&&(o=l&-l,o=(o&42)!==0?1:qc(o),o=(o&(y.suspendedLanes|l))!==0?0:o,o!==0&&o!==R.retryLane))throw R.retryLane=o,fn(t,o),ws(y,t,o),t0;S.data==="$?"||Cu(),a=iu(t,a,l)}else S.data==="$?"?(a.flags|=192,a.child=t.child,a=null):(t=R.treeContext,kt=Fs(S.nextSibling),ls=a,Ke=!0,Ar=null,ra=!1,t!==null&&(Ds[Os++]=Na,Ds[Os++]=wa,Ds[Os++]=Tr,Na=t.id,wa=t.overflow,Tr=a),a=lu(a,o.children),a.flags|=4096);return a}return d?(tr(),d=o.fallback,S=a.mode,R=t.child,F=R.sibling,o=va(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,F!==null?d=va(F,d):(d=Er(d,S,l,null),d.flags|=2),d.return=a,o.return=a,o.sibling=d,a.child=o,o=d,d=a.child,S=t.child.memoizedState,S===null?S=ru(l):(R=S.cachePool,R!==null?(F=Ut._currentValue,R=R.parent!==F?{parent:F,pool:F}:R):R=Zf(),S={baseLanes:S.baseLanes|l,cachePool:R}),d.memoizedState=S,d.childLanes=nu(t,y,l),a.memoizedState=au,o):(er(a),l=t.child,t=l.sibling,l=va(l,{mode:"visible",children:o.children}),l.return=a,l.sibling=null,t!==null&&(y=a.deletions,y===null?(a.deletions=[t],a.flags|=16):y.push(t)),a.child=l,a.memoizedState=null,l)}function lu(t,a){return a=bo({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function bo(t,a){return t=bs(22,t,null,a),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function iu(t,a,l){return Cn(a,t.child,null,l),t=lu(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function u0(t,a,l){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a),Cd(t.return,a,l)}function ou(t,a,l,o,d){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:o,tail:l,tailMode:d}:(h.isBackwards=a,h.rendering=null,h.renderingStartTime=0,h.last=o,h.tail=l,h.tailMode=d)}function m0(t,a,l){var o=a.pendingProps,d=o.revealOrder,h=o.tail;if(Qt(t,a,o.children,l),o=zt.current,(o&2)!==0)o=o&1|2,a.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&u0(t,l,a);else if(t.tag===19)u0(t,l,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(L(zt,o),d){case"forwards":for(l=a.child,d=null;l!==null;)t=l.alternate,t!==null&&fo(t)===null&&(d=l),l=l.sibling;l=d,l===null?(d=a.child,a.child=null):(d=l.sibling,l.sibling=null),ou(a,!1,d,l,h);break;case"backwards":for(l=null,d=a.child,a.child=null;d!==null;){if(t=d.alternate,t!==null&&fo(t)===null){a.child=d;break}t=d.sibling,d.sibling=l,l=d,d=t}ou(a,!0,l,null,h);break;case"together":ou(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ta(t,a,l){if(t!==null&&(a.dependencies=t.dependencies),lr|=a.lanes,(l&a.childLanes)===0)if(t!==null){if(jl(t,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(i(153));if(a.child!==null){for(t=a.child,l=va(t,t.pendingProps),a.child=l,l.return=a;t.sibling!==null;)t=t.sibling,l=l.sibling=va(t,t.pendingProps),l.return=a;l.sibling=null}return a.child}function cu(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&Wi(t)))}function cv(t,a,l){switch(a.tag){case 3:te(a,a.stateNode.containerInfo),Xa(a,Ut,t.memoizedState.cache),bl();break;case 27:case 5:ve(a);break;case 4:te(a,a.stateNode.containerInfo);break;case 10:Xa(a,a.type,a.memoizedProps.value);break;case 13:var o=a.memoizedState;if(o!==null)return o.dehydrated!==null?(er(a),a.flags|=128,null):(l&a.child.childLanes)!==0?d0(t,a,l):(er(a),t=Ta(t,a,l),t!==null?t.sibling:null);er(a);break;case 19:var d=(t.flags&128)!==0;if(o=(l&a.childLanes)!==0,o||(jl(t,a,l,!1),o=(l&a.childLanes)!==0),d){if(o)return m0(t,a,l);a.flags|=128}if(d=a.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),L(zt,zt.current),o)break;return null;case 22:case 23:return a.lanes=0,n0(t,a,l);case 24:Xa(a,Ut,t.memoizedState.cache)}return Ta(t,a,l)}function h0(t,a,l){if(t!==null)if(t.memoizedProps!==a.pendingProps)Yt=!0;else{if(!cu(t,l)&&(a.flags&128)===0)return Yt=!1,cv(t,a,l);Yt=(t.flags&131072)!==0}else Yt=!1,Ke&&(a.flags&1048576)!==0&&qf(a,Zi,a.index);switch(a.lanes=0,a.tag){case 16:e:{t=a.pendingProps;var o=a.elementType,d=o._init;if(o=d(o._payload),a.type=o,typeof o=="function")bd(o)?(t=Ur(o,t),a.tag=1,a=o0(null,a,o,t,l)):(a.tag=0,a=su(null,a,o,t,l));else{if(o!=null){if(d=o.$$typeof,d===A){a.tag=11,a=s0(null,a,o,t,l);break e}else if(d===Q){a.tag=14,a=a0(null,a,o,t,l);break e}}throw a=J(o)||o,Error(i(306,a,""))}}return a;case 0:return su(t,a,a.type,a.pendingProps,l);case 1:return o=a.type,d=Ur(o,a.pendingProps),o0(t,a,o,d,l);case 3:e:{if(te(a,a.stateNode.containerInfo),t===null)throw Error(i(387));o=a.pendingProps;var h=a.memoizedState;d=h.element,Dd(t,a),El(a,o,null,l);var y=a.memoizedState;if(o=y.cache,Xa(a,Ut,o),o!==h.cache&&kd(a,[Ut],l,!0),kl(),o=y.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:y.cache},a.updateQueue.baseState=h,a.memoizedState=h,a.flags&256){a=c0(t,a,o,l);break e}else if(o!==d){d=As(Error(i(424)),a),yl(d),a=c0(t,a,o,l);break e}else{switch(t=a.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(kt=Fs(t.firstChild),ls=a,Ke=!0,Ar=null,ra=!0,l=Ix(a,null,o,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(bl(),o===d){a=Ta(t,a,l);break e}Qt(t,a,o,l)}a=a.child}return a;case 26:return po(t,a),t===null?(l=pg(a.type,null,a.pendingProps,null))?a.memoizedState=l:Ke||(l=a.type,t=a.pendingProps,o=Do(xe.current).createElement(l),o[Jt]=a,o[cs]=t,Zt(o,l,t),$t(o),a.stateNode=o):a.memoizedState=pg(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return ve(a),t===null&&Ke&&(o=a.stateNode=fg(a.type,a.pendingProps,xe.current),ls=a,ra=!0,d=kt,dr(a.type)?(qu=d,kt=Fs(o.firstChild)):kt=d),Qt(t,a,a.pendingProps.children,l),po(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&Ke&&((d=o=kt)&&(o=zv(o,a.type,a.pendingProps,ra),o!==null?(a.stateNode=o,ls=a,kt=Fs(o.firstChild),ra=!1,d=!0):d=!1),d||Mr(a)),ve(a),d=a.type,h=a.pendingProps,y=t!==null?t.memoizedProps:null,o=h.children,$u(d,h)?o=null:y!==null&&$u(d,y)&&(a.flags|=32),a.memoizedState!==null&&(d=Pd(t,a,tv,null,null,l),Xl._currentValue=d),po(t,a),Qt(t,a,o,l),a.child;case 6:return t===null&&Ke&&((t=l=kt)&&(l=Pv(l,a.pendingProps,ra),l!==null?(a.stateNode=l,ls=a,kt=null,t=!0):t=!1),t||Mr(a)),null;case 13:return d0(t,a,l);case 4:return te(a,a.stateNode.containerInfo),o=a.pendingProps,t===null?a.child=Cn(a,null,o,l):Qt(t,a,o,l),a.child;case 11:return s0(t,a,a.type,a.pendingProps,l);case 7:return Qt(t,a,a.pendingProps,l),a.child;case 8:return Qt(t,a,a.pendingProps.children,l),a.child;case 12:return Qt(t,a,a.pendingProps.children,l),a.child;case 10:return o=a.pendingProps,Xa(a,a.type,o.value),Qt(t,a,o.children,l),a.child;case 9:return d=a.type._context,o=a.pendingProps.children,Or(a),d=Kt(d),o=o(d),a.flags|=1,Qt(t,a,o,l),a.child;case 14:return a0(t,a,a.type,a.pendingProps,l);case 15:return r0(t,a,a.type,a.pendingProps,l);case 19:return m0(t,a,l);case 31:return o=a.pendingProps,l=a.mode,o={mode:o.mode,children:o.children},t===null?(l=bo(o,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=va(t.child,o),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return n0(t,a,l);case 24:return Or(a),o=Kt(Ut),t===null?(d=_d(),d===null&&(d=xt,h=Ed(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=l),d=h),a.memoizedState={parent:o,cache:d},Md(a),Xa(a,Ut,d)):((t.lanes&l)!==0&&(Dd(t,a),El(a,null,null,l),kl()),d=t.memoizedState,h=a.memoizedState,d.parent!==o?(d={parent:o,cache:o},a.memoizedState=d,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=d),Xa(a,Ut,o)):(o=h.cache,Xa(a,Ut,o),o!==d.cache&&kd(a,[Ut],l,!0))),Qt(t,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function _a(t){t.flags|=4}function f0(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ng(a)){if(a=Rs.current,a!==null&&((Ve&4194048)===Ve?na!==null:(Ve&62914560)!==Ve&&(Ve&536870912)===0||a!==na))throw Sl=Ad,Wf;t.flags|=8192}}function yo(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?Ih():536870912,t.lanes|=a,_n|=a)}function Rl(t,a){if(!Ke)switch(t.tailMode){case"hidden":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var o=null;l!==null;)l.alternate!==null&&(o=l),l=l.sibling;o===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function St(t){var a=t.alternate!==null&&t.alternate.child===t.child,l=0,o=0;if(a)for(var d=t.child;d!==null;)l|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)l|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=o,t.childLanes=l,a}function dv(t,a,l){var o=a.pendingProps;switch(Nd(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(a),null;case 1:return St(a),null;case 3:return l=a.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),Ca(Ut),K(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(pl(a)?_a(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Ff())),St(a),null;case 26:return l=a.memoizedState,t===null?(_a(a),l!==null?(St(a),f0(a,l)):(St(a),a.flags&=-16777217)):l?l!==t.memoizedState?(_a(a),St(a),f0(a,l)):(St(a),a.flags&=-16777217):(t.memoizedProps!==o&&_a(a),St(a),a.flags&=-16777217),null;case 27:se(a),l=xe.current;var d=a.type;if(t!==null&&a.stateNode!=null)t.memoizedProps!==o&&_a(a);else{if(!o){if(a.stateNode===null)throw Error(i(166));return St(a),null}t=V.current,pl(a)?Gf(a):(t=fg(d,o,l),a.stateNode=t,_a(a))}return St(a),null;case 5:if(se(a),l=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==o&&_a(a);else{if(!o){if(a.stateNode===null)throw Error(i(166));return St(a),null}if(t=V.current,pl(a))Gf(a);else{switch(d=Do(xe.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?d.createElement("select",{is:o.is}):d.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?d.createElement(l,{is:o.is}):d.createElement(l)}}t[Jt]=a,t[cs]=o;e:for(d=a.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break e;for(;d.sibling===null;){if(d.return===null||d.return===a)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}a.stateNode=t;e:switch(Zt(t,l,o),l){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&_a(a)}}return St(a),a.flags&=-16777217,null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==o&&_a(a);else{if(typeof o!="string"&&a.stateNode===null)throw Error(i(166));if(t=xe.current,pl(a)){if(t=a.stateNode,l=a.memoizedProps,o=null,d=ls,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}t[Jt]=a,t=!!(t.nodeValue===l||o!==null&&o.suppressHydrationWarning===!0||ig(t.nodeValue,l)),t||Mr(a)}else t=Do(t).createTextNode(o),t[Jt]=a,a.stateNode=t}return St(a),null;case 13:if(o=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=pl(a),o!==null&&o.dehydrated!==null){if(t===null){if(!d)throw Error(i(318));if(d=a.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Jt]=a}else bl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;St(a),d=!1}else d=Ff(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return a.flags&256?(Ea(a),a):(Ea(a),null)}if(Ea(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=o!==null,t=t!==null&&t.memoizedState!==null,l){o=a.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool);var h=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==d&&(o.flags|=2048)}return l!==t&&l&&(a.child.flags|=8192),yo(a,a.updateQueue),St(a),null;case 4:return K(),t===null&&Ru(a.stateNode.containerInfo),St(a),null;case 10:return Ca(a.type),St(a),null;case 19:if(ie(zt),d=a.memoizedState,d===null)return St(a),null;if(o=(a.flags&128)!==0,h=d.rendering,h===null)if(o)Rl(d,!1);else{if(Et!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(h=fo(t),h!==null){for(a.flags|=128,Rl(d,!1),t=h.updateQueue,a.updateQueue=t,yo(a,t),a.subtreeFlags=0,t=l,l=a.child;l!==null;)Hf(l,t),l=l.sibling;return L(zt,zt.current&1|2),a.child}t=t.sibling}d.tail!==null&&Re()>No&&(a.flags|=128,o=!0,Rl(d,!1),a.lanes=4194304)}else{if(!o)if(t=fo(h),t!==null){if(a.flags|=128,o=!0,t=t.updateQueue,a.updateQueue=t,yo(a,t),Rl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!Ke)return St(a),null}else 2*Re()-d.renderingStartTime>No&&l!==536870912&&(a.flags|=128,o=!0,Rl(d,!1),a.lanes=4194304);d.isBackwards?(h.sibling=a.child,a.child=h):(t=d.last,t!==null?t.sibling=h:a.child=h,d.last=h)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=Re(),a.sibling=null,t=zt.current,L(zt,o?t&1|2:t&1),a):(St(a),null);case 22:case 23:return Ea(a),Ud(),o=a.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(a.flags|=8192):o&&(a.flags|=8192),o?(l&536870912)!==0&&(a.flags&128)===0&&(St(a),a.subtreeFlags&6&&(a.flags|=8192)):St(a),l=a.updateQueue,l!==null&&yo(a,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==l&&(a.flags|=2048),t!==null&&ie(Rr),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ca(Ut),St(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function uv(t,a){switch(Nd(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return Ca(Ut),K(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return se(a),null;case 13:if(Ea(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(i(340));bl()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return ie(zt),null;case 4:return K(),null;case 10:return Ca(a.type),null;case 22:case 23:return Ea(a),Ud(),t!==null&&ie(Rr),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return Ca(Ut),null;case 25:return null;default:return null}}function x0(t,a){switch(Nd(a),a.tag){case 3:Ca(Ut),K();break;case 26:case 27:case 5:se(a);break;case 4:K();break;case 13:Ea(a);break;case 19:ie(zt);break;case 10:Ca(a.type);break;case 22:case 23:Ea(a),Ud(),t!==null&&ie(Rr);break;case 24:Ca(Ut)}}function Ll(t,a){try{var l=a.updateQueue,o=l!==null?l.lastEffect:null;if(o!==null){var d=o.next;l=d;do{if((l.tag&t)===t){o=void 0;var h=l.create,y=l.inst;o=h(),y.destroy=o}l=l.next}while(l!==d)}}catch(S){ht(a,a.return,S)}}function sr(t,a,l){try{var o=a.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var h=d.next;o=h;do{if((o.tag&t)===t){var y=o.inst,S=y.destroy;if(S!==void 0){y.destroy=void 0,d=a;var R=l,F=S;try{F()}catch(de){ht(d,R,de)}}}o=o.next}while(o!==h)}}catch(de){ht(a,a.return,de)}}function g0(t){var a=t.updateQueue;if(a!==null){var l=t.stateNode;try{ax(a,l)}catch(o){ht(t,t.return,o)}}}function p0(t,a,l){l.props=Ur(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(o){ht(t,a,o)}}function Ul(t,a){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof l=="function"?t.refCleanup=l(o):l.current=o}}catch(d){ht(t,a,d)}}function la(t,a){var l=t.ref,o=t.refCleanup;if(l!==null)if(typeof o=="function")try{o()}catch(d){ht(t,a,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){ht(t,a,d)}else l.current=null}function b0(t){var a=t.type,l=t.memoizedProps,o=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&o.focus();break e;case"img":l.src?o.src=l.src:l.srcSet&&(o.srcset=l.srcSet)}}catch(d){ht(t,t.return,d)}}function du(t,a,l){try{var o=t.stateNode;Dv(o,t.type,l,a),o[cs]=a}catch(d){ht(t,t.return,d)}}function y0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&dr(t.type)||t.tag===4}function uu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||y0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&dr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mu(t,a,l){var o=t.tag;if(o===5||o===6)t=t.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(t),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Mo));else if(o!==4&&(o===27&&dr(t.type)&&(l=t.stateNode,a=null),t=t.child,t!==null))for(mu(t,a,l),t=t.sibling;t!==null;)mu(t,a,l),t=t.sibling}function jo(t,a,l){var o=t.tag;if(o===5||o===6)t=t.stateNode,a?l.insertBefore(t,a):l.appendChild(t);else if(o!==4&&(o===27&&dr(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(jo(t,a,l),t=t.sibling;t!==null;)jo(t,a,l),t=t.sibling}function j0(t){var a=t.stateNode,l=t.memoizedProps;try{for(var o=t.type,d=a.attributes;d.length;)a.removeAttributeNode(d[0]);Zt(a,o,l),a[Jt]=t,a[cs]=l}catch(h){ht(t,t.return,h)}}var Aa=!1,At=!1,hu=!1,v0=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function mv(t,a){if(t=t.containerInfo,zu=Po,t=Df(t),ud(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var o=l.getSelection&&l.getSelection();if(o&&o.rangeCount!==0){l=o.anchorNode;var d=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{l.nodeType,h.nodeType}catch{l=null;break e}var y=0,S=-1,R=-1,F=0,de=0,fe=t,X=null;t:for(;;){for(var Z;fe!==l||d!==0&&fe.nodeType!==3||(S=y+d),fe!==h||o!==0&&fe.nodeType!==3||(R=y+o),fe.nodeType===3&&(y+=fe.nodeValue.length),(Z=fe.firstChild)!==null;)X=fe,fe=Z;for(;;){if(fe===t)break t;if(X===l&&++F===d&&(S=y),X===h&&++de===o&&(R=y),(Z=fe.nextSibling)!==null)break;fe=X,X=fe.parentNode}fe=Z}l=S===-1||R===-1?null:{start:S,end:R}}else l=null}l=l||{start:0,end:0}}else l=null;for(Pu={focusedElem:t,selectionRange:l},Po=!1,Bt=a;Bt!==null;)if(a=Bt,t=a.child,(a.subtreeFlags&1024)!==0&&t!==null)t.return=a,Bt=t;else for(;Bt!==null;){switch(a=Bt,h=a.alternate,t=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,l=a,d=h.memoizedProps,h=h.memoizedState,o=l.stateNode;try{var Ue=Ur(l.type,d,l.elementType===l.type);t=o.getSnapshotBeforeUpdate(Ue,h),o.__reactInternalSnapshotBeforeUpdate=t}catch(Oe){ht(l,l.return,Oe)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,l=t.nodeType,l===9)Bu(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Bu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=a.sibling,t!==null){t.return=a.return,Bt=t;break}Bt=a.return}}function N0(t,a,l){var o=l.flags;switch(l.tag){case 0:case 11:case 15:ar(t,l),o&4&&Ll(5,l);break;case 1:if(ar(t,l),o&4)if(t=l.stateNode,a===null)try{t.componentDidMount()}catch(y){ht(l,l.return,y)}else{var d=Ur(l.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(d,a,t.__reactInternalSnapshotBeforeUpdate)}catch(y){ht(l,l.return,y)}}o&64&&g0(l),o&512&&Ul(l,l.return);break;case 3:if(ar(t,l),o&64&&(t=l.updateQueue,t!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{ax(t,a)}catch(y){ht(l,l.return,y)}}break;case 27:a===null&&o&4&&j0(l);case 26:case 5:ar(t,l),a===null&&o&4&&b0(l),o&512&&Ul(l,l.return);break;case 12:ar(t,l);break;case 13:ar(t,l),o&4&&C0(t,l),o&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=vv.bind(null,l),$v(t,l))));break;case 22:if(o=l.memoizedState!==null||Aa,!o){a=a!==null&&a.memoizedState!==null||At,d=Aa;var h=At;Aa=o,(At=a)&&!h?rr(t,l,(l.subtreeFlags&8772)!==0):ar(t,l),Aa=d,At=h}break;case 30:break;default:ar(t,l)}}function w0(t){var a=t.alternate;a!==null&&(t.alternate=null,w0(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&Fc(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var vt=null,ms=!1;function Ma(t,a,l){for(l=l.child;l!==null;)S0(t,a,l),l=l.sibling}function S0(t,a,l){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(is,l)}catch{}switch(l.tag){case 26:At||la(l,a),Ma(t,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:At||la(l,a);var o=vt,d=ms;dr(l.type)&&(vt=l.stateNode,ms=!1),Ma(t,a,l),Il(l.stateNode),vt=o,ms=d;break;case 5:At||la(l,a);case 6:if(o=vt,d=ms,vt=null,Ma(t,a,l),vt=o,ms=d,vt!==null)if(ms)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(l.stateNode)}catch(h){ht(l,a,h)}else try{vt.removeChild(l.stateNode)}catch(h){ht(l,a,h)}break;case 18:vt!==null&&(ms?(t=vt,mg(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),Kl(t)):mg(vt,l.stateNode));break;case 4:o=vt,d=ms,vt=l.stateNode.containerInfo,ms=!0,Ma(t,a,l),vt=o,ms=d;break;case 0:case 11:case 14:case 15:At||sr(2,l,a),At||sr(4,l,a),Ma(t,a,l);break;case 1:At||(la(l,a),o=l.stateNode,typeof o.componentWillUnmount=="function"&&p0(l,a,o)),Ma(t,a,l);break;case 21:Ma(t,a,l);break;case 22:At=(o=At)||l.memoizedState!==null,Ma(t,a,l),At=o;break;default:Ma(t,a,l)}}function C0(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Kl(t)}catch(l){ht(a,a.return,l)}}function hv(t){switch(t.tag){case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new v0),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new v0),a;default:throw Error(i(435,t.tag))}}function fu(t,a){var l=hv(t);a.forEach(function(o){var d=Nv.bind(null,t,o);l.has(o)||(l.add(o),o.then(d,d))})}function ys(t,a){var l=a.deletions;if(l!==null)for(var o=0;o<l.length;o++){var d=l[o],h=t,y=a,S=y;e:for(;S!==null;){switch(S.tag){case 27:if(dr(S.type)){vt=S.stateNode,ms=!1;break e}break;case 5:vt=S.stateNode,ms=!1;break e;case 3:case 4:vt=S.stateNode.containerInfo,ms=!0;break e}S=S.return}if(vt===null)throw Error(i(160));S0(h,y,d),vt=null,ms=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)k0(a,t),a=a.sibling}var Is=null;function k0(t,a){var l=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ys(a,t),js(t),o&4&&(sr(3,t,t.return),Ll(3,t),sr(5,t,t.return));break;case 1:ys(a,t),js(t),o&512&&(At||l===null||la(l,l.return)),o&64&&Aa&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?o:l.concat(o))));break;case 26:var d=Is;if(ys(a,t),js(t),o&512&&(At||l===null||la(l,l.return)),o&4){var h=l!==null?l.memoizedState:null;if(o=t.memoizedState,l===null)if(o===null)if(t.stateNode===null){e:{o=t.type,l=t.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":h=d.getElementsByTagName("title")[0],(!h||h[ll]||h[Jt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(o),d.head.insertBefore(h,d.querySelector("head > title"))),Zt(h,o,l),h[Jt]=t,$t(h),o=h;break e;case"link":var y=jg("link","href",d).get(o+(l.href||""));if(y){for(var S=0;S<y.length;S++)if(h=y[S],h.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&h.getAttribute("rel")===(l.rel==null?null:l.rel)&&h.getAttribute("title")===(l.title==null?null:l.title)&&h.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){y.splice(S,1);break t}}h=d.createElement(o),Zt(h,o,l),d.head.appendChild(h);break;case"meta":if(y=jg("meta","content",d).get(o+(l.content||""))){for(S=0;S<y.length;S++)if(h=y[S],h.getAttribute("content")===(l.content==null?null:""+l.content)&&h.getAttribute("name")===(l.name==null?null:l.name)&&h.getAttribute("property")===(l.property==null?null:l.property)&&h.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&h.getAttribute("charset")===(l.charSet==null?null:l.charSet)){y.splice(S,1);break t}}h=d.createElement(o),Zt(h,o,l),d.head.appendChild(h);break;default:throw Error(i(468,o))}h[Jt]=t,$t(h),o=h}t.stateNode=o}else vg(d,t.type,t.stateNode);else t.stateNode=yg(d,o,t.memoizedProps);else h!==o?(h===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):h.count--,o===null?vg(d,t.type,t.stateNode):yg(d,o,t.memoizedProps)):o===null&&t.stateNode!==null&&du(t,t.memoizedProps,l.memoizedProps)}break;case 27:ys(a,t),js(t),o&512&&(At||l===null||la(l,l.return)),l!==null&&o&4&&du(t,t.memoizedProps,l.memoizedProps);break;case 5:if(ys(a,t),js(t),o&512&&(At||l===null||la(l,l.return)),t.flags&32){d=t.stateNode;try{ln(d,"")}catch(Z){ht(t,t.return,Z)}}o&4&&t.stateNode!=null&&(d=t.memoizedProps,du(t,d,l!==null?l.memoizedProps:d)),o&1024&&(hu=!0);break;case 6:if(ys(a,t),js(t),o&4){if(t.stateNode===null)throw Error(i(162));o=t.memoizedProps,l=t.stateNode;try{l.nodeValue=o}catch(Z){ht(t,t.return,Z)}}break;case 3:if(Lo=null,d=Is,Is=Oo(a.containerInfo),ys(a,t),Is=d,js(t),o&4&&l!==null&&l.memoizedState.isDehydrated)try{Kl(a.containerInfo)}catch(Z){ht(t,t.return,Z)}hu&&(hu=!1,E0(t));break;case 4:o=Is,Is=Oo(t.stateNode.containerInfo),ys(a,t),js(t),Is=o;break;case 12:ys(a,t),js(t);break;case 13:ys(a,t),js(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ju=Re()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,fu(t,o)));break;case 22:d=t.memoizedState!==null;var R=l!==null&&l.memoizedState!==null,F=Aa,de=At;if(Aa=F||d,At=de||R,ys(a,t),At=de,Aa=F,js(t),o&8192)e:for(a=t.stateNode,a._visibility=d?a._visibility&-2:a._visibility|1,d&&(l===null||R||Aa||At||zr(t)),l=null,a=t;;){if(a.tag===5||a.tag===26){if(l===null){R=l=a;try{if(h=R.stateNode,d)y=h.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{S=R.stateNode;var fe=R.memoizedProps.style,X=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;S.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Z){ht(R,R.return,Z)}}}else if(a.tag===6){if(l===null){R=a;try{R.stateNode.nodeValue=d?"":R.memoizedProps}catch(Z){ht(R,R.return,Z)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}o&4&&(o=t.updateQueue,o!==null&&(l=o.retryQueue,l!==null&&(o.retryQueue=null,fu(t,l))));break;case 19:ys(a,t),js(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,fu(t,o)));break;case 30:break;case 21:break;default:ys(a,t),js(t)}}function js(t){var a=t.flags;if(a&2){try{for(var l,o=t.return;o!==null;){if(y0(o)){l=o;break}o=o.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var d=l.stateNode,h=uu(t);jo(t,h,d);break;case 5:var y=l.stateNode;l.flags&32&&(ln(y,""),l.flags&=-33);var S=uu(t);jo(t,S,y);break;case 3:case 4:var R=l.stateNode.containerInfo,F=uu(t);mu(t,F,R);break;default:throw Error(i(161))}}catch(de){ht(t,t.return,de)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function E0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;E0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function ar(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)N0(t,a.alternate,a),a=a.sibling}function zr(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:sr(4,a,a.return),zr(a);break;case 1:la(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&p0(a,a.return,l),zr(a);break;case 27:Il(a.stateNode);case 26:case 5:la(a,a.return),zr(a);break;case 22:a.memoizedState===null&&zr(a);break;case 30:zr(a);break;default:zr(a)}t=t.sibling}}function rr(t,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var o=a.alternate,d=t,h=a,y=h.flags;switch(h.tag){case 0:case 11:case 15:rr(d,h,l),Ll(4,h);break;case 1:if(rr(d,h,l),o=h,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(F){ht(o,o.return,F)}if(o=h,d=o.updateQueue,d!==null){var S=o.stateNode;try{var R=d.shared.hiddenCallbacks;if(R!==null)for(d.shared.hiddenCallbacks=null,d=0;d<R.length;d++)sx(R[d],S)}catch(F){ht(o,o.return,F)}}l&&y&64&&g0(h),Ul(h,h.return);break;case 27:j0(h);case 26:case 5:rr(d,h,l),l&&o===null&&y&4&&b0(h),Ul(h,h.return);break;case 12:rr(d,h,l);break;case 13:rr(d,h,l),l&&y&4&&C0(d,h);break;case 22:h.memoizedState===null&&rr(d,h,l),Ul(h,h.return);break;case 30:break;default:rr(d,h,l)}a=a.sibling}}function xu(t,a){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&vl(l))}function gu(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&vl(t))}function ia(t,a,l,o){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)T0(t,a,l,o),a=a.sibling}function T0(t,a,l,o){var d=a.flags;switch(a.tag){case 0:case 11:case 15:ia(t,a,l,o),d&2048&&Ll(9,a);break;case 1:ia(t,a,l,o);break;case 3:ia(t,a,l,o),d&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&vl(t)));break;case 12:if(d&2048){ia(t,a,l,o),t=a.stateNode;try{var h=a.memoizedProps,y=h.id,S=h.onPostCommit;typeof S=="function"&&S(y,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){ht(a,a.return,R)}}else ia(t,a,l,o);break;case 13:ia(t,a,l,o);break;case 23:break;case 22:h=a.stateNode,y=a.alternate,a.memoizedState!==null?h._visibility&2?ia(t,a,l,o):zl(t,a):h._visibility&2?ia(t,a,l,o):(h._visibility|=2,kn(t,a,l,o,(a.subtreeFlags&10256)!==0)),d&2048&&xu(y,a);break;case 24:ia(t,a,l,o),d&2048&&gu(a.alternate,a);break;default:ia(t,a,l,o)}}function kn(t,a,l,o,d){for(d=d&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var h=t,y=a,S=l,R=o,F=y.flags;switch(y.tag){case 0:case 11:case 15:kn(h,y,S,R,d),Ll(8,y);break;case 23:break;case 22:var de=y.stateNode;y.memoizedState!==null?de._visibility&2?kn(h,y,S,R,d):zl(h,y):(de._visibility|=2,kn(h,y,S,R,d)),d&&F&2048&&xu(y.alternate,y);break;case 24:kn(h,y,S,R,d),d&&F&2048&&gu(y.alternate,y);break;default:kn(h,y,S,R,d)}a=a.sibling}}function zl(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=t,o=a,d=o.flags;switch(o.tag){case 22:zl(l,o),d&2048&&xu(o.alternate,o);break;case 24:zl(l,o),d&2048&&gu(o.alternate,o);break;default:zl(l,o)}a=a.sibling}}var Pl=8192;function En(t){if(t.subtreeFlags&Pl)for(t=t.child;t!==null;)_0(t),t=t.sibling}function _0(t){switch(t.tag){case 26:En(t),t.flags&Pl&&t.memoizedState!==null&&Jv(Is,t.memoizedState,t.memoizedProps);break;case 5:En(t);break;case 3:case 4:var a=Is;Is=Oo(t.stateNode.containerInfo),En(t),Is=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=Pl,Pl=16777216,En(t),Pl=a):En(t));break;default:En(t)}}function A0(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function $l(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var o=a[l];Bt=o,D0(o,t)}A0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)M0(t),t=t.sibling}function M0(t){switch(t.tag){case 0:case 11:case 15:$l(t),t.flags&2048&&sr(9,t,t.return);break;case 3:$l(t);break;case 12:$l(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,vo(t)):$l(t);break;default:$l(t)}}function vo(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var o=a[l];Bt=o,D0(o,t)}A0(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:sr(8,a,a.return),vo(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,vo(a));break;default:vo(a)}t=t.sibling}}function D0(t,a){for(;Bt!==null;){var l=Bt;switch(l.tag){case 0:case 11:case 15:sr(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var o=l.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:vl(l.memoizedState.cache)}if(o=l.child,o!==null)o.return=l,Bt=o;else e:for(l=t;Bt!==null;){o=Bt;var d=o.sibling,h=o.return;if(w0(o),o===l){Bt=null;break e}if(d!==null){d.return=h,Bt=d;break e}Bt=h}}}var fv={getCacheForType:function(t){var a=Kt(Ut),l=a.data.get(t);return l===void 0&&(l=t(),a.data.set(t,l)),l}},xv=typeof WeakMap=="function"?WeakMap:Map,at=0,xt=null,Ge=null,Ve=0,rt=0,vs=null,nr=!1,Tn=!1,pu=!1,Da=0,Et=0,lr=0,Pr=0,bu=0,Ls=0,_n=0,Yl=null,hs=null,yu=!1,ju=0,No=1/0,wo=null,ir=null,Xt=0,or=null,An=null,Mn=0,vu=0,Nu=null,O0=null,Bl=0,wu=null;function Ns(){if((at&2)!==0&&Ve!==0)return Ve&-Ve;if(O.T!==null){var t=bn;return t!==0?t:Au()}return Qh()}function R0(){Ls===0&&(Ls=(Ve&536870912)===0||Ke?Gh():536870912);var t=Rs.current;return t!==null&&(t.flags|=32),Ls}function ws(t,a,l){(t===xt&&(rt===2||rt===9)||t.cancelPendingCommit!==null)&&(Dn(t,0),cr(t,Ve,Ls,!1)),nl(t,l),((at&2)===0||t!==xt)&&(t===xt&&((at&2)===0&&(Pr|=l),Et===4&&cr(t,Ve,Ls,!1)),oa(t))}function L0(t,a,l){if((at&6)!==0)throw Error(i(327));var o=!l&&(a&124)===0&&(a&t.expiredLanes)===0||rl(t,a),d=o?bv(t,a):ku(t,a,!0),h=o;do{if(d===0){Tn&&!o&&cr(t,a,0,!1);break}else{if(l=t.current.alternate,h&&!gv(l)){d=ku(t,a,!1),h=!1;continue}if(d===2){if(h=a,t.errorRecoveryDisabledLanes&h)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){a=y;e:{var S=t;d=Yl;var R=S.current.memoizedState.isDehydrated;if(R&&(Dn(S,y).flags|=256),y=ku(S,y,!1),y!==2){if(pu&&!R){S.errorRecoveryDisabledLanes|=h,Pr|=h,d=4;break e}h=hs,hs=d,h!==null&&(hs===null?hs=h:hs.push.apply(hs,h))}d=y}if(h=!1,d!==2)continue}}if(d===1){Dn(t,0),cr(t,a,0,!0);break}e:{switch(o=t,h=d,h){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:cr(o,a,Ls,!nr);break e;case 2:hs=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(d=ju+300-Re(),10<d)){if(cr(o,a,Ls,!nr),Fa(o,0,!0)!==0)break e;o.timeoutHandle=dg(U0.bind(null,o,l,hs,wo,yu,a,Ls,Pr,_n,nr,h,2,-0,0),d);break e}U0(o,l,hs,wo,yu,a,Ls,Pr,_n,nr,h,0,-0,0)}}break}while(!0);oa(t)}function U0(t,a,l,o,d,h,y,S,R,F,de,fe,X,Z){if(t.timeoutHandle=-1,fe=a.subtreeFlags,(fe&8192||(fe&16785408)===16785408)&&(Ql={stylesheets:null,count:0,unsuspend:Wv},_0(a),fe=Kv(),fe!==null)){t.cancelPendingCommit=fe(q0.bind(null,t,a,h,l,o,d,y,S,R,de,1,X,Z)),cr(t,h,y,!F);return}q0(t,a,h,l,o,d,y,S,R)}function gv(t){for(var a=t;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var o=0;o<l.length;o++){var d=l[o],h=d.getSnapshot;d=d.value;try{if(!ps(h(),d))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function cr(t,a,l,o){a&=~bu,a&=~Pr,t.suspendedLanes|=a,t.pingedLanes&=~a,o&&(t.warmLanes|=a),o=t.expirationTimes;for(var d=a;0<d;){var h=31-pe(d),y=1<<h;o[h]=-1,d&=~y}l!==0&&Fh(t,l,a)}function So(){return(at&6)===0?(Hl(0),!1):!0}function Su(){if(Ge!==null){if(rt===0)var t=Ge.return;else t=Ge,Sa=Dr=null,Bd(t),Sn=null,Dl=0,t=Ge;for(;t!==null;)x0(t.alternate,t),t=t.return;Ge=null}}function Dn(t,a){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,Rv(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),Su(),xt=t,Ge=l=va(t.current,null),Ve=a,rt=0,vs=null,nr=!1,Tn=rl(t,a),pu=!1,_n=Ls=bu=Pr=lr=Et=0,hs=Yl=null,yu=!1,(a&8)!==0&&(a|=a&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=a;0<o;){var d=31-pe(o),h=1<<d;a|=t[d],o&=~h}return Da=a,Ii(),l}function z0(t,a){He=null,O.H=uo,a===wl||a===eo?(a=ex(),rt=3):a===Wf?(a=ex(),rt=4):rt=a===t0?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,vs=a,Ge===null&&(Et=1,go(t,As(a,t.current)))}function P0(){var t=O.H;return O.H=uo,t===null?uo:t}function $0(){var t=O.A;return O.A=fv,t}function Cu(){Et=4,nr||(Ve&4194048)!==Ve&&Rs.current!==null||(Tn=!0),(lr&134217727)===0&&(Pr&134217727)===0||xt===null||cr(xt,Ve,Ls,!1)}function ku(t,a,l){var o=at;at|=2;var d=P0(),h=$0();(xt!==t||Ve!==a)&&(wo=null,Dn(t,a)),a=!1;var y=Et;e:do try{if(rt!==0&&Ge!==null){var S=Ge,R=vs;switch(rt){case 8:Su(),y=6;break e;case 3:case 2:case 9:case 6:Rs.current===null&&(a=!0);var F=rt;if(rt=0,vs=null,On(t,S,R,F),l&&Tn){y=0;break e}break;default:F=rt,rt=0,vs=null,On(t,S,R,F)}}pv(),y=Et;break}catch(de){z0(t,de)}while(!0);return a&&t.shellSuspendCounter++,Sa=Dr=null,at=o,O.H=d,O.A=h,Ge===null&&(xt=null,Ve=0,Ii()),y}function pv(){for(;Ge!==null;)Y0(Ge)}function bv(t,a){var l=at;at|=2;var o=P0(),d=$0();xt!==t||Ve!==a?(wo=null,No=Re()+500,Dn(t,a)):Tn=rl(t,a);e:do try{if(rt!==0&&Ge!==null){a=Ge;var h=vs;t:switch(rt){case 1:rt=0,vs=null,On(t,a,h,1);break;case 2:case 9:if(Jf(h)){rt=0,vs=null,B0(a);break}a=function(){rt!==2&&rt!==9||xt!==t||(rt=7),oa(t)},h.then(a,a);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Jf(h)?(rt=0,vs=null,B0(a)):(rt=0,vs=null,On(t,a,h,7));break;case 5:var y=null;switch(Ge.tag){case 26:y=Ge.memoizedState;case 5:case 27:var S=Ge;if(!y||Ng(y)){rt=0,vs=null;var R=S.sibling;if(R!==null)Ge=R;else{var F=S.return;F!==null?(Ge=F,Co(F)):Ge=null}break t}}rt=0,vs=null,On(t,a,h,5);break;case 6:rt=0,vs=null,On(t,a,h,6);break;case 8:Su(),Et=6;break e;default:throw Error(i(462))}}yv();break}catch(de){z0(t,de)}while(!0);return Sa=Dr=null,O.H=o,O.A=d,at=l,Ge!==null?0:(xt=null,Ve=0,Ii(),Et)}function yv(){for(;Ge!==null&&!Ne();)Y0(Ge)}function Y0(t){var a=h0(t.alternate,t,Da);t.memoizedProps=t.pendingProps,a===null?Co(t):Ge=a}function B0(t){var a=t,l=a.alternate;switch(a.tag){case 15:case 0:a=i0(l,a,a.pendingProps,a.type,void 0,Ve);break;case 11:a=i0(l,a,a.pendingProps,a.type.render,a.ref,Ve);break;case 5:Bd(a);default:x0(l,a),a=Ge=Hf(a,Da),a=h0(l,a,Da)}t.memoizedProps=t.pendingProps,a===null?Co(t):Ge=a}function On(t,a,l,o){Sa=Dr=null,Bd(a),Sn=null,Dl=0;var d=a.return;try{if(ov(t,d,a,l,Ve)){Et=1,go(t,As(l,t.current)),Ge=null;return}}catch(h){if(d!==null)throw Ge=d,h;Et=1,go(t,As(l,t.current)),Ge=null;return}a.flags&32768?(Ke||o===1?t=!0:Tn||(Ve&536870912)!==0?t=!1:(nr=t=!0,(o===2||o===9||o===3||o===6)&&(o=Rs.current,o!==null&&o.tag===13&&(o.flags|=16384))),H0(a,t)):Co(a)}function Co(t){var a=t;do{if((a.flags&32768)!==0){H0(a,nr);return}t=a.return;var l=dv(a.alternate,a,Da);if(l!==null){Ge=l;return}if(a=a.sibling,a!==null){Ge=a;return}Ge=a=t}while(a!==null);Et===0&&(Et=5)}function H0(t,a){do{var l=uv(t.alternate,t);if(l!==null){l.flags&=32767,Ge=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(t=t.sibling,t!==null)){Ge=t;return}Ge=t=l}while(t!==null);Et=6,Ge=null}function q0(t,a,l,o,d,h,y,S,R){t.cancelPendingCommit=null;do ko();while(Xt!==0);if((at&6)!==0)throw Error(i(327));if(a!==null){if(a===t.current)throw Error(i(177));if(h=a.lanes|a.childLanes,h|=gd,Wy(t,l,h,y,S,R),t===xt&&(Ge=xt=null,Ve=0),An=a,or=t,Mn=l,vu=h,Nu=d,O0=o,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,wv(gt,function(){return Q0(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||o){o=O.T,O.T=null,d=U.p,U.p=2,y=at,at|=4;try{mv(t,a,l)}finally{at=y,U.p=d,O.T=o}}Xt=1,G0(),I0(),F0()}}function G0(){if(Xt===1){Xt=0;var t=or,a=An,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=O.T,O.T=null;var o=U.p;U.p=2;var d=at;at|=4;try{k0(a,t);var h=Pu,y=Df(t.containerInfo),S=h.focusedElem,R=h.selectionRange;if(y!==S&&S&&S.ownerDocument&&Mf(S.ownerDocument.documentElement,S)){if(R!==null&&ud(S)){var F=R.start,de=R.end;if(de===void 0&&(de=F),"selectionStart"in S)S.selectionStart=F,S.selectionEnd=Math.min(de,S.value.length);else{var fe=S.ownerDocument||document,X=fe&&fe.defaultView||window;if(X.getSelection){var Z=X.getSelection(),Ue=S.textContent.length,Oe=Math.min(R.start,Ue),ct=R.end===void 0?Oe:Math.min(R.end,Ue);!Z.extend&&Oe>ct&&(y=ct,ct=Oe,Oe=y);var H=Af(S,Oe),z=Af(S,ct);if(H&&z&&(Z.rangeCount!==1||Z.anchorNode!==H.node||Z.anchorOffset!==H.offset||Z.focusNode!==z.node||Z.focusOffset!==z.offset)){var G=fe.createRange();G.setStart(H.node,H.offset),Z.removeAllRanges(),Oe>ct?(Z.addRange(G),Z.extend(z.node,z.offset)):(G.setEnd(z.node,z.offset),Z.addRange(G))}}}}for(fe=[],Z=S;Z=Z.parentNode;)Z.nodeType===1&&fe.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<fe.length;S++){var ue=fe[S];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Po=!!zu,Pu=zu=null}finally{at=d,U.p=o,O.T=l}}t.current=a,Xt=2}}function I0(){if(Xt===2){Xt=0;var t=or,a=An,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=O.T,O.T=null;var o=U.p;U.p=2;var d=at;at|=4;try{N0(t,a.alternate,a)}finally{at=d,U.p=o,O.T=l}}Xt=3}}function F0(){if(Xt===4||Xt===3){Xt=0,Ce();var t=or,a=An,l=Mn,o=O0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Xt=5:(Xt=0,An=or=null,V0(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(ir=null),Gc(l),a=a.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(is,a,void 0,(a.current.flags&128)===128)}catch{}if(o!==null){a=O.T,d=U.p,U.p=2,O.T=null;try{for(var h=t.onRecoverableError,y=0;y<o.length;y++){var S=o[y];h(S.value,{componentStack:S.stack})}}finally{O.T=a,U.p=d}}(Mn&3)!==0&&ko(),oa(t),d=t.pendingLanes,(l&4194090)!==0&&(d&42)!==0?t===wu?Bl++:(Bl=0,wu=t):Bl=0,Hl(0)}}function V0(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,vl(a)))}function ko(t){return G0(),I0(),F0(),Q0()}function Q0(){if(Xt!==5)return!1;var t=or,a=vu;vu=0;var l=Gc(Mn),o=O.T,d=U.p;try{U.p=32>l?32:l,O.T=null,l=Nu,Nu=null;var h=or,y=Mn;if(Xt=0,An=or=null,Mn=0,(at&6)!==0)throw Error(i(331));var S=at;if(at|=4,M0(h.current),T0(h,h.current,y,l),at=S,Hl(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(is,h)}catch{}return!0}finally{U.p=d,O.T=o,V0(t,a)}}function X0(t,a,l){a=As(l,a),a=tu(t.stateNode,a,2),t=Ja(t,a,2),t!==null&&(nl(t,2),oa(t))}function ht(t,a,l){if(t.tag===3)X0(t,t,l);else for(;a!==null;){if(a.tag===3){X0(a,t,l);break}else if(a.tag===1){var o=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ir===null||!ir.has(o))){t=As(l,t),l=Kx(2),o=Ja(a,l,2),o!==null&&(e0(l,o,a,t),nl(o,2),oa(o));break}}a=a.return}}function Eu(t,a,l){var o=t.pingCache;if(o===null){o=t.pingCache=new xv;var d=new Set;o.set(a,d)}else d=o.get(a),d===void 0&&(d=new Set,o.set(a,d));d.has(l)||(pu=!0,d.add(l),t=jv.bind(null,t,a,l),a.then(t,t))}function jv(t,a,l){var o=t.pingCache;o!==null&&o.delete(a),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,xt===t&&(Ve&l)===l&&(Et===4||Et===3&&(Ve&62914560)===Ve&&300>Re()-ju?(at&2)===0&&Dn(t,0):bu|=l,_n===Ve&&(_n=0)),oa(t)}function Z0(t,a){a===0&&(a=Ih()),t=fn(t,a),t!==null&&(nl(t,a),oa(t))}function vv(t){var a=t.memoizedState,l=0;a!==null&&(l=a.retryLane),Z0(t,l)}function Nv(t,a){var l=0;switch(t.tag){case 13:var o=t.stateNode,d=t.memoizedState;d!==null&&(l=d.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(a),Z0(t,l)}function wv(t,a){return oe(t,a)}var Eo=null,Rn=null,Tu=!1,To=!1,_u=!1,$r=0;function oa(t){t!==Rn&&t.next===null&&(Rn===null?Eo=Rn=t:Rn=Rn.next=t),To=!0,Tu||(Tu=!0,Cv())}function Hl(t,a){if(!_u&&To){_u=!0;do for(var l=!1,o=Eo;o!==null;){if(t!==0){var d=o.pendingLanes;if(d===0)var h=0;else{var y=o.suspendedLanes,S=o.pingedLanes;h=(1<<31-pe(42|t)+1)-1,h&=d&~(y&~S),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(l=!0,eg(o,h))}else h=Ve,h=Fa(o,o===xt?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(h&3)===0||rl(o,h)||(l=!0,eg(o,h));o=o.next}while(l);_u=!1}}function Sv(){W0()}function W0(){To=Tu=!1;var t=0;$r!==0&&(Ov()&&(t=$r),$r=0);for(var a=Re(),l=null,o=Eo;o!==null;){var d=o.next,h=J0(o,a);h===0?(o.next=null,l===null?Eo=d:l.next=d,d===null&&(Rn=l)):(l=o,(t!==0||(h&3)!==0)&&(To=!0)),o=d}Hl(t)}function J0(t,a){for(var l=t.suspendedLanes,o=t.pingedLanes,d=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var y=31-pe(h),S=1<<y,R=d[y];R===-1?((S&l)===0||(S&o)!==0)&&(d[y]=Zy(S,a)):R<=a&&(t.expiredLanes|=S),h&=~S}if(a=xt,l=Ve,l=Fa(t,t===a?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,l===0||t===a&&(rt===2||rt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&W(o),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||rl(t,l)){if(a=l&-l,a===t.callbackPriority)return a;switch(o!==null&&W(o),Gc(l)){case 2:case 8:l=tt;break;case 32:l=gt;break;case 268435456:l=Vt;break;default:l=gt}return o=K0.bind(null,t),l=oe(l,o),t.callbackPriority=a,t.callbackNode=l,a}return o!==null&&o!==null&&W(o),t.callbackPriority=2,t.callbackNode=null,2}function K0(t,a){if(Xt!==0&&Xt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(ko()&&t.callbackNode!==l)return null;var o=Ve;return o=Fa(t,t===xt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(L0(t,o,a),J0(t,Re()),t.callbackNode!=null&&t.callbackNode===l?K0.bind(null,t):null)}function eg(t,a){if(ko())return null;L0(t,a,!0)}function Cv(){Lv(function(){(at&6)!==0?oe(ye,Sv):W0()})}function Au(){return $r===0&&($r=Gh()),$r}function tg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Pi(""+t)}function sg(t,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,t.id&&l.setAttribute("form",t.id),a.parentNode.insertBefore(l,a),t=new FormData(t),l.parentNode.removeChild(l),t}function kv(t,a,l,o,d){if(a==="submit"&&l&&l.stateNode===d){var h=tg((d[cs]||null).action),y=o.submitter;y&&(a=(a=y[cs]||null)?tg(a.formAction):y.getAttribute("formAction"),a!==null&&(h=a,y=null));var S=new Hi("action","action",null,o,d);t.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if($r!==0){var R=y?sg(d,y):new FormData(d);Zd(l,{pending:!0,data:R,method:d.method,action:h},null,R)}}else typeof h=="function"&&(S.preventDefault(),R=y?sg(d,y):new FormData(d),Zd(l,{pending:!0,data:R,method:d.method,action:h},h,R))},currentTarget:d}]})}}for(var Mu=0;Mu<xd.length;Mu++){var Du=xd[Mu],Ev=Du.toLowerCase(),Tv=Du[0].toUpperCase()+Du.slice(1);Gs(Ev,"on"+Tv)}Gs(Lf,"onAnimationEnd"),Gs(Uf,"onAnimationIteration"),Gs(zf,"onAnimationStart"),Gs("dblclick","onDoubleClick"),Gs("focusin","onFocus"),Gs("focusout","onBlur"),Gs(Ij,"onTransitionRun"),Gs(Fj,"onTransitionStart"),Gs(Vj,"onTransitionCancel"),Gs(Pf,"onTransitionEnd"),an("onMouseEnter",["mouseout","mouseover"]),an("onMouseLeave",["mouseout","mouseover"]),an("onPointerEnter",["pointerout","pointerover"]),an("onPointerLeave",["pointerout","pointerover"]),wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wr("onBeforeInput",["compositionend","keypress","textInput","paste"]),wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_v=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function ag(t,a){a=(a&4)!==0;for(var l=0;l<t.length;l++){var o=t[l],d=o.event;o=o.listeners;e:{var h=void 0;if(a)for(var y=o.length-1;0<=y;y--){var S=o[y],R=S.instance,F=S.currentTarget;if(S=S.listener,R!==h&&d.isPropagationStopped())break e;h=S,d.currentTarget=F;try{h(d)}catch(de){xo(de)}d.currentTarget=null,h=R}else for(y=0;y<o.length;y++){if(S=o[y],R=S.instance,F=S.currentTarget,S=S.listener,R!==h&&d.isPropagationStopped())break e;h=S,d.currentTarget=F;try{h(d)}catch(de){xo(de)}d.currentTarget=null,h=R}}}}function Ie(t,a){var l=a[Ic];l===void 0&&(l=a[Ic]=new Set);var o=t+"__bubble";l.has(o)||(rg(a,t,2,!1),l.add(o))}function Ou(t,a,l){var o=0;a&&(o|=4),rg(l,t,o,a)}var _o="_reactListening"+Math.random().toString(36).slice(2);function Ru(t){if(!t[_o]){t[_o]=!0,Zh.forEach(function(l){l!=="selectionchange"&&(_v.has(l)||Ou(l,!1,t),Ou(l,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[_o]||(a[_o]=!0,Ou("selectionchange",!1,a))}}function rg(t,a,l,o){switch(Tg(a)){case 2:var d=sN;break;case 8:d=aN;break;default:d=Qu}l=d.bind(null,a,l,t),d=void 0,!sd||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(d=!0),o?d!==void 0?t.addEventListener(a,l,{capture:!0,passive:d}):t.addEventListener(a,l,!0):d!==void 0?t.addEventListener(a,l,{passive:d}):t.addEventListener(a,l,!1)}function Lu(t,a,l,o,d){var h=o;if((a&1)===0&&(a&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var S=o.stateNode.containerInfo;if(S===d)break;if(y===4)for(y=o.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===d)return;y=y.return}for(;S!==null;){if(y=en(S),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){o=h=y;continue e}S=S.parentNode}}o=o.return}uf(function(){var F=h,de=ed(l),fe=[];e:{var X=$f.get(t);if(X!==void 0){var Z=Hi,Ue=t;switch(t){case"keypress":if(Yi(l)===0)break e;case"keydown":case"keyup":Z=wj;break;case"focusin":Ue="focus",Z=ld;break;case"focusout":Ue="blur",Z=ld;break;case"beforeblur":case"afterblur":Z=ld;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=ff;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=uj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=kj;break;case Lf:case Uf:case zf:Z=fj;break;case Pf:Z=Tj;break;case"scroll":case"scrollend":Z=cj;break;case"wheel":Z=Aj;break;case"copy":case"cut":case"paste":Z=gj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=gf;break;case"toggle":case"beforetoggle":Z=Dj}var Oe=(a&4)!==0,ct=!Oe&&(t==="scroll"||t==="scrollend"),H=Oe?X!==null?X+"Capture":null:X;Oe=[];for(var z=F,G;z!==null;){var ue=z;if(G=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||G===null||H===null||(ue=ol(z,H),ue!=null&&Oe.push(Gl(z,ue,G))),ct)break;z=z.return}0<Oe.length&&(X=new Z(X,Ue,null,l,de),fe.push({event:X,listeners:Oe}))}}if((a&7)===0){e:{if(X=t==="mouseover"||t==="pointerover",Z=t==="mouseout"||t==="pointerout",X&&l!==Kc&&(Ue=l.relatedTarget||l.fromElement)&&(en(Ue)||Ue[Kr]))break e;if((Z||X)&&(X=de.window===de?de:(X=de.ownerDocument)?X.defaultView||X.parentWindow:window,Z?(Ue=l.relatedTarget||l.toElement,Z=F,Ue=Ue?en(Ue):null,Ue!==null&&(ct=u(Ue),Oe=Ue.tag,Ue!==ct||Oe!==5&&Oe!==27&&Oe!==6)&&(Ue=null)):(Z=null,Ue=F),Z!==Ue)){if(Oe=ff,ue="onMouseLeave",H="onMouseEnter",z="mouse",(t==="pointerout"||t==="pointerover")&&(Oe=gf,ue="onPointerLeave",H="onPointerEnter",z="pointer"),ct=Z==null?X:il(Z),G=Ue==null?X:il(Ue),X=new Oe(ue,z+"leave",Z,l,de),X.target=ct,X.relatedTarget=G,ue=null,en(de)===F&&(Oe=new Oe(H,z+"enter",Ue,l,de),Oe.target=G,Oe.relatedTarget=ct,ue=Oe),ct=ue,Z&&Ue)t:{for(Oe=Z,H=Ue,z=0,G=Oe;G;G=Ln(G))z++;for(G=0,ue=H;ue;ue=Ln(ue))G++;for(;0<z-G;)Oe=Ln(Oe),z--;for(;0<G-z;)H=Ln(H),G--;for(;z--;){if(Oe===H||H!==null&&Oe===H.alternate)break t;Oe=Ln(Oe),H=Ln(H)}Oe=null}else Oe=null;Z!==null&&ng(fe,X,Z,Oe,!1),Ue!==null&&ct!==null&&ng(fe,ct,Ue,Oe,!0)}}e:{if(X=F?il(F):window,Z=X.nodeName&&X.nodeName.toLowerCase(),Z==="select"||Z==="input"&&X.type==="file")var Ee=Sf;else if(Nf(X))if(Cf)Ee=Hj;else{Ee=Yj;var qe=$j}else Z=X.nodeName,!Z||Z.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?F&&Jc(F.elementType)&&(Ee=Sf):Ee=Bj;if(Ee&&(Ee=Ee(t,F))){wf(fe,Ee,l,de);break e}qe&&qe(t,X,F),t==="focusout"&&F&&X.type==="number"&&F.memoizedProps.value!=null&&Wc(X,"number",X.value)}switch(qe=F?il(F):window,t){case"focusin":(Nf(qe)||qe.contentEditable==="true")&&(un=qe,md=F,gl=null);break;case"focusout":gl=md=un=null;break;case"mousedown":hd=!0;break;case"contextmenu":case"mouseup":case"dragend":hd=!1,Of(fe,l,de);break;case"selectionchange":if(Gj)break;case"keydown":case"keyup":Of(fe,l,de)}var Me;if(od)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else dn?jf(t,l)&&(Le="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(Le="onCompositionStart");Le&&(pf&&l.locale!=="ko"&&(dn||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&dn&&(Me=mf()):(Qa=de,ad="value"in Qa?Qa.value:Qa.textContent,dn=!0)),qe=Ao(F,Le),0<qe.length&&(Le=new xf(Le,t,null,l,de),fe.push({event:Le,listeners:qe}),Me?Le.data=Me:(Me=vf(l),Me!==null&&(Le.data=Me)))),(Me=Rj?Lj(t,l):Uj(t,l))&&(Le=Ao(F,"onBeforeInput"),0<Le.length&&(qe=new xf("onBeforeInput","beforeinput",null,l,de),fe.push({event:qe,listeners:Le}),qe.data=Me)),kv(fe,t,F,l,de)}ag(fe,a)})}function Gl(t,a,l){return{instance:t,listener:a,currentTarget:l}}function Ao(t,a){for(var l=a+"Capture",o=[];t!==null;){var d=t,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=ol(t,l),d!=null&&o.unshift(Gl(t,d,h)),d=ol(t,a),d!=null&&o.push(Gl(t,d,h))),t.tag===3)return o;t=t.return}return[]}function Ln(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ng(t,a,l,o,d){for(var h=a._reactName,y=[];l!==null&&l!==o;){var S=l,R=S.alternate,F=S.stateNode;if(S=S.tag,R!==null&&R===o)break;S!==5&&S!==26&&S!==27||F===null||(R=F,d?(F=ol(l,h),F!=null&&y.unshift(Gl(l,F,R))):d||(F=ol(l,h),F!=null&&y.push(Gl(l,F,R)))),l=l.return}y.length!==0&&t.push({event:a,listeners:y})}var Av=/\r\n?/g,Mv=/\u0000|\uFFFD/g;function lg(t){return(typeof t=="string"?t:""+t).replace(Av,`
`).replace(Mv,"")}function ig(t,a){return a=lg(a),lg(t)===a}function Mo(){}function ot(t,a,l,o,d,h){switch(l){case"children":typeof o=="string"?a==="body"||a==="textarea"&&o===""||ln(t,o):(typeof o=="number"||typeof o=="bigint")&&a!=="body"&&ln(t,""+o);break;case"className":Li(t,"class",o);break;case"tabIndex":Li(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Li(t,l,o);break;case"style":cf(t,o,h);break;case"data":if(a!=="object"){Li(t,"data",o);break}case"src":case"href":if(o===""&&(a!=="a"||l!=="href")){t.removeAttribute(l);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(l);break}o=Pi(""+o),t.setAttribute(l,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(l==="formAction"?(a!=="input"&&ot(t,a,"name",d.name,d,null),ot(t,a,"formEncType",d.formEncType,d,null),ot(t,a,"formMethod",d.formMethod,d,null),ot(t,a,"formTarget",d.formTarget,d,null)):(ot(t,a,"encType",d.encType,d,null),ot(t,a,"method",d.method,d,null),ot(t,a,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(l);break}o=Pi(""+o),t.setAttribute(l,o);break;case"onClick":o!=null&&(t.onclick=Mo);break;case"onScroll":o!=null&&Ie("scroll",t);break;case"onScrollEnd":o!=null&&Ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(l=o.__html,l!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=l}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}l=Pi(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(l,""+o):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":o===!0?t.setAttribute(l,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(l,o):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(l,o):t.removeAttribute(l);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(l):t.setAttribute(l,o);break;case"popover":Ie("beforetoggle",t),Ie("toggle",t),Ri(t,"popover",o);break;case"xlinkActuate":ya(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ya(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ya(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ya(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ya(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ya(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ya(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ya(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ya(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ri(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ij.get(l)||l,Ri(t,l,o))}}function Uu(t,a,l,o,d,h){switch(l){case"style":cf(t,o,h);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(l=o.__html,l!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=l}}break;case"children":typeof o=="string"?ln(t,o):(typeof o=="number"||typeof o=="bigint")&&ln(t,""+o);break;case"onScroll":o!=null&&Ie("scroll",t);break;case"onScrollEnd":o!=null&&Ie("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Mo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wh.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),a=l.slice(2,d?l.length-7:void 0),h=t[cs]||null,h=h!=null?h[l]:null,typeof h=="function"&&t.removeEventListener(a,h,d),typeof o=="function")){typeof h!="function"&&h!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(a,o,d);break e}l in t?t[l]=o:o===!0?t.setAttribute(l,""):Ri(t,l,o)}}}function Zt(t,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",t),Ie("load",t);var o=!1,d=!1,h;for(h in l)if(l.hasOwnProperty(h)){var y=l[h];if(y!=null)switch(h){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ot(t,a,h,y,l,null)}}d&&ot(t,a,"srcSet",l.srcSet,l,null),o&&ot(t,a,"src",l.src,l,null);return;case"input":Ie("invalid",t);var S=h=y=d=null,R=null,F=null;for(o in l)if(l.hasOwnProperty(o)){var de=l[o];if(de!=null)switch(o){case"name":d=de;break;case"type":y=de;break;case"checked":R=de;break;case"defaultChecked":F=de;break;case"value":h=de;break;case"defaultValue":S=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(i(137,a));break;default:ot(t,a,o,de,l,null)}}rf(t,h,S,R,F,y,d,!1),Ui(t);return;case"select":Ie("invalid",t),o=y=h=null;for(d in l)if(l.hasOwnProperty(d)&&(S=l[d],S!=null))switch(d){case"value":h=S;break;case"defaultValue":y=S;break;case"multiple":o=S;default:ot(t,a,d,S,l,null)}a=h,l=y,t.multiple=!!o,a!=null?nn(t,!!o,a,!1):l!=null&&nn(t,!!o,l,!0);return;case"textarea":Ie("invalid",t),h=d=o=null;for(y in l)if(l.hasOwnProperty(y)&&(S=l[y],S!=null))switch(y){case"value":o=S;break;case"defaultValue":d=S;break;case"children":h=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:ot(t,a,y,S,l,null)}lf(t,o,d,h),Ui(t);return;case"option":for(R in l)if(l.hasOwnProperty(R)&&(o=l[R],o!=null))switch(R){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ot(t,a,R,o,l,null)}return;case"dialog":Ie("beforetoggle",t),Ie("toggle",t),Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":Ie("load",t);break;case"video":case"audio":for(o=0;o<ql.length;o++)Ie(ql[o],t);break;case"image":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"embed":case"source":case"link":Ie("error",t),Ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in l)if(l.hasOwnProperty(F)&&(o=l[F],o!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ot(t,a,F,o,l,null)}return;default:if(Jc(a)){for(de in l)l.hasOwnProperty(de)&&(o=l[de],o!==void 0&&Uu(t,a,de,o,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(o=l[S],o!=null&&ot(t,a,S,o,l,null))}function Dv(t,a,l,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,y=null,S=null,R=null,F=null,de=null;for(Z in l){var fe=l[Z];if(l.hasOwnProperty(Z)&&fe!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":R=fe;default:o.hasOwnProperty(Z)||ot(t,a,Z,null,o,fe)}}for(var X in o){var Z=o[X];if(fe=l[X],o.hasOwnProperty(X)&&(Z!=null||fe!=null))switch(X){case"type":h=Z;break;case"name":d=Z;break;case"checked":F=Z;break;case"defaultChecked":de=Z;break;case"value":y=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:Z!==fe&&ot(t,a,X,Z,o,fe)}}Zc(t,y,S,R,F,de,h,d);return;case"select":Z=y=S=X=null;for(h in l)if(R=l[h],l.hasOwnProperty(h)&&R!=null)switch(h){case"value":break;case"multiple":Z=R;default:o.hasOwnProperty(h)||ot(t,a,h,null,o,R)}for(d in o)if(h=o[d],R=l[d],o.hasOwnProperty(d)&&(h!=null||R!=null))switch(d){case"value":X=h;break;case"defaultValue":S=h;break;case"multiple":y=h;default:h!==R&&ot(t,a,d,h,o,R)}a=S,l=y,o=Z,X!=null?nn(t,!!l,X,!1):!!o!=!!l&&(a!=null?nn(t,!!l,a,!0):nn(t,!!l,l?[]:"",!1));return;case"textarea":Z=X=null;for(S in l)if(d=l[S],l.hasOwnProperty(S)&&d!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ot(t,a,S,null,o,d)}for(y in o)if(d=o[y],h=l[y],o.hasOwnProperty(y)&&(d!=null||h!=null))switch(y){case"value":X=d;break;case"defaultValue":Z=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==h&&ot(t,a,y,d,o,h)}nf(t,X,Z);return;case"option":for(var Ue in l)if(X=l[Ue],l.hasOwnProperty(Ue)&&X!=null&&!o.hasOwnProperty(Ue))switch(Ue){case"selected":t.selected=!1;break;default:ot(t,a,Ue,null,o,X)}for(R in o)if(X=o[R],Z=l[R],o.hasOwnProperty(R)&&X!==Z&&(X!=null||Z!=null))switch(R){case"selected":t.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:ot(t,a,R,X,o,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in l)X=l[Oe],l.hasOwnProperty(Oe)&&X!=null&&!o.hasOwnProperty(Oe)&&ot(t,a,Oe,null,o,X);for(F in o)if(X=o[F],Z=l[F],o.hasOwnProperty(F)&&X!==Z&&(X!=null||Z!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,a));break;default:ot(t,a,F,X,o,Z)}return;default:if(Jc(a)){for(var ct in l)X=l[ct],l.hasOwnProperty(ct)&&X!==void 0&&!o.hasOwnProperty(ct)&&Uu(t,a,ct,void 0,o,X);for(de in o)X=o[de],Z=l[de],!o.hasOwnProperty(de)||X===Z||X===void 0&&Z===void 0||Uu(t,a,de,X,o,Z);return}}for(var H in l)X=l[H],l.hasOwnProperty(H)&&X!=null&&!o.hasOwnProperty(H)&&ot(t,a,H,null,o,X);for(fe in o)X=o[fe],Z=l[fe],!o.hasOwnProperty(fe)||X===Z||X==null&&Z==null||ot(t,a,fe,X,o,Z)}var zu=null,Pu=null;function Do(t){return t.nodeType===9?t:t.ownerDocument}function og(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cg(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function $u(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Yu=null;function Ov(){var t=window.event;return t&&t.type==="popstate"?t===Yu?!1:(Yu=t,!0):(Yu=null,!1)}var dg=typeof setTimeout=="function"?setTimeout:void 0,Rv=typeof clearTimeout=="function"?clearTimeout:void 0,ug=typeof Promise=="function"?Promise:void 0,Lv=typeof queueMicrotask=="function"?queueMicrotask:typeof ug<"u"?function(t){return ug.resolve(null).then(t).catch(Uv)}:dg;function Uv(t){setTimeout(function(){throw t})}function dr(t){return t==="head"}function mg(t,a){var l=a,o=0,d=0;do{var h=l.nextSibling;if(t.removeChild(l),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(0<o&&8>o){l=o;var y=t.ownerDocument;if(l&1&&Il(y.documentElement),l&2&&Il(y.body),l&4)for(l=y.head,Il(l),y=l.firstChild;y;){var S=y.nextSibling,R=y.nodeName;y[ll]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=S}}if(d===0){t.removeChild(h),Kl(a);return}d--}else l==="$"||l==="$?"||l==="$!"?d++:o=l.charCodeAt(0)-48;else o=0;l=h}while(l);Kl(a)}function Bu(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Bu(l),Fc(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function zv(t,a,l,o){for(;t.nodeType===1;){var d=l;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ll])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Fs(t.nextSibling),t===null)break}return null}function Pv(t,a,l){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=Fs(t.nextSibling),t===null))return null;return t}function Hu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function $v(t,a){var l=t.ownerDocument;if(t.data!=="$?"||l.readyState==="complete")a();else{var o=function(){a(),l.removeEventListener("DOMContentLoaded",o)};l.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Fs(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return t}var qu=null;function hg(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return t;a--}else l==="/$"&&a++}t=t.previousSibling}return null}function fg(t,a,l){switch(a=Do(l),t){case"html":if(t=a.documentElement,!t)throw Error(i(452));return t;case"head":if(t=a.head,!t)throw Error(i(453));return t;case"body":if(t=a.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Il(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Fc(t)}var Us=new Map,xg=new Set;function Oo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Oa=U.d;U.d={f:Yv,r:Bv,D:Hv,C:qv,L:Gv,m:Iv,X:Vv,S:Fv,M:Qv};function Yv(){var t=Oa.f(),a=So();return t||a}function Bv(t){var a=tn(t);a!==null&&a.tag===5&&a.type==="form"?Lx(a):Oa.r(t)}var Un=typeof document>"u"?null:document;function gg(t,a,l){var o=Un;if(o&&typeof a=="string"&&a){var d=_s(a);d='link[rel="'+t+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),xg.has(d)||(xg.add(d),t={rel:t,crossOrigin:l,href:a},o.querySelector(d)===null&&(a=o.createElement("link"),Zt(a,"link",t),$t(a),o.head.appendChild(a)))}}function Hv(t){Oa.D(t),gg("dns-prefetch",t,null)}function qv(t,a){Oa.C(t,a),gg("preconnect",t,a)}function Gv(t,a,l){Oa.L(t,a,l);var o=Un;if(o&&t&&a){var d='link[rel="preload"][as="'+_s(a)+'"]';a==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+_s(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+_s(l.imageSizes)+'"]')):d+='[href="'+_s(t)+'"]';var h=d;switch(a){case"style":h=zn(t);break;case"script":h=Pn(t)}Us.has(h)||(t=b({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:t,as:a},l),Us.set(h,t),o.querySelector(d)!==null||a==="style"&&o.querySelector(Fl(h))||a==="script"&&o.querySelector(Vl(h))||(a=o.createElement("link"),Zt(a,"link",t),$t(a),o.head.appendChild(a)))}}function Iv(t,a){Oa.m(t,a);var l=Un;if(l&&t){var o=a&&typeof a.as=="string"?a.as:"script",d='link[rel="modulepreload"][as="'+_s(o)+'"][href="'+_s(t)+'"]',h=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Pn(t)}if(!Us.has(h)&&(t=b({rel:"modulepreload",href:t},a),Us.set(h,t),l.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Vl(h)))return}o=l.createElement("link"),Zt(o,"link",t),$t(o),l.head.appendChild(o)}}}function Fv(t,a,l){Oa.S(t,a,l);var o=Un;if(o&&t){var d=sn(o).hoistableStyles,h=zn(t);a=a||"default";var y=d.get(h);if(!y){var S={loading:0,preload:null};if(y=o.querySelector(Fl(h)))S.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":a},l),(l=Us.get(h))&&Gu(t,l);var R=y=o.createElement("link");$t(R),Zt(R,"link",t),R._p=new Promise(function(F,de){R.onload=F,R.onerror=de}),R.addEventListener("load",function(){S.loading|=1}),R.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Ro(y,a,o)}y={type:"stylesheet",instance:y,count:1,state:S},d.set(h,y)}}}function Vv(t,a){Oa.X(t,a);var l=Un;if(l&&t){var o=sn(l).hoistableScripts,d=Pn(t),h=o.get(d);h||(h=l.querySelector(Vl(d)),h||(t=b({src:t,async:!0},a),(a=Us.get(d))&&Iu(t,a),h=l.createElement("script"),$t(h),Zt(h,"link",t),l.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(d,h))}}function Qv(t,a){Oa.M(t,a);var l=Un;if(l&&t){var o=sn(l).hoistableScripts,d=Pn(t),h=o.get(d);h||(h=l.querySelector(Vl(d)),h||(t=b({src:t,async:!0,type:"module"},a),(a=Us.get(d))&&Iu(t,a),h=l.createElement("script"),$t(h),Zt(h,"link",t),l.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(d,h))}}function pg(t,a,l,o){var d=(d=xe.current)?Oo(d):null;if(!d)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=zn(l.href),l=sn(d).hoistableStyles,o=l.get(a),o||(o={type:"style",instance:null,count:0,state:null},l.set(a,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=zn(l.href);var h=sn(d).hoistableStyles,y=h.get(t);if(y||(d=d.ownerDocument||d,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,y),(h=d.querySelector(Fl(t)))&&!h._p&&(y.instance=h,y.state.loading=5),Us.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Us.set(t,l),h||Xv(d,t,l,y.state))),a&&o===null)throw Error(i(528,""));return y}if(a&&o!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Pn(l),l=sn(d).hoistableScripts,o=l.get(a),o||(o={type:"script",instance:null,count:0,state:null},l.set(a,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function zn(t){return'href="'+_s(t)+'"'}function Fl(t){return'link[rel="stylesheet"]['+t+"]"}function bg(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function Xv(t,a,l,o){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?o.loading=1:(a=t.createElement("link"),o.preload=a,a.addEventListener("load",function(){return o.loading|=1}),a.addEventListener("error",function(){return o.loading|=2}),Zt(a,"link",l),$t(a),t.head.appendChild(a))}function Pn(t){return'[src="'+_s(t)+'"]'}function Vl(t){return"script[async]"+t}function yg(t,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var o=t.querySelector('style[data-href~="'+_s(l.href)+'"]');if(o)return a.instance=o,$t(o),o;var d=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),$t(o),Zt(o,"style",d),Ro(o,l.precedence,t),a.instance=o;case"stylesheet":d=zn(l.href);var h=t.querySelector(Fl(d));if(h)return a.state.loading|=4,a.instance=h,$t(h),h;o=bg(l),(d=Us.get(d))&&Gu(o,d),h=(t.ownerDocument||t).createElement("link"),$t(h);var y=h;return y._p=new Promise(function(S,R){y.onload=S,y.onerror=R}),Zt(h,"link",o),a.state.loading|=4,Ro(h,l.precedence,t),a.instance=h;case"script":return h=Pn(l.src),(d=t.querySelector(Vl(h)))?(a.instance=d,$t(d),d):(o=l,(d=Us.get(h))&&(o=b({},l),Iu(o,d)),t=t.ownerDocument||t,d=t.createElement("script"),$t(d),Zt(d,"link",o),t.head.appendChild(d),a.instance=d);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(o=a.instance,a.state.loading|=4,Ro(o,l.precedence,t));return a.instance}function Ro(t,a,l){for(var o=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,h=d,y=0;y<o.length;y++){var S=o[y];if(S.dataset.precedence===a)h=S;else if(h!==d)break}h?h.parentNode.insertBefore(t,h.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(t,a.firstChild))}function Gu(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function Iu(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var Lo=null;function jg(t,a,l){if(Lo===null){var o=new Map,d=Lo=new Map;d.set(l,o)}else d=Lo,o=d.get(l),o||(o=new Map,d.set(l,o));if(o.has(t))return o;for(o.set(t,null),l=l.getElementsByTagName(t),d=0;d<l.length;d++){var h=l[d];if(!(h[ll]||h[Jt]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var y=h.getAttribute(a)||"";y=t+y;var S=o.get(y);S?S.push(h):o.set(y,[h])}}return o}function vg(t,a,l){t=t.ownerDocument||t,t.head.insertBefore(l,a==="title"?t.querySelector("head > title"):null)}function Zv(t,a,l){if(l===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return t=a.disabled,typeof a.precedence=="string"&&t==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Ng(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ql=null;function Wv(){}function Jv(t,a,l){if(Ql===null)throw Error(i(475));var o=Ql;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=zn(l.href),h=t.querySelector(Fl(d));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=Uo.bind(o),t.then(o,o)),a.state.loading|=4,a.instance=h,$t(h);return}h=t.ownerDocument||t,l=bg(l),(d=Us.get(d))&&Gu(l,d),h=h.createElement("link"),$t(h);var y=h;y._p=new Promise(function(S,R){y.onload=S,y.onerror=R}),Zt(h,"link",l),a.instance=h}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(o.count++,a=Uo.bind(o),t.addEventListener("load",a),t.addEventListener("error",a))}}function Kv(){if(Ql===null)throw Error(i(475));var t=Ql;return t.stylesheets&&t.count===0&&Fu(t,t.stylesheets),0<t.count?function(a){var l=setTimeout(function(){if(t.stylesheets&&Fu(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l)}}:null}function Uo(){if(this.count--,this.count===0){if(this.stylesheets)Fu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var zo=null;function Fu(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,zo=new Map,a.forEach(eN,t),zo=null,Uo.call(t))}function eN(t,a){if(!(a.state.loading&4)){var l=zo.get(t);if(l)var o=l.get(null);else{l=new Map,zo.set(t,l);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var y=d[h];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(l.set(y.dataset.precedence,y),o=y)}o&&l.set(null,o)}d=a.instance,y=d.getAttribute("data-precedence"),h=l.get(y)||o,h===o&&l.set(null,d),l.set(y,d),this.count++,o=Uo.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),h?h.parentNode.insertBefore(d,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),a.state.loading|=4}}var Xl={$$typeof:M,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function tN(t,a,l,o,d,h,y,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hc(0),this.hiddenUpdates=Hc(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function wg(t,a,l,o,d,h,y,S,R,F,de,fe){return t=new tN(t,a,l,y,S,R,F,fe),a=1,h===!0&&(a|=24),h=bs(3,null,null,a),t.current=h,h.stateNode=t,a=Ed(),a.refCount++,t.pooledCache=a,a.refCount++,h.memoizedState={element:o,isDehydrated:l,cache:a},Md(h),t}function Sg(t){return t?(t=xn,t):xn}function Cg(t,a,l,o,d,h){d=Sg(d),o.context===null?o.context=d:o.pendingContext=d,o=Wa(a),o.payload={element:l},h=h===void 0?null:h,h!==null&&(o.callback=h),l=Ja(t,o,a),l!==null&&(ws(l,t,a),Cl(l,t,a))}function kg(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<a?l:a}}function Vu(t,a){kg(t,a),(t=t.alternate)&&kg(t,a)}function Eg(t){if(t.tag===13){var a=fn(t,67108864);a!==null&&ws(a,t,67108864),Vu(t,67108864)}}var Po=!0;function sN(t,a,l,o){var d=O.T;O.T=null;var h=U.p;try{U.p=2,Qu(t,a,l,o)}finally{U.p=h,O.T=d}}function aN(t,a,l,o){var d=O.T;O.T=null;var h=U.p;try{U.p=8,Qu(t,a,l,o)}finally{U.p=h,O.T=d}}function Qu(t,a,l,o){if(Po){var d=Xu(o);if(d===null)Lu(t,a,o,$o,l),_g(t,o);else if(nN(d,t,a,l,o))o.stopPropagation();else if(_g(t,o),a&4&&-1<rN.indexOf(t)){for(;d!==null;){var h=tn(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var y=bt(h.pendingLanes);if(y!==0){var S=h;for(S.pendingLanes|=2,S.entangledLanes|=2;y;){var R=1<<31-pe(y);S.entanglements[1]|=R,y&=~R}oa(h),(at&6)===0&&(No=Re()+500,Hl(0))}}break;case 13:S=fn(h,2),S!==null&&ws(S,h,2),So(),Vu(h,2)}if(h=Xu(o),h===null&&Lu(t,a,o,$o,l),h===d)break;d=h}d!==null&&o.stopPropagation()}else Lu(t,a,o,null,l)}}function Xu(t){return t=ed(t),Zu(t)}var $o=null;function Zu(t){if($o=null,t=en(t),t!==null){var a=u(t);if(a===null)t=null;else{var l=a.tag;if(l===13){if(t=m(a),t!==null)return t;t=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return $o=t,null}function Tg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(he()){case ye:return 2;case tt:return 8;case gt:case mt:return 32;case Vt:return 268435456;default:return 32}default:return 32}}var Wu=!1,ur=null,mr=null,hr=null,Zl=new Map,Wl=new Map,fr=[],rN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _g(t,a){switch(t){case"focusin":case"focusout":ur=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":Zl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(a.pointerId)}}function Jl(t,a,l,o,d,h){return t===null||t.nativeEvent!==h?(t={blockedOn:a,domEventName:l,eventSystemFlags:o,nativeEvent:h,targetContainers:[d]},a!==null&&(a=tn(a),a!==null&&Eg(a)),t):(t.eventSystemFlags|=o,a=t.targetContainers,d!==null&&a.indexOf(d)===-1&&a.push(d),t)}function nN(t,a,l,o,d){switch(a){case"focusin":return ur=Jl(ur,t,a,l,o,d),!0;case"dragenter":return mr=Jl(mr,t,a,l,o,d),!0;case"mouseover":return hr=Jl(hr,t,a,l,o,d),!0;case"pointerover":var h=d.pointerId;return Zl.set(h,Jl(Zl.get(h)||null,t,a,l,o,d)),!0;case"gotpointercapture":return h=d.pointerId,Wl.set(h,Jl(Wl.get(h)||null,t,a,l,o,d)),!0}return!1}function Ag(t){var a=en(t.target);if(a!==null){var l=u(a);if(l!==null){if(a=l.tag,a===13){if(a=m(l),a!==null){t.blockedOn=a,Jy(t.priority,function(){if(l.tag===13){var o=Ns();o=qc(o);var d=fn(l,o);d!==null&&ws(d,l,o),Vu(l,o)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yo(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var l=Xu(t.nativeEvent);if(l===null){l=t.nativeEvent;var o=new l.constructor(l.type,l);Kc=o,l.target.dispatchEvent(o),Kc=null}else return a=tn(l),a!==null&&Eg(a),t.blockedOn=l,!1;a.shift()}return!0}function Mg(t,a,l){Yo(t)&&l.delete(a)}function lN(){Wu=!1,ur!==null&&Yo(ur)&&(ur=null),mr!==null&&Yo(mr)&&(mr=null),hr!==null&&Yo(hr)&&(hr=null),Zl.forEach(Mg),Wl.forEach(Mg)}function Bo(t,a){t.blockedOn===a&&(t.blockedOn=null,Wu||(Wu=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,lN)))}var Ho=null;function Dg(t){Ho!==t&&(Ho=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ho===t&&(Ho=null);for(var a=0;a<t.length;a+=3){var l=t[a],o=t[a+1],d=t[a+2];if(typeof o!="function"){if(Zu(o||l)===null)continue;break}var h=tn(l);h!==null&&(t.splice(a,3),a-=3,Zd(h,{pending:!0,data:d,method:l.method,action:o},o,d))}}))}function Kl(t){function a(R){return Bo(R,t)}ur!==null&&Bo(ur,t),mr!==null&&Bo(mr,t),hr!==null&&Bo(hr,t),Zl.forEach(a),Wl.forEach(a);for(var l=0;l<fr.length;l++){var o=fr[l];o.blockedOn===t&&(o.blockedOn=null)}for(;0<fr.length&&(l=fr[0],l.blockedOn===null);)Ag(l),l.blockedOn===null&&fr.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(o=0;o<l.length;o+=3){var d=l[o],h=l[o+1],y=d[cs]||null;if(typeof h=="function")y||Dg(l);else if(y){var S=null;if(h&&h.hasAttribute("formAction")){if(d=h,y=h[cs]||null)S=y.formAction;else if(Zu(d)!==null)continue}else S=y.action;typeof S=="function"?l[o+1]=S:(l.splice(o,3),o-=3),Dg(l)}}}function Ju(t){this._internalRoot=t}qo.prototype.render=Ju.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,o=Ns();Cg(l,o,t,a,null,null)},qo.prototype.unmount=Ju.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;Cg(t.current,2,null,t,null,null),So(),a[Kr]=null}};function qo(t){this._internalRoot=t}qo.prototype.unstable_scheduleHydration=function(t){if(t){var a=Qh();t={blockedOn:null,target:t,priority:a};for(var l=0;l<fr.length&&a!==0&&a<fr[l].priority;l++);fr.splice(l,0,t),l===0&&Ag(t)}};var Og=r.version;if(Og!=="19.1.1")throw Error(i(527,Og,"19.1.1"));U.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=x(a),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var iN={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Go=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Go.isDisabled&&Go.supportsFiber)try{is=Go.inject(iN),Tt=Go}catch{}}return ti.createRoot=function(t,a){if(!c(t))throw Error(i(299));var l=!1,o="",d=Xx,h=Zx,y=Wx,S=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(h=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks)),a=wg(t,1,!1,null,null,l,o,d,h,y,S,null),t[Kr]=a.current,Ru(t),new Ju(a)},ti.hydrateRoot=function(t,a,l){if(!c(t))throw Error(i(299));var o=!1,d="",h=Xx,y=Zx,S=Wx,R=null,F=null;return l!=null&&(l.unstable_strictMode===!0&&(o=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(h=l.onUncaughtError),l.onCaughtError!==void 0&&(y=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(R=l.unstable_transitionCallbacks),l.formState!==void 0&&(F=l.formState)),a=wg(t,1,!0,a,l??null,o,d,h,y,S,R,F),a.context=Sg(null),l=a.current,o=Ns(),o=qc(o),d=Wa(o),d.callback=null,Ja(l,d,o),l=o,a.current.lanes=l,nl(a,l),oa(a),t[Kr]=a.current,Ru(t),new qo(a)},ti.version="19.1.1",ti}var qg;function pN(){if(qg)return tm.exports;qg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),tm.exports=gN(),tm.exports}var bN=pN();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Gg="popstate";function yN(s={}){function r(i,c){let{pathname:u,search:m,hash:f}=i.location;return Cm("",{pathname:u,search:m,hash:f},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(i,c){return typeof c=="string"?c:hi(c)}return vN(r,n,null,s)}function wt(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function Ps(s,r){if(!s){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function jN(){return Math.random().toString(36).substring(2,10)}function Ig(s,r){return{usr:s.state,key:s.key,idx:r}}function Cm(s,r,n=null,i){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof r=="string"?Vn(r):r,state:n,key:r&&r.key||i||jN()}}function hi({pathname:s="/",search:r="",hash:n=""}){return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function Vn(s){let r={};if(s){let n=s.indexOf("#");n>=0&&(r.hash=s.substring(n),s=s.substring(0,n));let i=s.indexOf("?");i>=0&&(r.search=s.substring(i),s=s.substring(0,i)),s&&(r.pathname=s)}return r}function vN(s,r,n,i={}){let{window:c=document.defaultView,v5Compat:u=!1}=i,m=c.history,f="POP",x=null,p=b();p==null&&(p=0,m.replaceState({...m.state,idx:p},""));function b(){return(m.state||{idx:null}).idx}function j(){f="POP";let C=b(),k=C==null?null:C-p;p=C,x&&x({action:f,location:T.location,delta:k})}function w(C,k){f="PUSH";let N=Cm(T.location,C,k);p=b()+1;let M=Ig(N,p),A=T.createHref(N);try{m.pushState(M,"",A)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;c.location.assign(A)}u&&x&&x({action:f,location:T.location,delta:1})}function E(C,k){f="REPLACE";let N=Cm(T.location,C,k);p=b();let M=Ig(N,p),A=T.createHref(N);m.replaceState(M,"",A),u&&x&&x({action:f,location:T.location,delta:0})}function v(C){return NN(C)}let T={get action(){return f},get location(){return s(c,m)},listen(C){if(x)throw new Error("A history only accepts one active listener");return c.addEventListener(Gg,j),x=C,()=>{c.removeEventListener(Gg,j),x=null}},createHref(C){return r(c,C)},createURL:v,encodeLocation(C){let k=v(C);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:w,replace:E,go(C){return m.go(C)}};return T}function NN(s,r=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),wt(n,"No window.location.(origin|href) available to create URL");let i=typeof s=="string"?s:hi(s);return i=i.replace(/ $/,"%20"),!r&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function Vp(s,r,n="/"){return wN(s,r,n,!1)}function wN(s,r,n,i){let c=typeof r=="string"?Vn(r):r,u=Ba(c.pathname||"/",n);if(u==null)return null;let m=Qp(s);SN(m);let f=null;for(let x=0;f==null&&x<m.length;++x){let p=LN(u);f=ON(m[x],p,i)}return f}function Qp(s,r=[],n=[],i="",c=!1){let u=(m,f,x=c,p)=>{let b={relativePath:p===void 0?m.path||"":p,caseSensitive:m.caseSensitive===!0,childrenIndex:f,route:m};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(i)&&x)return;wt(b.relativePath.startsWith(i),`Absolute route path "${b.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(i.length)}let j=Pa([i,b.relativePath]),w=n.concat(b);m.children&&m.children.length>0&&(wt(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${j}".`),Qp(m.children,r,w,j,x)),!(m.path==null&&!m.index)&&r.push({path:j,score:MN(j,m.index),routesMeta:w})};return s.forEach((m,f)=>{if(m.path===""||!m.path?.includes("?"))u(m,f);else for(let x of Xp(m.path))u(m,f,!0,x)}),r}function Xp(s){let r=s.split("/");if(r.length===0)return[];let[n,...i]=r,c=n.endsWith("?"),u=n.replace(/\?$/,"");if(i.length===0)return c?[u,""]:[u];let m=Xp(i.join("/")),f=[];return f.push(...m.map(x=>x===""?u:[u,x].join("/"))),c&&f.push(...m),f.map(x=>s.startsWith("/")&&x===""?"/":x)}function SN(s){s.sort((r,n)=>r.score!==n.score?n.score-r.score:DN(r.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var CN=/^:[\w-]+$/,kN=3,EN=2,TN=1,_N=10,AN=-2,Fg=s=>s==="*";function MN(s,r){let n=s.split("/"),i=n.length;return n.some(Fg)&&(i+=AN),r&&(i+=EN),n.filter(c=>!Fg(c)).reduce((c,u)=>c+(CN.test(u)?kN:u===""?TN:_N),i)}function DN(s,r){return s.length===r.length&&s.slice(0,-1).every((i,c)=>i===r[c])?s[s.length-1]-r[r.length-1]:0}function ON(s,r,n=!1){let{routesMeta:i}=s,c={},u="/",m=[];for(let f=0;f<i.length;++f){let x=i[f],p=f===i.length-1,b=u==="/"?r:r.slice(u.length)||"/",j=oc({path:x.relativePath,caseSensitive:x.caseSensitive,end:p},b),w=x.route;if(!j&&p&&n&&!i[i.length-1].route.index&&(j=oc({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},b)),!j)return null;Object.assign(c,j.params),m.push({params:c,pathname:Pa([u,j.pathname]),pathnameBase:$N(Pa([u,j.pathnameBase])),route:w}),j.pathnameBase!=="/"&&(u=Pa([u,j.pathnameBase]))}return m}function oc(s,r){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,i]=RN(s.path,s.caseSensitive,s.end),c=r.match(n);if(!c)return null;let u=c[0],m=u.replace(/(.)\/+$/,"$1"),f=c.slice(1);return{params:i.reduce((p,{paramName:b,isOptional:j},w)=>{if(b==="*"){let v=f[w]||"";m=u.slice(0,u.length-v.length).replace(/(.)\/+$/,"$1")}const E=f[w];return j&&!E?p[b]=void 0:p[b]=(E||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:m,pattern:s}}function RN(s,r=!1,n=!0){Ps(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let i=[],c="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,f,x)=>(i.push({paramName:f,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(i.push({paramName:"*"}),c+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?c+="\\/*$":s!==""&&s!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,r?void 0:"i"),i]}function LN(s){try{return s.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Ps(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),s}}function Ba(s,r){if(r==="/")return s;if(!s.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,i=s.charAt(n);return i&&i!=="/"?null:s.slice(n)||"/"}function UN(s,r="/"){let{pathname:n,search:i="",hash:c=""}=typeof s=="string"?Vn(s):s;return{pathname:n?n.startsWith("/")?n:zN(n,r):r,search:YN(i),hash:BN(c)}}function zN(s,r){let n=r.replace(/\/+$/,"").split("/");return s.split("/").forEach(c=>{c===".."?n.length>1&&n.pop():c!=="."&&n.push(c)}),n.length>1?n.join("/"):"/"}function nm(s,r,n,i){return`Cannot include a '${s}' character in a manually specified \`to.${r}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PN(s){return s.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function Qm(s){let r=PN(s);return r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase)}function Xm(s,r,n,i=!1){let c;typeof s=="string"?c=Vn(s):(c={...s},wt(!c.pathname||!c.pathname.includes("?"),nm("?","pathname","search",c)),wt(!c.pathname||!c.pathname.includes("#"),nm("#","pathname","hash",c)),wt(!c.search||!c.search.includes("#"),nm("#","search","hash",c)));let u=s===""||c.pathname==="",m=u?"/":c.pathname,f;if(m==null)f=n;else{let j=r.length-1;if(!i&&m.startsWith("..")){let w=m.split("/");for(;w[0]==="..";)w.shift(),j-=1;c.pathname=w.join("/")}f=j>=0?r[j]:"/"}let x=UN(c,f),p=m&&m!=="/"&&m.endsWith("/"),b=(u||m===".")&&n.endsWith("/");return!x.pathname.endsWith("/")&&(p||b)&&(x.pathname+="/"),x}var Pa=s=>s.join("/").replace(/\/\/+/g,"/"),$N=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),YN=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,BN=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function HN(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var Zp=["POST","PUT","PATCH","DELETE"];new Set(Zp);var qN=["GET",...Zp];new Set(qN);var Qn=g.createContext(null);Qn.displayName="DataRouter";var yc=g.createContext(null);yc.displayName="DataRouterState";g.createContext(!1);var Wp=g.createContext({isTransitioning:!1});Wp.displayName="ViewTransition";var GN=g.createContext(new Map);GN.displayName="Fetchers";var IN=g.createContext(null);IN.displayName="Await";var Ks=g.createContext(null);Ks.displayName="Navigation";var ji=g.createContext(null);ji.displayName="Location";var ea=g.createContext({outlet:null,matches:[],isDataRoute:!1});ea.displayName="Route";var Zm=g.createContext(null);Zm.displayName="RouteError";function FN(s,{relative:r}={}){wt(Xn(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=g.useContext(Ks),{hash:c,pathname:u,search:m}=Ni(s,{relative:r}),f=u;return n!=="/"&&(f=u==="/"?n:Pa([n,u])),i.createHref({pathname:f,search:m,hash:c})}function Xn(){return g.useContext(ji)!=null}function rs(){return wt(Xn(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(ji).location}var Jp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Kp(s){g.useContext(Ks).static||g.useLayoutEffect(s)}function dt(){let{isDataRoute:s}=g.useContext(ea);return s?n1():VN()}function VN(){wt(Xn(),"useNavigate() may be used only in the context of a <Router> component.");let s=g.useContext(Qn),{basename:r,navigator:n}=g.useContext(Ks),{matches:i}=g.useContext(ea),{pathname:c}=rs(),u=JSON.stringify(Qm(i)),m=g.useRef(!1);return Kp(()=>{m.current=!0}),g.useCallback((x,p={})=>{if(Ps(m.current,Jp),!m.current)return;if(typeof x=="number"){n.go(x);return}let b=Xm(x,JSON.parse(u),c,p.relative==="path");s==null&&r!=="/"&&(b.pathname=b.pathname==="/"?r:Pa([r,b.pathname])),(p.replace?n.replace:n.push)(b,p.state,p)},[r,n,u,c,s])}g.createContext(null);function vi(){let{matches:s}=g.useContext(ea),r=s[s.length-1];return r?r.params:{}}function Ni(s,{relative:r}={}){let{matches:n}=g.useContext(ea),{pathname:i}=rs(),c=JSON.stringify(Qm(n));return g.useMemo(()=>Xm(s,JSON.parse(c),i,r==="path"),[s,c,i,r])}function QN(s,r){return eb(s,r)}function eb(s,r,n,i,c){wt(Xn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=g.useContext(Ks),{matches:m}=g.useContext(ea),f=m[m.length-1],x=f?f.params:{},p=f?f.pathname:"/",b=f?f.pathnameBase:"/",j=f&&f.route;{let N=j&&j.path||"";tb(p,!j||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let w=rs(),E;if(r){let N=typeof r=="string"?Vn(r):r;wt(b==="/"||N.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${N.pathname}" was given in the \`location\` prop.`),E=N}else E=w;let v=E.pathname||"/",T=v;if(b!=="/"){let N=b.replace(/^\//,"").split("/");T="/"+v.replace(/^\//,"").split("/").slice(N.length).join("/")}let C=Vp(s,{pathname:T});Ps(j||C!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Ps(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=KN(C&&C.map(N=>Object.assign({},N,{params:Object.assign({},x,N.params),pathname:Pa([b,u.encodeLocation?u.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?b:Pa([b,u.encodeLocation?u.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),m,n,i,c);return r&&k?g.createElement(ji.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},k):k}function XN(){let s=r1(),r=HN(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,i="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},m=null;return console.error("Error handled by React Router default ErrorBoundary:",s),m=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:u},"ErrorBoundary")," or"," ",g.createElement("code",{style:u},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},r),n?g.createElement("pre",{style:c},n):null,m)}var ZN=g.createElement(XN,null),WN=class extends g.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){this.props.unstable_onError?this.props.unstable_onError(s,r):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?g.createElement(ea.Provider,{value:this.props.routeContext},g.createElement(Zm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JN({routeContext:s,match:r,children:n}){let i=g.useContext(Qn);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(ea.Provider,{value:s},n)}function KN(s,r=[],n=null,i=null,c=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(r.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let u=s,m=n?.errors;if(m!=null){let p=u.findIndex(b=>b.route.id&&m?.[b.route.id]!==void 0);wt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),u=u.slice(0,Math.min(u.length,p+1))}let f=!1,x=-1;if(n)for(let p=0;p<u.length;p++){let b=u[p];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(x=p),b.route.id){let{loaderData:j,errors:w}=n,E=b.route.loader&&!j.hasOwnProperty(b.route.id)&&(!w||w[b.route.id]===void 0);if(b.route.lazy||E){f=!0,x>=0?u=u.slice(0,x+1):u=[u[0]];break}}}return u.reduceRight((p,b,j)=>{let w,E=!1,v=null,T=null;n&&(w=m&&b.route.id?m[b.route.id]:void 0,v=b.route.errorElement||ZN,f&&(x<0&&j===0?(tb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,T=null):x===j&&(E=!0,T=b.route.hydrateFallbackElement||null)));let C=r.concat(u.slice(0,j+1)),k=()=>{let N;return w?N=v:E?N=T:b.route.Component?N=g.createElement(b.route.Component,null):b.route.element?N=b.route.element:N=p,g.createElement(JN,{match:b,routeContext:{outlet:p,matches:C,isDataRoute:n!=null},children:N})};return n&&(b.route.ErrorBoundary||b.route.errorElement||j===0)?g.createElement(WN,{location:n.location,revalidation:n.revalidation,component:v,error:w,children:k(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:i}):k()},null)}function Wm(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function e1(s){let r=g.useContext(Qn);return wt(r,Wm(s)),r}function t1(s){let r=g.useContext(yc);return wt(r,Wm(s)),r}function s1(s){let r=g.useContext(ea);return wt(r,Wm(s)),r}function Jm(s){let r=s1(s),n=r.matches[r.matches.length-1];return wt(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function a1(){return Jm("useRouteId")}function r1(){let s=g.useContext(Zm),r=t1("useRouteError"),n=Jm("useRouteError");return s!==void 0?s:r.errors?.[n]}function n1(){let{router:s}=e1("useNavigate"),r=Jm("useNavigate"),n=g.useRef(!1);return Kp(()=>{n.current=!0}),g.useCallback(async(c,u={})=>{Ps(n.current,Jp),n.current&&(typeof c=="number"?s.navigate(c):await s.navigate(c,{fromRouteId:r,...u}))},[s,r])}var Vg={};function tb(s,r,n){!r&&!Vg[s]&&(Vg[s]=!0,Ps(!1,n))}g.memo(l1);function l1({routes:s,future:r,state:n,unstable_onError:i}){return eb(s,void 0,n,i,r)}function ui({to:s,replace:r,state:n,relative:i}){wt(Xn(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=g.useContext(Ks);Ps(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=g.useContext(ea),{pathname:m}=rs(),f=dt(),x=Xm(s,Qm(u),m,i==="path"),p=JSON.stringify(x);return g.useEffect(()=>{f(JSON.parse(p),{replace:r,state:n,relative:i})},[f,p,i,r,n]),null}function ze(s){wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function i1({basename:s="/",children:r=null,location:n,navigationType:i="POP",navigator:c,static:u=!1}){wt(!Xn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=s.replace(/^\/*/,"/"),f=g.useMemo(()=>({basename:m,navigator:c,static:u,future:{}}),[m,c,u]);typeof n=="string"&&(n=Vn(n));let{pathname:x="/",search:p="",hash:b="",state:j=null,key:w="default"}=n,E=g.useMemo(()=>{let v=Ba(x,m);return v==null?null:{location:{pathname:v,search:p,hash:b,state:j,key:w},navigationType:i}},[m,x,p,b,j,w,i]);return Ps(E!=null,`<Router basename="${m}"> is not able to match the URL "${x}${p}${b}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:g.createElement(Ks.Provider,{value:f},g.createElement(ji.Provider,{children:r,value:E}))}function o1({children:s,location:r}){return QN(km(s),r)}function km(s,r=[]){let n=[];return g.Children.forEach(s,(i,c)=>{if(!g.isValidElement(i))return;let u=[...r,c];if(i.type===g.Fragment){n.push.apply(n,km(i.props.children,u));return}wt(i.type===ze,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),wt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let m={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(m.children=km(i.props.children,u)),n.push(m)}),n}var Ko="get",ec="application/x-www-form-urlencoded";function jc(s){return s!=null&&typeof s.tagName=="string"}function c1(s){return jc(s)&&s.tagName.toLowerCase()==="button"}function d1(s){return jc(s)&&s.tagName.toLowerCase()==="form"}function u1(s){return jc(s)&&s.tagName.toLowerCase()==="input"}function m1(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function h1(s,r){return s.button===0&&(!r||r==="_self")&&!m1(s)}function Em(s=""){return new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((r,n)=>{let i=s[n];return r.concat(Array.isArray(i)?i.map(c=>[n,c]):[[n,i]])},[]))}function f1(s,r){let n=Em(s);return r&&r.forEach((i,c)=>{n.has(c)||r.getAll(c).forEach(u=>{n.append(c,u)})}),n}var Io=null;function x1(){if(Io===null)try{new FormData(document.createElement("form"),0),Io=!1}catch{Io=!0}return Io}var g1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lm(s){return s!=null&&!g1.has(s)?(Ps(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ec}"`),null):s}function p1(s,r){let n,i,c,u,m;if(d1(s)){let f=s.getAttribute("action");i=f?Ba(f,r):null,n=s.getAttribute("method")||Ko,c=lm(s.getAttribute("enctype"))||ec,u=new FormData(s)}else if(c1(s)||u1(s)&&(s.type==="submit"||s.type==="image")){let f=s.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=s.getAttribute("formaction")||f.getAttribute("action");if(i=x?Ba(x,r):null,n=s.getAttribute("formmethod")||f.getAttribute("method")||Ko,c=lm(s.getAttribute("formenctype"))||lm(f.getAttribute("enctype"))||ec,u=new FormData(f,s),!x1()){let{name:p,type:b,value:j}=s;if(b==="image"){let w=p?`${p}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else p&&u.append(p,j)}}else{if(jc(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ko,i=null,c=ec,m=s}return u&&c==="text/plain"&&(m=u,u=void 0),{action:i,method:n.toLowerCase(),encType:c,formData:u,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Km(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function b1(s,r,n){let i=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return i.pathname==="/"?i.pathname=`_root.${n}`:r&&Ba(i.pathname,r)==="/"?i.pathname=`${r.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function y1(s,r){if(s.id in r)return r[s.id];try{let n=await import(s.module);return r[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function j1(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function v1(s,r,n){let i=await Promise.all(s.map(async c=>{let u=r.routes[c.route.id];if(u){let m=await y1(u,n);return m.links?m.links():[]}return[]}));return C1(i.flat(1).filter(j1).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Qg(s,r,n,i,c,u){let m=(x,p)=>n[p]?x.route.id!==n[p].route.id:!0,f=(x,p)=>n[p].pathname!==x.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==x.params["*"];return u==="assets"?r.filter((x,p)=>m(x,p)||f(x,p)):u==="data"?r.filter((x,p)=>{let b=i.routes[x.route.id];if(!b||!b.hasLoader)return!1;if(m(x,p)||f(x,p))return!0;if(x.route.shouldRevalidate){let j=x.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof j=="boolean")return j}return!0}):[]}function N1(s,r,{includeHydrateFallback:n}={}){return w1(s.map(i=>{let c=r.routes[i.route.id];if(!c)return[];let u=[c.module];return c.clientActionModule&&(u=u.concat(c.clientActionModule)),c.clientLoaderModule&&(u=u.concat(c.clientLoaderModule)),n&&c.hydrateFallbackModule&&(u=u.concat(c.hydrateFallbackModule)),c.imports&&(u=u.concat(c.imports)),u}).flat(1))}function w1(s){return[...new Set(s)]}function S1(s){let r={},n=Object.keys(s).sort();for(let i of n)r[i]=s[i];return r}function C1(s,r){let n=new Set;return new Set(r),s.reduce((i,c)=>{let u=JSON.stringify(S1(c));return n.has(u)||(n.add(u),i.push({key:u,link:c})),i},[])}function sb(){let s=g.useContext(Qn);return Km(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function k1(){let s=g.useContext(yc);return Km(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var eh=g.createContext(void 0);eh.displayName="FrameworkContext";function ab(){let s=g.useContext(eh);return Km(s,"You must render this element inside a <HydratedRouter> element"),s}function E1(s,r){let n=g.useContext(eh),[i,c]=g.useState(!1),[u,m]=g.useState(!1),{onFocus:f,onBlur:x,onMouseEnter:p,onMouseLeave:b,onTouchStart:j}=r,w=g.useRef(null);g.useEffect(()=>{if(s==="render"&&m(!0),s==="viewport"){let T=k=>{k.forEach(N=>{m(N.isIntersecting)})},C=new IntersectionObserver(T,{threshold:.5});return w.current&&C.observe(w.current),()=>{C.disconnect()}}},[s]),g.useEffect(()=>{if(i){let T=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(T)}}},[i]);let E=()=>{c(!0)},v=()=>{c(!1),m(!1)};return n?s!=="intent"?[u,w,{}]:[u,w,{onFocus:si(f,E),onBlur:si(x,v),onMouseEnter:si(p,E),onMouseLeave:si(b,v),onTouchStart:si(j,E)}]:[!1,w,{}]}function si(s,r){return n=>{s&&s(n),n.defaultPrevented||r(n)}}function T1({page:s,...r}){let{router:n}=sb(),i=g.useMemo(()=>Vp(n.routes,s,n.basename),[n.routes,s,n.basename]);return i?g.createElement(A1,{page:s,matches:i,...r}):null}function _1(s){let{manifest:r,routeModules:n}=ab(),[i,c]=g.useState([]);return g.useEffect(()=>{let u=!1;return v1(s,r,n).then(m=>{u||c(m)}),()=>{u=!0}},[s,r,n]),i}function A1({page:s,matches:r,...n}){let i=rs(),{manifest:c,routeModules:u}=ab(),{basename:m}=sb(),{loaderData:f,matches:x}=k1(),p=g.useMemo(()=>Qg(s,r,x,c,i,"data"),[s,r,x,c,i]),b=g.useMemo(()=>Qg(s,r,x,c,i,"assets"),[s,r,x,c,i]),j=g.useMemo(()=>{if(s===i.pathname+i.search+i.hash)return[];let v=new Set,T=!1;if(r.forEach(k=>{let N=c.routes[k.route.id];!N||!N.hasLoader||(!p.some(M=>M.route.id===k.route.id)&&k.route.id in f&&u[k.route.id]?.shouldRevalidate||N.hasClientLoader?T=!0:v.add(k.route.id))}),v.size===0)return[];let C=b1(s,m,"data");return T&&v.size>0&&C.searchParams.set("_routes",r.filter(k=>v.has(k.route.id)).map(k=>k.route.id).join(",")),[C.pathname+C.search]},[m,f,i,c,p,r,s,u]),w=g.useMemo(()=>N1(b,c),[b,c]),E=_1(b);return g.createElement(g.Fragment,null,j.map(v=>g.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),w.map(v=>g.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),E.map(({key:v,link:T})=>g.createElement("link",{key:v,nonce:n.nonce,...T})))}function M1(...s){return r=>{s.forEach(n=>{typeof n=="function"?n(r):n!=null&&(n.current=r)})}}var rb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rb&&(window.__reactRouterVersion="7.9.1")}catch{}function D1({basename:s,children:r,window:n}){let i=g.useRef();i.current==null&&(i.current=yN({window:n,v5Compat:!0}));let c=i.current,[u,m]=g.useState({action:c.action,location:c.location}),f=g.useCallback(x=>{g.startTransition(()=>m(x))},[m]);return g.useLayoutEffect(()=>c.listen(f),[c,f]),g.createElement(i1,{basename:s,children:r,location:u.location,navigationType:u.action,navigator:c})}var nb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,th=g.forwardRef(function({onClick:r,discover:n="render",prefetch:i="none",relative:c,reloadDocument:u,replace:m,state:f,target:x,to:p,preventScrollReset:b,viewTransition:j,...w},E){let{basename:v}=g.useContext(Ks),T=typeof p=="string"&&nb.test(p),C,k=!1;if(typeof p=="string"&&T&&(C=p,rb))try{let ne=new URL(window.location.href),re=p.startsWith("//")?new URL(ne.protocol+p):new URL(p),B=Ba(re.pathname,v);re.origin===ne.origin&&B!=null?p=B+re.search+re.hash:k=!0}catch{Ps(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=FN(p,{relative:c}),[M,A,D]=E1(i,w),Y=U1(p,{replace:m,state:f,target:x,preventScrollReset:b,relative:c,viewTransition:j});function Q(ne){r&&r(ne),ne.defaultPrevented||Y(ne)}let q=g.createElement("a",{...w,...D,href:C||N,onClick:k||u?r:Q,ref:M1(E,A),target:x,"data-discover":!T&&n==="render"?"true":void 0});return M&&!T?g.createElement(g.Fragment,null,q,g.createElement(T1,{page:N})):q});th.displayName="Link";var O1=g.forwardRef(function({"aria-current":r="page",caseSensitive:n=!1,className:i="",end:c=!1,style:u,to:m,viewTransition:f,children:x,...p},b){let j=Ni(m,{relative:p.relative}),w=rs(),E=g.useContext(yc),{navigator:v,basename:T}=g.useContext(Ks),C=E!=null&&H1(j)&&f===!0,k=v.encodeLocation?v.encodeLocation(j).pathname:j.pathname,N=w.pathname,M=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(N=N.toLowerCase(),M=M?M.toLowerCase():null,k=k.toLowerCase()),M&&T&&(M=Ba(M,T)||M);const A=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let D=N===k||!c&&N.startsWith(k)&&N.charAt(A)==="/",Y=M!=null&&(M===k||!c&&M.startsWith(k)&&M.charAt(k.length)==="/"),Q={isActive:D,isPending:Y,isTransitioning:C},q=D?r:void 0,ne;typeof i=="function"?ne=i(Q):ne=[i,D?"active":null,Y?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let re=typeof u=="function"?u(Q):u;return g.createElement(th,{...p,"aria-current":q,className:ne,ref:b,style:re,to:m,viewTransition:f},typeof x=="function"?x(Q):x)});O1.displayName="NavLink";var R1=g.forwardRef(({discover:s="render",fetcherKey:r,navigate:n,reloadDocument:i,replace:c,state:u,method:m=Ko,action:f,onSubmit:x,relative:p,preventScrollReset:b,viewTransition:j,...w},E)=>{let v=Y1(),T=B1(f,{relative:p}),C=m.toLowerCase()==="get"?"get":"post",k=typeof f=="string"&&nb.test(f),N=M=>{if(x&&x(M),M.defaultPrevented)return;M.preventDefault();let A=M.nativeEvent.submitter,D=A?.getAttribute("formmethod")||m;v(A||M.currentTarget,{fetcherKey:r,method:D,navigate:n,replace:c,state:u,relative:p,preventScrollReset:b,viewTransition:j})};return g.createElement("form",{ref:E,method:C,action:T,onSubmit:i?x:N,...w,"data-discover":!k&&s==="render"?"true":void 0})});R1.displayName="Form";function L1(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lb(s){let r=g.useContext(Qn);return wt(r,L1(s)),r}function U1(s,{target:r,replace:n,state:i,preventScrollReset:c,relative:u,viewTransition:m}={}){let f=dt(),x=rs(),p=Ni(s,{relative:u});return g.useCallback(b=>{if(h1(b,r)){b.preventDefault();let j=n!==void 0?n:hi(x)===hi(p);f(s,{replace:j,state:i,preventScrollReset:c,relative:u,viewTransition:m})}},[x,f,p,n,i,r,s,c,u,m])}function z1(s){Ps(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let r=g.useRef(Em(s)),n=g.useRef(!1),i=rs(),c=g.useMemo(()=>f1(i.search,n.current?null:r.current),[i.search]),u=dt(),m=g.useCallback((f,x)=>{const p=Em(typeof f=="function"?f(new URLSearchParams(c)):f);n.current=!0,u("?"+p,x)},[u,c]);return[c,m]}var P1=0,$1=()=>`__${String(++P1)}__`;function Y1(){let{router:s}=lb("useSubmit"),{basename:r}=g.useContext(Ks),n=a1();return g.useCallback(async(i,c={})=>{let{action:u,method:m,encType:f,formData:x,body:p}=p1(i,r);if(c.navigate===!1){let b=c.fetcherKey||$1();await s.fetch(b,n,c.action||u,{preventScrollReset:c.preventScrollReset,formData:x,body:p,formMethod:c.method||m,formEncType:c.encType||f,flushSync:c.flushSync})}else await s.navigate(c.action||u,{preventScrollReset:c.preventScrollReset,formData:x,body:p,formMethod:c.method||m,formEncType:c.encType||f,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,r,n])}function B1(s,{relative:r}={}){let{basename:n}=g.useContext(Ks),i=g.useContext(ea);wt(i,"useFormAction must be used inside a RouteContext");let[c]=i.matches.slice(-1),u={...Ni(s||".",{relative:r})},m=rs();if(s==null){u.search=m.search;let f=new URLSearchParams(u.search),x=f.getAll("index");if(x.some(b=>b==="")){f.delete("index"),x.filter(j=>j).forEach(j=>f.append("index",j));let b=f.toString();u.search=b?`?${b}`:""}}return(!s||s===".")&&c.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Pa([n,u.pathname])),hi(u)}function H1(s,{relative:r}={}){let n=g.useContext(Wp);wt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=lb("useViewTransitionState"),c=Ni(s,{relative:r});if(!n.isTransitioning)return!1;let u=Ba(n.currentLocation.pathname,i)||n.currentLocation.pathname,m=Ba(n.nextLocation.pathname,i)||n.nextLocation.pathname;return oc(c.pathname,m)!=null||oc(c.pathname,u)!=null}function q1(s={}){const{nonce:r,onScriptLoadSuccess:n,onScriptLoadError:i}=s,[c,u]=g.useState(!1),m=g.useRef(n);m.current=n;const f=g.useRef(i);return f.current=i,g.useEffect(()=>{const x=document.createElement("script");return x.src="https://accounts.google.com/gsi/client",x.async=!0,x.defer=!0,x.nonce=r,x.onload=()=>{var p;u(!0),(p=m.current)===null||p===void 0||p.call(m)},x.onerror=()=>{var p;u(!1),(p=f.current)===null||p===void 0||p.call(f)},document.body.appendChild(x),()=>{document.body.removeChild(x)}},[r]),c}const ib=g.createContext(null);function G1({clientId:s,nonce:r,onScriptLoadSuccess:n,onScriptLoadError:i,children:c}){const u=q1({nonce:r,onScriptLoadSuccess:n,onScriptLoadError:i}),m=g.useMemo(()=>({clientId:s,scriptLoadedSuccessfully:u}),[s,u]);return Gt.createElement(ib.Provider,{value:m},c)}function I1(){const s=g.useContext(ib);if(!s)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return s}function F1({flow:s="implicit",scope:r="",onSuccess:n,onError:i,onNonOAuthError:c,overrideScope:u,state:m,...f}){const{clientId:x,scriptLoadedSuccessfully:p}=I1(),b=g.useRef(),j=g.useRef(n);j.current=n;const w=g.useRef(i);w.current=i;const E=g.useRef(c);E.current=c,g.useEffect(()=>{var C,k;if(!p)return;const N=s==="implicit"?"initTokenClient":"initCodeClient",M=(k=(C=window?.google)===null||C===void 0?void 0:C.accounts)===null||k===void 0?void 0:k.oauth2[N]({client_id:x,scope:u?r:`openid profile email ${r}`,callback:A=>{var D,Y;if(A.error)return(D=w.current)===null||D===void 0?void 0:D.call(w,A);(Y=j.current)===null||Y===void 0||Y.call(j,A)},error_callback:A=>{var D;(D=E.current)===null||D===void 0||D.call(E,A)},state:m,...f});b.current=M},[x,p,s,r,m]);const v=g.useCallback(C=>{var k;return(k=b.current)===null||k===void 0?void 0:k.requestAccessToken(C)},[]),T=g.useCallback(()=>{var C;return(C=b.current)===null||C===void 0?void 0:C.requestCode()},[]);return s==="implicit"?v:T}const jr="/assets/logo1-wHe-4JT3.png",sh="/assets/landingpage1-BH2kvgmX.png",Ys=()=>{const[s,r]=g.useState({show:!1,type:"",title:"",message:""}),[n,i]=g.useState({show:!1,title:"",message:"",onConfirm:null,onCancel:null}),c=(b,j,w)=>{r({show:!0,type:b,title:j,message:w})};return{notification:s,confirmDialog:n,showNotification:c,hideNotification:()=>{r({show:!1,type:"",title:"",message:""})},showSuccess:(b,j="Success")=>{c("success",j,b)},showError:(b,j="Error")=>{c("error",j,b)},showConfirmDialog:(b,j,w,E=null)=>{i({show:!0,title:b,message:j,onConfirm:w,onCancel:E})},hideConfirmDialog:()=>{i({show:!1,title:"",message:"",onConfirm:null,onCancel:null})}}};/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var V1={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(s,r,n,i)=>{const c=g.forwardRef(({color:u="currentColor",size:m=24,stroke:f=2,title:x,className:p,children:b,...j},w)=>g.createElement("svg",{ref:w,...V1[s],width:m,height:m,className:["tabler-icon",`tabler-icon-${r}`,p].join(" "),strokeWidth:f,stroke:u,...j},[x&&g.createElement("title",{key:"svg-title"},x),...i.map(([E,v])=>g.createElement(E,v)),...Array.isArray(b)?b:[b]]));return c.displayName=`${n}`,c};/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["path",{d:"M3 12h4l3 8l4 -16l3 8h4",key:"svg-0"}]],ob=_e("outline","activity","Activity",Q1);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],ta=_e("outline","alert-circle","AlertCircle",X1);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=[["path",{d:"M12 9v4",key:"svg-0"}],["path",{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],wi=_e("outline","alert-triangle","AlertTriangle",Z1);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=[["path",{d:"M8 4h11a2 2 0 1 1 0 4h-7m-4 0h-3a2 2 0 0 1 -.826 -3.822",key:"svg-0"}],["path",{d:"M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 1.824 -1.18m.176 -3.82v-7",key:"svg-1"}],["path",{d:"M10 12h2",key:"svg-2"}],["path",{d:"M3 3l18 18",key:"svg-3"}]],J1=_e("outline","archive-off","ArchiveOff",W1);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["path",{d:"M3 4m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10",key:"svg-1"}],["path",{d:"M10 12l4 0",key:"svg-2"}]],ft=_e("outline","archive","Archive",K1);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M5 12l6 6",key:"svg-1"}],["path",{d:"M5 12l6 -6",key:"svg-2"}]],t2=_e("outline","arrow-left","ArrowLeft",e2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=[["path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0",key:"svg-0"}],["path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0",key:"svg-1"}],["path",{d:"M3 6l0 13",key:"svg-2"}],["path",{d:"M12 6l0 13",key:"svg-3"}],["path",{d:"M21 6l0 13",key:"svg-4"}]],Ct=_e("outline","book","Book",s2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=[["path",{d:"M18 7v14l-6 -4l-6 4v-14a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4z",key:"svg-0"}]],cb=_e("outline","bookmark","Bookmark",a2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=[["path",{d:"M20.945 11a9 9 0 1 1 -3.284 -5.997l-2.655 2.392a5.5 5.5 0 1 0 2.119 6.605h-4.125v-3h7.945z",key:"svg-0"}]],cc=_e("outline","brand-google","BrandGoogle",r2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=[["path",{d:"M3 21l18 0",key:"svg-0"}],["path",{d:"M9 8l1 0",key:"svg-1"}],["path",{d:"M9 12l1 0",key:"svg-2"}],["path",{d:"M9 16l1 0",key:"svg-3"}],["path",{d:"M14 8l1 0",key:"svg-4"}],["path",{d:"M14 12l1 0",key:"svg-5"}],["path",{d:"M14 16l1 0",key:"svg-6"}],["path",{d:"M5 21v-16a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v16",key:"svg-7"}]],fi=_e("outline","building","Building",n2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["path",{d:"M3 12h1m8 -9v1m8 8h1m-15.4 -6.4l.7 .7m12.1 -.7l-.7 .7",key:"svg-0"}],["path",{d:"M9 16a5 5 0 1 1 6 0a3.5 3.5 0 0 0 -1 3a2 2 0 0 1 -4 0a3.5 3.5 0 0 0 -1 -3",key:"svg-1"}],["path",{d:"M9.7 17l4.6 0",key:"svg-2"}]],i2=_e("outline","bulb","Bulb",l2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=[["path",{d:"M4 3m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M8 7m0 1a1 1 0 0 1 1 -1h6a1 1 0 0 1 1 1v1a1 1 0 0 1 -1 1h-6a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M8 14l0 .01",key:"svg-2"}],["path",{d:"M12 14l0 .01",key:"svg-3"}],["path",{d:"M16 14l0 .01",key:"svg-4"}],["path",{d:"M8 17l0 .01",key:"svg-5"}],["path",{d:"M12 17l0 .01",key:"svg-6"}],["path",{d:"M16 17l0 .01",key:"svg-7"}]],c2=_e("outline","calculator","Calculator",o2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=[["path",{d:"M4 5m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M16 3l0 4",key:"svg-1"}],["path",{d:"M8 3l0 4",key:"svg-2"}],["path",{d:"M4 11l16 0",key:"svg-3"}],["path",{d:"M8 15h2v2h-2z",key:"svg-4"}]],ha=_e("outline","calendar-event","CalendarEvent",d2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["path",{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z",key:"svg-0"}],["path",{d:"M16 3v4",key:"svg-1"}],["path",{d:"M8 3v4",key:"svg-2"}],["path",{d:"M4 11h16",key:"svg-3"}],["path",{d:"M7 14h.013",key:"svg-4"}],["path",{d:"M10.01 14h.005",key:"svg-5"}],["path",{d:"M13.01 14h.005",key:"svg-6"}],["path",{d:"M16.015 14h.005",key:"svg-7"}],["path",{d:"M13.015 17h.005",key:"svg-8"}],["path",{d:"M7.01 17h.005",key:"svg-9"}],["path",{d:"M10.01 17h.005",key:"svg-10"}]],vc=_e("outline","calendar-week","CalendarWeek",u2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=[["path",{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z",key:"svg-0"}],["path",{d:"M16 3v4",key:"svg-1"}],["path",{d:"M8 3v4",key:"svg-2"}],["path",{d:"M4 11h16",key:"svg-3"}],["path",{d:"M11 15h1",key:"svg-4"}],["path",{d:"M12 15v3",key:"svg-5"}]],Ft=_e("outline","calendar","Calendar",m2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=[["path",{d:"M5 7h1a2 2 0 0 0 2 -2a1 1 0 0 1 1 -1h6a1 1 0 0 1 1 1a2 2 0 0 0 2 2h1a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-9a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M9 13a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]],db=_e("outline","camera","Camera",h2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["path",{d:"M15 15m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-0"}],["path",{d:"M13 17.5v4.5l2 -1.5l2 1.5v-4.5",key:"svg-1"}],["path",{d:"M10 19h-5a2 2 0 0 1 -2 -2v-10c0 -1.1 .9 -2 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -1 1.73",key:"svg-2"}],["path",{d:"M6 9l12 0",key:"svg-3"}],["path",{d:"M6 12l3 0",key:"svg-4"}],["path",{d:"M6 15l2 0",key:"svg-5"}]],x2=_e("outline","certificate","Certificate",f2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=[["path",{d:"M8 19h-3a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v11a1 1 0 0 1 -1 1",key:"svg-0"}],["path",{d:"M11 16m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v1a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-1"}]],fa=_e("outline","chalkboard","Chalkboard",g2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]],qt=_e("outline","check","Check",p2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]],Vr=_e("outline","chevron-down","ChevronDown",b2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["path",{d:"M15 6l-6 6l6 6",key:"svg-0"}]],Zn=_e("outline","chevron-left","ChevronLeft",y2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]],Zr=_e("outline","chevron-right","ChevronRight",j2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=[["path",{d:"M6 15l6 -6l6 6",key:"svg-0"}]],N2=_e("outline","chevron-up","ChevronUp",v2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 12l2 2l4 -4",key:"svg-1"}]],ub=_e("outline","circle-check","CircleCheck",w2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=[["path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2",key:"svg-0"}],["path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M9 12l.01 0",key:"svg-2"}],["path",{d:"M13 12l2 0",key:"svg-3"}],["path",{d:"M9 16l.01 0",key:"svg-4"}],["path",{d:"M13 16l2 0",key:"svg-5"}]],ah=_e("outline","clipboard-list","ClipboardList",S2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 7v5l3 3",key:"svg-1"}]],Cs=_e("outline","clock","Clock",C2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=[["path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-0"}],["path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-1"}]],E2=_e("outline","copy","Copy",k2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M14 4l0 4l-6 0l0 -4",key:"svg-2"}]],mb=_e("outline","device-floppy","DeviceFloppy",T2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 11l5 5l5 -5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]],hb=_e("outline","download","Download",_2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]],Nr=_e("outline","edit","Edit",A2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=[["path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M11.102 17.957c-3.204 -.307 -5.904 -2.294 -8.102 -5.957c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6a19.5 19.5 0 0 1 -.663 1.032",key:"svg-1"}],["path",{d:"M15 19l2 2l4 -4",key:"svg-2"}]],D2=_e("outline","eye-check","EyeCheck",M2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=[["path",{d:"M10.585 10.587a2 2 0 0 0 2.829 2.828",key:"svg-0"}],["path",{d:"M16.681 16.673a8.717 8.717 0 0 1 -4.681 1.327c-3.6 0 -6.6 -2 -9 -6c1.272 -2.12 2.712 -3.678 4.32 -4.674m2.86 -1.146a9.055 9.055 0 0 1 1.82 -.18c3.6 0 6.6 2 9 6c-.666 1.11 -1.379 2.067 -2.138 2.87",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}]],Si=_e("outline","eye-off","EyeOff",O2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6",key:"svg-1"}]],qa=_e("outline","eye","Eye",R2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=[["path",{d:"M8 4h12v2.172a2 2 0 0 1 -.586 1.414l-3.914 3.914m-.5 3.5v4l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227",key:"svg-0"}],["path",{d:"M3 3l18 18",key:"svg-1"}]],U2=_e("outline","filter-off","FilterOff",L2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z",key:"svg-0"}]],Wn=_e("outline","filter","Filter",z2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["path",{d:"M13 5h8",key:"svg-0"}],["path",{d:"M13 9h5",key:"svg-1"}],["path",{d:"M13 15h8",key:"svg-2"}],["path",{d:"M13 19h5",key:"svg-3"}],["path",{d:"M3 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-4"}],["path",{d:"M3 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-5"}]],Nc=_e("outline","list-details","ListDetails",P2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=[["path",{d:"M12 6l0 -3",key:"svg-0"}],["path",{d:"M16.25 7.75l2.15 -2.15",key:"svg-1"}],["path",{d:"M18 12l3 0",key:"svg-2"}],["path",{d:"M16.25 16.25l2.15 2.15",key:"svg-3"}],["path",{d:"M12 18l0 3",key:"svg-4"}],["path",{d:"M7.75 16.25l-2.15 2.15",key:"svg-5"}],["path",{d:"M6 12l-3 0",key:"svg-6"}],["path",{d:"M7.75 7.75l-2.15 -2.15",key:"svg-7"}]],fb=_e("outline","loader","Loader",$2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=[["path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M9 12h12l-3 -3",key:"svg-1"}],["path",{d:"M18 15l3 -3",key:"svg-2"}]],rh=_e("outline","logout","Logout",Y2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]],nh=_e("outline","mail","Mail",B2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=[["path",{d:"M9 11a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-0"}],["path",{d:"M17.657 16.657l-4.243 4.243a2 2 0 0 1 -2.827 0l-4.244 -4.243a8 8 0 1 1 11.314 0z",key:"svg-1"}]],Ci=_e("outline","map-pin","MapPin",H2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=[["path",{d:"M15 19v-2a2 2 0 0 1 2 -2h2",key:"svg-0"}],["path",{d:"M15 5v2a2 2 0 0 0 2 2h2",key:"svg-1"}],["path",{d:"M5 15h2a2 2 0 0 1 2 2v2",key:"svg-2"}],["path",{d:"M5 9h2a2 2 0 0 0 2 -2v-2",key:"svg-3"}]],G2=_e("outline","minimize","Minimize",q2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=[["path",{d:"M5 3m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 7l6 0",key:"svg-1"}],["path",{d:"M9 11l6 0",key:"svg-2"}],["path",{d:"M9 15l4 0",key:"svg-3"}]],Tm=_e("outline","notes","Notes",I2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=[["path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4",key:"svg-0"}],["path",{d:"M13.5 6.5l4 4",key:"svg-1"}]],V2=_e("outline","pencil","Pencil",F2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]],vr=_e("outline","plus","Plus",Q2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]],ua=_e("outline","refresh","Refresh",X2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=[["path",{d:"M3.06 13a9 9 0 1 0 .49 -4.087",key:"svg-0"}],["path",{d:"M3 4.001v5h5",key:"svg-1"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]],xb=_e("outline","restore","Restore",Z2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=[["path",{d:"M22 9l-10 -4l-10 4l10 4l10 -4v6",key:"svg-0"}],["path",{d:"M6 10.6v5.4a6 3 0 0 0 12 0v-5.4",key:"svg-1"}]],ns=_e("outline","school","School",W2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]],Wr=_e("outline","search","Search",J2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=[["path",{d:"M10 14l11 -11",key:"svg-0"}],["path",{d:"M21 3l-6.5 18a.55 .55 0 0 1 -1 0l-3.5 -7l-7 -3.5a.55 .55 0 0 1 0 -1l18 -6.5",key:"svg-1"}]],ew=_e("outline","send","Send",K2);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=[["path",{d:"M12 3a12 12 0 0 0 8.5 3a12 12 0 0 1 -8.5 15a12 12 0 0 1 -8.5 -15a12 12 0 0 0 8.5 -3",key:"svg-0"}]],Qr=_e("outline","shield","Shield",tw);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=[["path",{d:"M16 18a2 2 0 0 1 2 2a2 2 0 0 1 2 -2a2 2 0 0 1 -2 -2a2 2 0 0 1 -2 2zm0 -12a2 2 0 0 1 2 2a2 2 0 0 1 2 -2a2 2 0 0 1 -2 -2a2 2 0 0 1 -2 2zm-7 12a6 6 0 0 1 6 -6a6 6 0 0 1 -6 -6a6 6 0 0 1 -6 6a6 6 0 0 1 6 6z",key:"svg-0"}]],aw=_e("outline","sparkles","Sparkles",sw);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=[["path",{d:"M16 3l4 4l-4 4",key:"svg-0"}],["path",{d:"M10 7l10 0",key:"svg-1"}],["path",{d:"M8 13l-4 4l4 4",key:"svg-2"}],["path",{d:"M4 17l9 0",key:"svg-3"}]],nw=_e("outline","switch-horizontal","SwitchHorizontal",rw);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]],lh=_e("outline","table-dashed","TableDashed",lw);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-5 0a5 5 0 1 0 10 0a5 5 0 1 0 -10 0",key:"svg-1"}],["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-2"}]],gb=_e("outline","target","Target",iw);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]],wc=_e("outline","trash","Trash",ow);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 9l5 -5l5 5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]],dw=_e("outline","upload","Upload",cw);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 10m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}],["path",{d:"M6.168 18.849a4 4 0 0 1 3.832 -2.849h4a4 4 0 0 1 3.834 2.855",key:"svg-2"}]],ih=_e("outline","user-circle","UserCircle",uw);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h2.5",key:"svg-1"}],["path",{d:"M19.001 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-2"}],["path",{d:"M19.001 15.5v1.5",key:"svg-3"}],["path",{d:"M19.001 21v1.5",key:"svg-4"}],["path",{d:"M22.032 17.25l-1.299 .75",key:"svg-5"}],["path",{d:"M17.27 20l-1.3 .75",key:"svg-6"}],["path",{d:"M15.97 17.25l1.3 .75",key:"svg-7"}],["path",{d:"M20.733 20l1.3 .75",key:"svg-8"}]],hw=_e("outline","user-cog","UserCog",mw);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M16 19h6",key:"svg-1"}],["path",{d:"M19 16v6",key:"svg-2"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-3"}]],xw=_e("outline","user-plus","UserPlus",fw);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]],$s=_e("outline","user","User",gw);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=[["path",{d:"M10 13a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M8 21v-1a2 2 0 0 1 2 -2h4a2 2 0 0 1 2 2v1",key:"svg-1"}],["path",{d:"M15 5a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-2"}],["path",{d:"M17 10h2a2 2 0 0 1 2 2v1",key:"svg-3"}],["path",{d:"M5 5a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-4"}],["path",{d:"M3 13v-1a2 2 0 0 1 2 -2h2",key:"svg-5"}]],xi=_e("outline","users-group","UsersGroup",pw);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=[["path",{d:"M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"svg-2"}],["path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85",key:"svg-3"}]],Lt=_e("outline","users","Users",bw);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]],et=_e("outline","x","X",yw),Jn=({isOpen:s,onClose:r,type:n,title:i,message:c})=>{if(!s)return null;const u=n==="success",m=u?"text-green-500":"text-red-500",f=u?"bg-green-50":"bg-red-50",x=u?"bg-blue-600 hover:bg-blue-700":"bg-red-600 hover:bg-red-700";return e.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-[10000]",children:e.jsx("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`mx-auto flex items-center justify-center h-12 w-12 rounded-full ${f} mb-4`,children:u?e.jsx(ub,{className:m,size:24}):e.jsx(et,{className:m,size:24})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:i}),e.jsx("p",{className:"text-gray-600 mb-6",children:c}),e.jsx("button",{onClick:r,className:`w-full text-white px-4 py-2 rounded-lg transition-colors ${x}`,children:"OK"})]})})})},pb=({isOpen:s,onClose:r,title:n,message:i,onConfirm:c,onCancel:u})=>{if(!s)return null;const m=async()=>{c&&(r(),await c())},f=async()=>{if(u)try{await u()}catch(x){console.error("Confirmation cancel handler error:",x)}r()};return e.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-[10000]",children:e.jsx("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-50 mb-4",children:e.jsx(ta,{className:"text-red-500",size:24})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:n}),e.jsx("p",{className:"text-gray-600 mb-6",children:i}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:f,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:m,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Confirm"})]})]})})})},Bs=({children:s,notifications:r})=>{const{notification:n,confirmDialog:i,hideNotification:c,hideConfirmDialog:u}=r;return e.jsxs(e.Fragment,{children:[s,e.jsx(Jn,{isOpen:n.show,onClose:c,type:n.type,title:n.title,message:n.message}),e.jsx(pb,{isOpen:i.show,onClose:u,title:i.title,message:i.message,onConfirm:i.onConfirm,onCancel:i.onCancel})]})};var im={exports:{}},om,Xg;function jw(){if(Xg)return om;Xg=1;var s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return om=s,om}var cm,Zg;function vw(){if(Zg)return cm;Zg=1;var s=jw();function r(){}function n(){}return n.resetWarningCache=r,cm=function(){function i(m,f,x,p,b,j){if(j!==s){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}i.isRequired=i;function c(){return i}var u={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:c,element:i,elementType:i,instanceOf:c,node:i,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:n,resetWarningCache:r};return u.PropTypes=u,u},cm}var Wg;function Nw(){return Wg||(Wg=1,im.exports=vw()()),im.exports}var ww=Nw();const Te=Fm(ww);var bb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Jg=Gt.createContext&&Gt.createContext(bb),Sw=["attr","size","title"];function Cw(s,r){if(s==null)return{};var n=kw(s,r),i,c;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(s);for(c=0;c<u.length;c++)i=u[c],!(r.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(s,i)&&(n[i]=s[i])}return n}function kw(s,r){if(s==null)return{};var n={};for(var i in s)if(Object.prototype.hasOwnProperty.call(s,i)){if(r.indexOf(i)>=0)continue;n[i]=s[i]}return n}function dc(){return dc=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=n[i])}return s},dc.apply(this,arguments)}function Kg(s,r){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);r&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),n.push.apply(n,i)}return n}function uc(s){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Kg(Object(n),!0).forEach(function(i){Ew(s,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):Kg(Object(n)).forEach(function(i){Object.defineProperty(s,i,Object.getOwnPropertyDescriptor(n,i))})}return s}function Ew(s,r,n){return r=Tw(r),r in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n,s}function Tw(s){var r=_w(s,"string");return typeof r=="symbol"?r:r+""}function _w(s,r){if(typeof s!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var i=n.call(s,r);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}function yb(s){return s&&s.map((r,n)=>Gt.createElement(r.tag,uc({key:n},r.attr),yb(r.child)))}function Aw(s){return r=>Gt.createElement(Mw,dc({attr:uc({},s.attr)},r),yb(s.child))}function Mw(s){var r=n=>{var{attr:i,size:c,title:u}=s,m=Cw(s,Sw),f=c||n.size||"1em",x;return n.className&&(x=n.className),s.className&&(x=(x?x+" ":"")+s.className),Gt.createElement("svg",dc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,m,{className:x,style:uc(uc({color:s.color||n.color},n.style),s.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),u&&Gt.createElement("title",null,u),s.children)};return Jg!==void 0?Gt.createElement(Jg.Consumer,null,n=>r(n)):r(bb)}function Dw(s){return Aw({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(s)}function jb({onClick:s}){return e.jsxs("button",{className:"w-full flex items-center justify-center gap-3 px-4 sm:px-6 py-3 border border-gray-300 bg-white text-gray-700 font-medium rounded-lg text-sm sm:text-base hover:bg-gray-50 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 mb-4 sm:mb-6",onClick:s,children:[e.jsx(Dw,{size:20,className:"sm:w-6 sm:h-6"}),e.jsx("span",{className:"text-sm sm:text-base",children:"Sign in with Google"})]})}jb.propTypes={onClick:Te.func.isRequired};function vb({title:s,subtitle:r}){return e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:s}),e.jsx("p",{className:"text-gray-600 mb-6 sm:mb-8 text-sm sm:text-base",children:r})]})}vb.propTypes={title:Te.string.isRequired,subtitle:Te.string.isRequired};function Nb({to:s}){return e.jsx(th,{to:s,className:"w-full block text-center px-4 sm:px-6 py-3 bg-blue-900 text-white font-medium rounded-lg hover:bg-blue-900 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-900 focus:ring-offset-2 no-underline text-sm sm:text-base",style:{backgroundColor:"#091057"},children:"Login as Admin"})}Nb.propTypes={to:Te.string.isRequired};function wb({text:s="or"}){return e.jsxs("div",{style:{display:"flex",alignItems:"center",margin:"24px 0"},children:[e.jsx("div",{style:{flex:1,height:1,background:"#e0e0e0"}}),e.jsx("span",{style:{margin:"0 12px",color:"#888",fontSize:14},children:s}),e.jsx("div",{style:{flex:1,height:1,background:"#e0e0e0"}})]})}wb.propTypes={text:Te.string};function Sb({children:s}){return e.jsx("div",{className:"w-full lg:w-[500px] xl:w-[480px] flex flex-col justify-center px-6 py-8 sm:px-8 sm:py-12 lg:px-16 lg:py-12 bg-gray-50",children:e.jsx("div",{className:"w-full max-w-sm mx-auto",children:s})})}Sb.propTypes={children:Te.node.isRequired};function oh({logoSrc:s,backgroundSrc:r,title:n}){return e.jsx("div",{className:"flex-1 relative flex flex-col p-6 sm:p-8 lg:p-12 bg-cover bg-right bg-no-repeat overflow-hidden min-h-[40vh] lg:min-h-screen ",style:{backgroundImage:`url(${r})`},children:e.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center pt-4 sm:pt-6 lg:pt-8",children:[e.jsx("div",{className:"mb-4 sm:mb-6 lg:mb-8",children:e.jsx("img",{src:s,alt:"BUKSU Logo",className:"h-16 w-16 sm:h-20 sm:w-20 lg:h-28 lg:w-28 rounded object-cover mx-auto"})}),e.jsx("h1",{className:"text-white font-extrabold leading-tight text-2xl sm:text-3xl lg:text-5xl tracking-wider uppercase text-shadow-lg font-sans",children:n})]})})}oh.propTypes={logoSrc:Te.string.isRequired,backgroundSrc:Te.string.isRequired,title:Te.string.isRequired};var Ow=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function _m(){return _m=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=n[i])}return s},_m.apply(this,arguments)}function Rw(s,r){if(s==null)return{};var n={},i=Object.keys(s),c,u;for(u=0;u<i.length;u++)c=i[u],!(r.indexOf(c)>=0)&&(n[c]=s[c]);return n}function Fo(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function Lw(s,r){s.prototype=Object.create(r.prototype),s.prototype.constructor=s,Am(s,r)}function Am(s,r){return Am=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,c){return i.__proto__=c,i},Am(s,r)}var Sc=(function(s){Lw(r,s);function r(){var i;return i=s.call(this)||this,i.handleExpired=i.handleExpired.bind(Fo(i)),i.handleErrored=i.handleErrored.bind(Fo(i)),i.handleChange=i.handleChange.bind(Fo(i)),i.handleRecaptchaRef=i.handleRecaptchaRef.bind(Fo(i)),i}var n=r.prototype;return n.getCaptchaFunction=function(c){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[c]:this.props.grecaptcha[c]:null},n.getValue=function(){var c=this.getCaptchaFunction("getResponse");return c&&this._widgetId!==void 0?c(this._widgetId):null},n.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},n.execute=function(){var c=this.getCaptchaFunction("execute");if(c&&this._widgetId!==void 0)return c(this._widgetId);this._executeRequested=!0},n.executeAsync=function(){var c=this;return new Promise(function(u,m){c.executionResolve=u,c.executionReject=m,c.execute()})},n.reset=function(){var c=this.getCaptchaFunction("reset");c&&this._widgetId!==void 0&&c(this._widgetId)},n.forceReset=function(){var c=this.getCaptchaFunction("reset");c&&c()},n.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},n.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},n.handleChange=function(c){this.props.onChange&&this.props.onChange(c),this.executionResolve&&(this.executionResolve(c),delete this.executionReject,delete this.executionResolve)},n.explicitRender=function(){var c=this.getCaptchaFunction("render");if(c&&this._widgetId===void 0){var u=document.createElement("div");this._widgetId=c(u,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(u)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},n.componentDidMount=function(){this.explicitRender()},n.componentDidUpdate=function(){this.explicitRender()},n.handleRecaptchaRef=function(c){this.captcha=c},n.render=function(){var c=this.props;c.sitekey,c.onChange,c.theme,c.type,c.tabindex,c.onExpired,c.onErrored,c.size,c.stoken,c.grecaptcha,c.badge,c.hl,c.isolated;var u=Rw(c,Ow);return g.createElement("div",_m({},u,{ref:this.handleRecaptchaRef}))},r})(g.Component);Sc.displayName="ReCAPTCHA";Sc.propTypes={sitekey:Te.string.isRequired,onChange:Te.func,grecaptcha:Te.object,theme:Te.oneOf(["dark","light"]),type:Te.oneOf(["image","audio"]),tabindex:Te.number,onExpired:Te.func,onErrored:Te.func,size:Te.oneOf(["compact","normal","invisible"]),stoken:Te.string,hl:Te.string,badge:Te.oneOf(["bottomright","bottomleft","inline"]),isolated:Te.bool};Sc.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var dm={exports:{}},st={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep;function Uw(){if(ep)return st;ep=1;var s=typeof Symbol=="function"&&Symbol.for,r=s?Symbol.for("react.element"):60103,n=s?Symbol.for("react.portal"):60106,i=s?Symbol.for("react.fragment"):60107,c=s?Symbol.for("react.strict_mode"):60108,u=s?Symbol.for("react.profiler"):60114,m=s?Symbol.for("react.provider"):60109,f=s?Symbol.for("react.context"):60110,x=s?Symbol.for("react.async_mode"):60111,p=s?Symbol.for("react.concurrent_mode"):60111,b=s?Symbol.for("react.forward_ref"):60112,j=s?Symbol.for("react.suspense"):60113,w=s?Symbol.for("react.suspense_list"):60120,E=s?Symbol.for("react.memo"):60115,v=s?Symbol.for("react.lazy"):60116,T=s?Symbol.for("react.block"):60121,C=s?Symbol.for("react.fundamental"):60117,k=s?Symbol.for("react.responder"):60118,N=s?Symbol.for("react.scope"):60119;function M(D){if(typeof D=="object"&&D!==null){var Y=D.$$typeof;switch(Y){case r:switch(D=D.type,D){case x:case p:case i:case u:case c:case j:return D;default:switch(D=D&&D.$$typeof,D){case f:case b:case v:case E:case m:return D;default:return Y}}case n:return Y}}}function A(D){return M(D)===p}return st.AsyncMode=x,st.ConcurrentMode=p,st.ContextConsumer=f,st.ContextProvider=m,st.Element=r,st.ForwardRef=b,st.Fragment=i,st.Lazy=v,st.Memo=E,st.Portal=n,st.Profiler=u,st.StrictMode=c,st.Suspense=j,st.isAsyncMode=function(D){return A(D)||M(D)===x},st.isConcurrentMode=A,st.isContextConsumer=function(D){return M(D)===f},st.isContextProvider=function(D){return M(D)===m},st.isElement=function(D){return typeof D=="object"&&D!==null&&D.$$typeof===r},st.isForwardRef=function(D){return M(D)===b},st.isFragment=function(D){return M(D)===i},st.isLazy=function(D){return M(D)===v},st.isMemo=function(D){return M(D)===E},st.isPortal=function(D){return M(D)===n},st.isProfiler=function(D){return M(D)===u},st.isStrictMode=function(D){return M(D)===c},st.isSuspense=function(D){return M(D)===j},st.isValidElementType=function(D){return typeof D=="string"||typeof D=="function"||D===i||D===p||D===u||D===c||D===j||D===w||typeof D=="object"&&D!==null&&(D.$$typeof===v||D.$$typeof===E||D.$$typeof===m||D.$$typeof===f||D.$$typeof===b||D.$$typeof===C||D.$$typeof===k||D.$$typeof===N||D.$$typeof===T)},st.typeOf=M,st}var tp;function zw(){return tp||(tp=1,dm.exports=Uw()),dm.exports}var um,sp;function Pw(){if(sp)return um;sp=1;var s=zw(),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},c={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};u[s.ForwardRef]=i,u[s.Memo]=c;function m(v){return s.isMemo(v)?c:u[v.$$typeof]||r}var f=Object.defineProperty,x=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,b=Object.getOwnPropertyDescriptor,j=Object.getPrototypeOf,w=Object.prototype;function E(v,T,C){if(typeof T!="string"){if(w){var k=j(T);k&&k!==w&&E(v,k,C)}var N=x(T);p&&(N=N.concat(p(T)));for(var M=m(v),A=m(T),D=0;D<N.length;++D){var Y=N[D];if(!n[Y]&&!(C&&C[Y])&&!(A&&A[Y])&&!(M&&M[Y])){var Q=b(T,Y);try{f(v,Y,Q)}catch{}}}}return v}return um=E,um}var $w=Pw();const Yw=Fm($w);function Mm(){return Mm=Object.assign||function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=n[i])}return s},Mm.apply(this,arguments)}function Bw(s,r){if(s==null)return{};var n={},i=Object.keys(s),c,u;for(u=0;u<i.length;u++)c=i[u],!(r.indexOf(c)>=0)&&(n[c]=s[c]);return n}function Hw(s,r){s.prototype=Object.create(r.prototype),s.prototype.constructor=s,s.__proto__=r}var Vs={},qw=0;function Gw(s,r){return r=r||{},function(i){var c=i.displayName||i.name||"Component",u=(function(f){Hw(x,f);function x(b,j){var w;return w=f.call(this,b,j)||this,w.state={},w.__scriptURL="",w}var p=x.prototype;return p.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+qw++),this.__scriptLoaderID},p.setupScriptURL=function(){return this.__scriptURL=typeof s=="function"?s():s,this.__scriptURL},p.asyncScriptLoaderHandleLoad=function(j){var w=this;this.setState(j,function(){return w.props.asyncScriptOnLoad&&w.props.asyncScriptOnLoad(w.state)})},p.asyncScriptLoaderTriggerOnScriptLoaded=function(){var j=Vs[this.__scriptURL];if(!j||!j.loaded)throw new Error("Script is not loaded.");for(var w in j.observers)j.observers[w](j);delete window[r.callbackName]},p.componentDidMount=function(){var j=this,w=this.setupScriptURL(),E=this.asyncScriptLoaderGetScriptLoaderID(),v=r,T=v.globalName,C=v.callbackName,k=v.scriptId;if(T&&typeof window[T]<"u"&&(Vs[w]={loaded:!0,observers:{}}),Vs[w]){var N=Vs[w];if(N&&(N.loaded||N.errored)){this.asyncScriptLoaderHandleLoad(N);return}N.observers[E]=function(Q){return j.asyncScriptLoaderHandleLoad(Q)};return}var M={};M[E]=function(Q){return j.asyncScriptLoaderHandleLoad(Q)},Vs[w]={loaded:!1,observers:M};var A=document.createElement("script");A.src=w,A.async=!0;for(var D in r.attributes)A.setAttribute(D,r.attributes[D]);k&&(A.id=k);var Y=function(q){if(Vs[w]){var ne=Vs[w],re=ne.observers;for(var B in re)q(re[B])&&delete re[B]}};C&&typeof window<"u"&&(window[C]=function(){return j.asyncScriptLoaderTriggerOnScriptLoaded()}),A.onload=function(){var Q=Vs[w];Q&&(Q.loaded=!0,Y(function(q){return C?!1:(q(Q),!0)}))},A.onerror=function(){var Q=Vs[w];Q&&(Q.errored=!0,Y(function(q){return q(Q),!0}))},document.body.appendChild(A)},p.componentWillUnmount=function(){var j=this.__scriptURL;if(r.removeOnUnmount===!0)for(var w=document.getElementsByTagName("script"),E=0;E<w.length;E+=1)w[E].src.indexOf(j)>-1&&w[E].parentNode&&w[E].parentNode.removeChild(w[E]);var v=Vs[j];v&&(delete v.observers[this.asyncScriptLoaderGetScriptLoaderID()],r.removeOnUnmount===!0&&delete Vs[j])},p.render=function(){var j=r.globalName,w=this.props;w.asyncScriptOnLoad;var E=w.forwardedRef,v=Bw(w,["asyncScriptOnLoad","forwardedRef"]);return j&&typeof window<"u"&&(v[j]=typeof window[j]<"u"?window[j]:void 0),v.ref=E,g.createElement(i,v)},x})(g.Component),m=g.forwardRef(function(f,x){return g.createElement(u,Mm({},f,{forwardedRef:x}))});return m.displayName="AsyncScriptLoader("+c+")",m.propTypes={asyncScriptOnLoad:Te.func},Yw(m,i)}}var Dm="onloadcallback",Iw="grecaptcha";function Om(){return typeof window<"u"&&window.recaptchaOptions||{}}function Fw(){var s=Om(),r=s.useRecaptchaNet?"recaptcha.net":"www.google.com";return s.enterprise?"https://"+r+"/recaptcha/enterprise.js?onload="+Dm+"&render=explicit":"https://"+r+"/recaptcha/api.js?onload="+Dm+"&render=explicit"}const Vw=Gw(Fw,{callbackName:Dm,globalName:Iw,attributes:Om().nonce?{nonce:Om().nonce}:{}})(Sc);function ch({sitekey:s,onChange:r,onExpired:n,onErrored:i}){return e.jsx("div",{className:"flex justify-center mt-4 sm:mt-6 mb-4 sm:mb-6",children:e.jsx("div",{className:"w-full max-w-xs flex justify-center",children:e.jsx(Vw,{sitekey:s,onChange:r,onExpired:n,onErrored:i,size:"normal",theme:"light"})})})}ch.propTypes={sitekey:Te.string.isRequired,onChange:Te.func.isRequired,onExpired:Te.func.isRequired,onErrored:Te.func.isRequired};function dh({message:s}){return s?e.jsx("div",{children:e.jsx("p",{className:"text-red-600 text-sm text-center",children:s})}):null}dh.propTypes={message:Te.string};const Qw="6Lfty3MqAAAAACp-CJm8DFxDW1GfjdR1aXqHbqpg";function Xw(){const s=dt(),r=Ys(),{showConfirmDialog:n,showError:i}=r,[c,u]=g.useState(null),[m,f]=g.useState(""),x=F1({onSuccess:async b=>{if(f(""),!c){f("Please complete the reCAPTCHA.");return}try{const E=(await(await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${b.access_token}`}})).json()).email,v=E.endsWith("@student.buksu.edu.ph"),T=E.endsWith("@gmail.com");if(!v&&!T){f("Please use your Buksu institutional email account.");return}const C=await fetch("http://localhost:5000/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:E,userType:v?"student":"instructor"})}),k=await C.json();if(C.ok)sessionStorage.setItem("authToken",b.access_token),sessionStorage.setItem("userInfo",JSON.stringify(k.user)),sessionStorage.setItem("accessToken",k.token),sessionStorage.setItem("userType",v?"student":"instructor"),s(v?"/student":"/instructor");else{if(C.status===423){i(k.message||"Account is temporarily locked due to too many failed login attempts.","Account Locked");return}if(k.message==="Student not registered"&&v){n("Account Not Found",`No account found for ${E}. Would you like to create a new student account with this email?`,()=>{s("/studentRegister",{state:{email:E}})});return}if(k.message==="Instructor not registered"&&T){i("Please wait for admin invitation to access the system.","Access Denied");return}if(k.message==="Account not approved yet"){i("Your account is pending admin approval. Please check your email.","Account Pending");return}let N=k.message||"Login failed.";k.remainingAttempts!==void 0&&k.remainingAttempts>0&&(N+=` ${k.remainingAttempts} attempt${k.remainingAttempts>1?"s":""} remaining.`),i(N,"Login Failed")}}catch{i("An error occurred while logging in.","Login Error")}},onError:()=>{i("Login failed. Please try again.","Login Failed")}}),p=b=>u(b);return e.jsx(Bs,{notifications:r,children:e.jsxs("div",{className:"flex min-h-screen lg:flex-row flex-col",children:[e.jsx(oh,{logoSrc:jr,backgroundSrc:sh,title:"BUKSU GRADING SYSTEM"}),e.jsxs(Sb,{children:[e.jsx(vb,{title:"Welcome back",subtitle:"Sign in using your institutional Google account"}),e.jsx(jb,{onClick:x}),e.jsx(wb,{}),e.jsx(Nb,{to:"/adminLogin"}),e.jsx(ch,{sitekey:Qw,onChange:p,onExpired:()=>{},onErrored:()=>{}}),e.jsx(dh,{message:m})]})]})})}const Zw="/assets/buksu-logo-D6kBo6NY-D6kBo6NY.png";function Cb({logoSrc:s,title:r,subtitle:n,loginLink:i}){return e.jsxs("div",{className:"text-center lg:text-left",children:[e.jsxs("div",{className:"inline-block relative",children:[e.jsx("div",{className:"absolute inset-0 bg-blue-400 rounded-full blur-2xl opacity-20 animate-pulse"}),e.jsx("img",{src:s,alt:"BUKSU Logo",className:"relative block mx-auto lg:mx-0 mb-6 w-32 h-32 rounded-full object-cover shadow-2xl ring-4 ring-white"})]}),e.jsx("h1",{className:"font-outfit font-bold text-gray-900 text-4xl mb-2",children:r}),e.jsx("p",{className:"text-gray-600 text-lg",children:n}),i&&e.jsxs("p",{className:"text-gray-600 text-lg pt-5",children:["Already registered?"," ",e.jsx("a",{href:i,className:"text-blue-500 hover:underline",children:"Login"})]})]})}Cb.propTypes={logoSrc:Te.string.isRequired,title:Te.string.isRequired,subtitle:Te.string.isRequired,loginLink:Te.string};function ci({id:s,label:r,type:n="text",value:i,onChange:c,placeholder:u,required:m=!1,readOnly:f=!1,icon:x,helperText:p}){return e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:s,className:"block text-sm font-semibold text-gray-700",children:e.jsxs("span",{className:"flex items-center gap-2",children:[x,r]})}),e.jsx("input",{type:n,id:s,placeholder:u,value:i,onChange:c,required:m,readOnly:f,className:`w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none transition-all text-sm ${f?"bg-gray-50 text-gray-600":"focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`}),p&&e.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),p]})]})}ci.propTypes={id:Te.string.isRequired,label:Te.string.isRequired,type:Te.string,value:Te.string.isRequired,onChange:Te.func,placeholder:Te.string,required:Te.bool,readOnly:Te.bool,icon:Te.node,helperText:Te.string};function tc({id:s,label:r,value:n,onChange:i,options:c,placeholder:u="Select an option",required:m=!1,icon:f}){return e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:s,className:"block text-sm font-semibold text-gray-700",children:e.jsxs("span",{className:"flex items-center gap-2",children:[f,r]})}),e.jsxs("select",{id:s,value:n,onChange:i,required:m,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all appearance-none bg-white cursor-pointer text-sm",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%236B7280'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundSize:"20px",backgroundPosition:"right 12px center",backgroundRepeat:"no-repeat"},children:[e.jsx("option",{value:"",children:u}),c.map(x=>e.jsx("option",{value:x.value,children:x.label},x.value))]})]})}tc.propTypes={id:Te.string.isRequired,label:Te.string.isRequired,value:Te.string.isRequired,onChange:Te.func.isRequired,options:Te.arrayOf(Te.shape({value:Te.string.isRequired,label:Te.string.isRequired})).isRequired,placeholder:Te.string,required:Te.bool,icon:Te.node};function Rm({message:s,type:r="error"}){if(!s)return null;const n=r==="error",i=n?"bg-red-50":"bg-green-50",c=n?"border-red-500":"border-green-500",u=n?"text-red-700":"text-green-700",m=n?"text-red-500":"text-green-500";return e.jsx("div",{className:`p-4 ${i} border-l-4 ${c} rounded-lg`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("svg",{className:`w-5 h-5 ${m} flex-shrink-0`,fill:"currentColor",viewBox:"0 0 20 20",children:n?e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}):e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("p",{className:`${u} text-sm font-medium`,children:s})]})})}Rm.propTypes={message:Te.string,type:Te.oneOf(["error","success"])};function kb({loading:s,text:r="Complete Registration",loadingText:n="Registering..."}){return e.jsx("button",{type:"submit",disabled:s,className:"w-full px-6 py-3.5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-indigo-700 transform hover:scale-[1.02] active:scale-[0.98] transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-blue-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none shadow-lg hover:shadow-xl flex items-center justify-center gap-2",children:s?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})}),e.jsx("span",{children:n})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:r}),e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})}kb.propTypes={loading:Te.bool.isRequired,text:Te.string,loadingText:Te.string};const Ww=()=>e.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),Jw=()=>e.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"})}),Kw=()=>e.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),eS=()=>e.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),ap=()=>e.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),tS=()=>e.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),sS={"College of Arts and Science":{undergraduate:["Bachelor of Arts in Economics","Bachelor of Arts in English Language","Bachelor of Arts in Philosophy Pre-Law","Bachelor of Arts in Philosophy Teaching Track","Bachelor of Arts in Sociology","Bachelor of Science in Biology Major in Biotechnology","Bachelor of Science in Community Development","Bachelor of Science in Development Communication","Bachelor of Science in Environmental Science major in Environmental Heritage Studies","Bachelor of Science in Mathematics"],postgraduate:["Doctor of Philosophy in English Language","Master of Arts in English Language","Master of Arts in Guidance and Counseling","Master of Arts in Sociology"]},"College of Business":{undergraduate:["Bachelor of Science in Accountancy","Bachelor of Science in Business Administration major in Financial Management","Bachelor of Science in Hospitality Management"],postgraduate:["Master of Business Administration"]},"College of Education":{undergraduate:["Bachelor of Early Childhood Education","Bachelor of Elementary Education","Bachelor of Physical Education","Bachelor of Secondary Education Major in English","Bachelor of Secondary Education Major in Filipino","Bachelor of Secondary Education Major in Mathematics","Bachelor of Secondary Education Major in Science","Bachelor of Secondary Education Major in Social Studies"],postgraduate:["Doctor of Philosophy in Education Major in Instructional Systems Design","Doctor of Philosophy in Educational Administration","Doctor of Philosophy in Science Education Major in Biology","Doctor of Philosophy in Science Education Major in Mathematics","Master of Arts in Education Major in Educational Administration","Master of Arts in Education Major in English Language Teaching","Master of Arts in Education Major in General Science","Master of Arts in Education Major in Mathematics Education"]},"College of Nursing":{undergraduate:["Bachelor of Science in Nursing"],postgraduate:[]},"College of Law":{undergraduate:[],postgraduate:["Juris Doctor"]},"College of Technology":{undergraduate:["Bachelor of Science in Automotive Technology","Bachelor of Science in Electronics Technology","Bachelor of Science in Entertainment and Multimedia Computing Major in Digital Animation Technology","Bachelor of Science in Food Technology","Bachelor of Science in Information Technology"],postgraduate:[]},"College of Public Administration":{undergraduate:["Bachelor of Public Administration"],postgraduate:["Doctor of Public Administration","Master of Public Administration"]}},aS=s=>{const r=sS[s];return r?[...r.undergraduate,...r.postgraduate].map(i=>({value:i,label:i})):[]};function rp(){const s=rs(),r=dt(),n=s.state?.email||"",[i,c]=g.useState(""),[u,m]=g.useState(""),[f,x]=g.useState(""),[p,b]=g.useState(""),[j,w]=g.useState(""),[E,v]=g.useState(""),[T,C]=g.useState(""),[k,N]=g.useState(!1),[M,A]=g.useState([]),D=[{value:"College of Education",label:"College of Education"},{value:"College of Public Administration",label:"College of Public Administration"},{value:"College of Nursing",label:"College of Nursing"},{value:"College of Business",label:"College of Business"},{value:"College of Technology",label:"College of Technology"},{value:"College of Arts and Science",label:"College of Arts and Science"},{value:"College of Law",label:"College of Law"}];g.useEffect(()=>{if(f){const q=aS(f);A(q),b("")}else A([]),b("")},[f]);const Y=[{value:"1st Year",label:"1st Year"},{value:"2nd Year",label:"2nd Year"},{value:"3rd Year",label:"3rd Year"},{value:"4th Year",label:"4th Year"},{value:"5th Year",label:"5th Year"}],Q=async q=>{if(q.preventDefault(),v(""),C(""),N(!0),!i||!u||!f||!p||!j){v("All fields are required."),N(!1);return}try{const ne=await fetch("http://localhost:5000/api/student/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,studid:i,fullName:u,college:f,course:p,yearLevel:j})}),re=await ne.json();ne.ok?(C(re.message||"Registration successful! Your account has been automatically approved."),setTimeout(()=>{r("/")},2e3)):v(re.message||"Registration failed.")}catch(ne){console.error("Registration error:",ne),v("An error occurred during registration.")}finally{N(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_1.2fr] gap-15 items-center",children:[e.jsx(Cb,{logoSrc:Zw,title:"Student Registration",subtitle:"Complete your profile to get started",loginLink:"/"}),e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:e.jsx("div",{className:"p-8",children:e.jsxs("form",{onSubmit:Q,className:"space-y-5",children:[e.jsx(ci,{id:"email",label:"Email Address",type:"email",value:n,readOnly:!0,icon:e.jsx(Ww,{}),helperText:"Your institutional email"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx(ci,{id:"studid",label:"Student ID",type:"text",placeholder:"e.g. 2021-12345",value:i,onChange:q=>c(q.target.value),required:!0,icon:e.jsx(Jw,{})}),e.jsx(ci,{id:"fullName",label:"Full Name",type:"text",placeholder:"Juan Dela Cruz",value:u,onChange:q=>m(q.target.value),required:!0,icon:e.jsx(Kw,{})})]}),e.jsx(tc,{id:"college",label:"College",value:f,onChange:q=>x(q.target.value),options:D,placeholder:"Select your college",required:!0,icon:e.jsx(eS,{})}),f&&M.length>0?e.jsx(tc,{id:"course",label:"Course",value:p,onChange:q=>b(q.target.value),options:M,placeholder:"Select your course",required:!0,icon:e.jsx(ap,{})}):e.jsx(ci,{id:"course",label:"Course",type:"text",placeholder:f?"No courses available":"Select a college first",value:p,onChange:q=>b(q.target.value),required:!0,readOnly:!f,icon:e.jsx(ap,{})}),e.jsx(tc,{id:"yearLevel",label:"Year Level",value:j,onChange:q=>w(q.target.value),options:Y,placeholder:"Select your year level",required:!0,icon:e.jsx(tS,{})}),e.jsx(Rm,{message:E,type:"error"}),e.jsx(Rm,{message:T,type:"success"}),e.jsx(kb,{loading:k})]})})})]})})})}function Eb(s,r){return function(){return s.apply(r,arguments)}}const{toString:rS}=Object.prototype,{getPrototypeOf:uh}=Object,{iterator:Cc,toStringTag:Tb}=Symbol,kc=(s=>r=>{const n=rS.call(r);return s[n]||(s[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),sa=s=>(s=s.toLowerCase(),r=>kc(r)===s),Ec=s=>r=>typeof r===s,{isArray:Kn}=Array,Fn=Ec("undefined");function ki(s){return s!==null&&!Fn(s)&&s.constructor!==null&&!Fn(s.constructor)&&xs(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const _b=sa("ArrayBuffer");function nS(s){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(s):r=s&&s.buffer&&_b(s.buffer),r}const lS=Ec("string"),xs=Ec("function"),Ab=Ec("number"),Ei=s=>s!==null&&typeof s=="object",iS=s=>s===!0||s===!1,sc=s=>{if(kc(s)!=="object")return!1;const r=uh(s);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Tb in s)&&!(Cc in s)},oS=s=>{if(!Ei(s)||ki(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},cS=sa("Date"),dS=sa("File"),uS=sa("Blob"),mS=sa("FileList"),hS=s=>Ei(s)&&xs(s.pipe),fS=s=>{let r;return s&&(typeof FormData=="function"&&s instanceof FormData||xs(s.append)&&((r=kc(s))==="formdata"||r==="object"&&xs(s.toString)&&s.toString()==="[object FormData]"))},xS=sa("URLSearchParams"),[gS,pS,bS,yS]=["ReadableStream","Request","Response","Headers"].map(sa),jS=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ti(s,r,{allOwnKeys:n=!1}={}){if(s===null||typeof s>"u")return;let i,c;if(typeof s!="object"&&(s=[s]),Kn(s))for(i=0,c=s.length;i<c;i++)r.call(null,s[i],i,s);else{if(ki(s))return;const u=n?Object.getOwnPropertyNames(s):Object.keys(s),m=u.length;let f;for(i=0;i<m;i++)f=u[i],r.call(null,s[f],f,s)}}function Mb(s,r){if(ki(s))return null;r=r.toLowerCase();const n=Object.keys(s);let i=n.length,c;for(;i-- >0;)if(c=n[i],r===c.toLowerCase())return c;return null}const qr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Db=s=>!Fn(s)&&s!==qr;function Lm(){const{caseless:s,skipUndefined:r}=Db(this)&&this||{},n={},i=(c,u)=>{const m=s&&Mb(n,u)||u;sc(n[m])&&sc(c)?n[m]=Lm(n[m],c):sc(c)?n[m]=Lm({},c):Kn(c)?n[m]=c.slice():(!r||!Fn(c))&&(n[m]=c)};for(let c=0,u=arguments.length;c<u;c++)arguments[c]&&Ti(arguments[c],i);return n}const vS=(s,r,n,{allOwnKeys:i}={})=>(Ti(r,(c,u)=>{n&&xs(c)?s[u]=Eb(c,n):s[u]=c},{allOwnKeys:i}),s),NS=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),wS=(s,r,n,i)=>{s.prototype=Object.create(r.prototype,i),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:r.prototype}),n&&Object.assign(s.prototype,n)},SS=(s,r,n,i)=>{let c,u,m;const f={};if(r=r||{},s==null)return r;do{for(c=Object.getOwnPropertyNames(s),u=c.length;u-- >0;)m=c[u],(!i||i(m,s,r))&&!f[m]&&(r[m]=s[m],f[m]=!0);s=n!==!1&&uh(s)}while(s&&(!n||n(s,r))&&s!==Object.prototype);return r},CS=(s,r,n)=>{s=String(s),(n===void 0||n>s.length)&&(n=s.length),n-=r.length;const i=s.indexOf(r,n);return i!==-1&&i===n},kS=s=>{if(!s)return null;if(Kn(s))return s;let r=s.length;if(!Ab(r))return null;const n=new Array(r);for(;r-- >0;)n[r]=s[r];return n},ES=(s=>r=>s&&r instanceof s)(typeof Uint8Array<"u"&&uh(Uint8Array)),TS=(s,r)=>{const i=(s&&s[Cc]).call(s);let c;for(;(c=i.next())&&!c.done;){const u=c.value;r.call(s,u[0],u[1])}},_S=(s,r)=>{let n;const i=[];for(;(n=s.exec(r))!==null;)i.push(n);return i},AS=sa("HTMLFormElement"),MS=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,c){return i.toUpperCase()+c}),np=(({hasOwnProperty:s})=>(r,n)=>s.call(r,n))(Object.prototype),DS=sa("RegExp"),Ob=(s,r)=>{const n=Object.getOwnPropertyDescriptors(s),i={};Ti(n,(c,u)=>{let m;(m=r(c,u,s))!==!1&&(i[u]=m||c)}),Object.defineProperties(s,i)},OS=s=>{Ob(s,(r,n)=>{if(xs(s)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=s[n];if(xs(i)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},RS=(s,r)=>{const n={},i=c=>{c.forEach(u=>{n[u]=!0})};return Kn(s)?i(s):i(String(s).split(r)),n},LS=()=>{},US=(s,r)=>s!=null&&Number.isFinite(s=+s)?s:r;function zS(s){return!!(s&&xs(s.append)&&s[Tb]==="FormData"&&s[Cc])}const PS=s=>{const r=new Array(10),n=(i,c)=>{if(Ei(i)){if(r.indexOf(i)>=0)return;if(ki(i))return i;if(!("toJSON"in i)){r[c]=i;const u=Kn(i)?[]:{};return Ti(i,(m,f)=>{const x=n(m,c+1);!Fn(x)&&(u[f]=x)}),r[c]=void 0,u}}return i};return n(s,0)},$S=sa("AsyncFunction"),YS=s=>s&&(Ei(s)||xs(s))&&xs(s.then)&&xs(s.catch),Rb=((s,r)=>s?setImmediate:r?((n,i)=>(qr.addEventListener("message",({source:c,data:u})=>{c===qr&&u===n&&i.length&&i.shift()()},!1),c=>{i.push(c),qr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",xs(qr.postMessage)),BS=typeof queueMicrotask<"u"?queueMicrotask.bind(qr):typeof process<"u"&&process.nextTick||Rb,HS=s=>s!=null&&xs(s[Cc]),ee={isArray:Kn,isArrayBuffer:_b,isBuffer:ki,isFormData:fS,isArrayBufferView:nS,isString:lS,isNumber:Ab,isBoolean:iS,isObject:Ei,isPlainObject:sc,isEmptyObject:oS,isReadableStream:gS,isRequest:pS,isResponse:bS,isHeaders:yS,isUndefined:Fn,isDate:cS,isFile:dS,isBlob:uS,isRegExp:DS,isFunction:xs,isStream:hS,isURLSearchParams:xS,isTypedArray:ES,isFileList:mS,forEach:Ti,merge:Lm,extend:vS,trim:jS,stripBOM:NS,inherits:wS,toFlatObject:SS,kindOf:kc,kindOfTest:sa,endsWith:CS,toArray:kS,forEachEntry:TS,matchAll:_S,isHTMLForm:AS,hasOwnProperty:np,hasOwnProp:np,reduceDescriptors:Ob,freezeMethods:OS,toObjectSet:RS,toCamelCase:MS,noop:LS,toFiniteNumber:US,findKey:Mb,global:qr,isContextDefined:Db,isSpecCompliantForm:zS,toJSONObject:PS,isAsyncFn:$S,isThenable:YS,setImmediate:Rb,asap:BS,isIterable:HS};function Pe(s,r,n,i,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",r&&(this.code=r),n&&(this.config=n),i&&(this.request=i),c&&(this.response=c,this.status=c.status?c.status:null)}ee.inherits(Pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ee.toJSONObject(this.config),code:this.code,status:this.status}}});const Lb=Pe.prototype,Ub={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{Ub[s]={value:s}});Object.defineProperties(Pe,Ub);Object.defineProperty(Lb,"isAxiosError",{value:!0});Pe.from=(s,r,n,i,c,u)=>{const m=Object.create(Lb);ee.toFlatObject(s,m,function(b){return b!==Error.prototype},p=>p!=="isAxiosError");const f=s&&s.message?s.message:"Error",x=r==null&&s?s.code:r;return Pe.call(m,f,x,n,i,c),s&&m.cause==null&&Object.defineProperty(m,"cause",{value:s,configurable:!0}),m.name=s&&s.name||"Error",u&&Object.assign(m,u),m};const qS=null;function Um(s){return ee.isPlainObject(s)||ee.isArray(s)}function zb(s){return ee.endsWith(s,"[]")?s.slice(0,-2):s}function lp(s,r,n){return s?s.concat(r).map(function(c,u){return c=zb(c),!n&&u?"["+c+"]":c}).join(n?".":""):r}function GS(s){return ee.isArray(s)&&!s.some(Um)}const IS=ee.toFlatObject(ee,{},null,function(r){return/^is[A-Z]/.test(r)});function Tc(s,r,n){if(!ee.isObject(s))throw new TypeError("target must be an object");r=r||new FormData,n=ee.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,C){return!ee.isUndefined(C[T])});const i=n.metaTokens,c=n.visitor||b,u=n.dots,m=n.indexes,x=(n.Blob||typeof Blob<"u"&&Blob)&&ee.isSpecCompliantForm(r);if(!ee.isFunction(c))throw new TypeError("visitor must be a function");function p(v){if(v===null)return"";if(ee.isDate(v))return v.toISOString();if(ee.isBoolean(v))return v.toString();if(!x&&ee.isBlob(v))throw new Pe("Blob is not supported. Use a Buffer instead.");return ee.isArrayBuffer(v)||ee.isTypedArray(v)?x&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function b(v,T,C){let k=v;if(v&&!C&&typeof v=="object"){if(ee.endsWith(T,"{}"))T=i?T:T.slice(0,-2),v=JSON.stringify(v);else if(ee.isArray(v)&&GS(v)||(ee.isFileList(v)||ee.endsWith(T,"[]"))&&(k=ee.toArray(v)))return T=zb(T),k.forEach(function(M,A){!(ee.isUndefined(M)||M===null)&&r.append(m===!0?lp([T],A,u):m===null?T:T+"[]",p(M))}),!1}return Um(v)?!0:(r.append(lp(C,T,u),p(v)),!1)}const j=[],w=Object.assign(IS,{defaultVisitor:b,convertValue:p,isVisitable:Um});function E(v,T){if(!ee.isUndefined(v)){if(j.indexOf(v)!==-1)throw Error("Circular reference detected in "+T.join("."));j.push(v),ee.forEach(v,function(k,N){(!(ee.isUndefined(k)||k===null)&&c.call(r,k,ee.isString(N)?N.trim():N,T,w))===!0&&E(k,T?T.concat(N):[N])}),j.pop()}}if(!ee.isObject(s))throw new TypeError("data must be an object");return E(s),r}function ip(s){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(i){return r[i]})}function mh(s,r){this._pairs=[],s&&Tc(s,this,r)}const Pb=mh.prototype;Pb.append=function(r,n){this._pairs.push([r,n])};Pb.toString=function(r){const n=r?function(i){return r.call(this,i,ip)}:ip;return this._pairs.map(function(c){return n(c[0])+"="+n(c[1])},"").join("&")};function FS(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function $b(s,r,n){if(!r)return s;const i=n&&n.encode||FS;ee.isFunction(n)&&(n={serialize:n});const c=n&&n.serialize;let u;if(c?u=c(r,n):u=ee.isURLSearchParams(r)?r.toString():new mh(r,n).toString(i),u){const m=s.indexOf("#");m!==-1&&(s=s.slice(0,m)),s+=(s.indexOf("?")===-1?"?":"&")+u}return s}class op{constructor(){this.handlers=[]}use(r,n,i){return this.handlers.push({fulfilled:r,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){ee.forEach(this.handlers,function(i){i!==null&&r(i)})}}const Yb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},VS=typeof URLSearchParams<"u"?URLSearchParams:mh,QS=typeof FormData<"u"?FormData:null,XS=typeof Blob<"u"?Blob:null,ZS={isBrowser:!0,classes:{URLSearchParams:VS,FormData:QS,Blob:XS},protocols:["http","https","file","blob","url","data"]},hh=typeof window<"u"&&typeof document<"u",zm=typeof navigator=="object"&&navigator||void 0,WS=hh&&(!zm||["ReactNative","NativeScript","NS"].indexOf(zm.product)<0),JS=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",KS=hh&&window.location.href||"http://localhost",e4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:hh,hasStandardBrowserEnv:WS,hasStandardBrowserWebWorkerEnv:JS,navigator:zm,origin:KS},Symbol.toStringTag,{value:"Module"})),ts={...e4,...ZS};function t4(s,r){return Tc(s,new ts.classes.URLSearchParams,{visitor:function(n,i,c,u){return ts.isNode&&ee.isBuffer(n)?(this.append(i,n.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)},...r})}function s4(s){return ee.matchAll(/\w+|\[(\w*)]/g,s).map(r=>r[0]==="[]"?"":r[1]||r[0])}function a4(s){const r={},n=Object.keys(s);let i;const c=n.length;let u;for(i=0;i<c;i++)u=n[i],r[u]=s[u];return r}function Bb(s){function r(n,i,c,u){let m=n[u++];if(m==="__proto__")return!0;const f=Number.isFinite(+m),x=u>=n.length;return m=!m&&ee.isArray(c)?c.length:m,x?(ee.hasOwnProp(c,m)?c[m]=[c[m],i]:c[m]=i,!f):((!c[m]||!ee.isObject(c[m]))&&(c[m]=[]),r(n,i,c[m],u)&&ee.isArray(c[m])&&(c[m]=a4(c[m])),!f)}if(ee.isFormData(s)&&ee.isFunction(s.entries)){const n={};return ee.forEachEntry(s,(i,c)=>{r(s4(i),c,n,0)}),n}return null}function r4(s,r,n){if(ee.isString(s))try{return(r||JSON.parse)(s),ee.trim(s)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(s)}const _i={transitional:Yb,adapter:["xhr","http","fetch"],transformRequest:[function(r,n){const i=n.getContentType()||"",c=i.indexOf("application/json")>-1,u=ee.isObject(r);if(u&&ee.isHTMLForm(r)&&(r=new FormData(r)),ee.isFormData(r))return c?JSON.stringify(Bb(r)):r;if(ee.isArrayBuffer(r)||ee.isBuffer(r)||ee.isStream(r)||ee.isFile(r)||ee.isBlob(r)||ee.isReadableStream(r))return r;if(ee.isArrayBufferView(r))return r.buffer;if(ee.isURLSearchParams(r))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let f;if(u){if(i.indexOf("application/x-www-form-urlencoded")>-1)return t4(r,this.formSerializer).toString();if((f=ee.isFileList(r))||i.indexOf("multipart/form-data")>-1){const x=this.env&&this.env.FormData;return Tc(f?{"files[]":r}:r,x&&new x,this.formSerializer)}}return u||c?(n.setContentType("application/json",!1),r4(r)):r}],transformResponse:[function(r){const n=this.transitional||_i.transitional,i=n&&n.forcedJSONParsing,c=this.responseType==="json";if(ee.isResponse(r)||ee.isReadableStream(r))return r;if(r&&ee.isString(r)&&(i&&!this.responseType||c)){const m=!(n&&n.silentJSONParsing)&&c;try{return JSON.parse(r,this.parseReviver)}catch(f){if(m)throw f.name==="SyntaxError"?Pe.from(f,Pe.ERR_BAD_RESPONSE,this,null,this.response):f}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ts.classes.FormData,Blob:ts.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ee.forEach(["delete","get","head","post","put","patch"],s=>{_i.headers[s]={}});const n4=ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),l4=s=>{const r={};let n,i,c;return s&&s.split(`
`).forEach(function(m){c=m.indexOf(":"),n=m.substring(0,c).trim().toLowerCase(),i=m.substring(c+1).trim(),!(!n||r[n]&&n4[n])&&(n==="set-cookie"?r[n]?r[n].push(i):r[n]=[i]:r[n]=r[n]?r[n]+", "+i:i)}),r},cp=Symbol("internals");function ai(s){return s&&String(s).trim().toLowerCase()}function ac(s){return s===!1||s==null?s:ee.isArray(s)?s.map(ac):String(s)}function i4(s){const r=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(s);)r[i[1]]=i[2];return r}const o4=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function mm(s,r,n,i,c){if(ee.isFunction(i))return i.call(this,r,n);if(c&&(r=n),!!ee.isString(r)){if(ee.isString(i))return r.indexOf(i)!==-1;if(ee.isRegExp(i))return i.test(r)}}function c4(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,n,i)=>n.toUpperCase()+i)}function d4(s,r){const n=ee.toCamelCase(" "+r);["get","set","has"].forEach(i=>{Object.defineProperty(s,i+n,{value:function(c,u,m){return this[i].call(this,r,c,u,m)},configurable:!0})})}let gs=class{constructor(r){r&&this.set(r)}set(r,n,i){const c=this;function u(f,x,p){const b=ai(x);if(!b)throw new Error("header name must be a non-empty string");const j=ee.findKey(c,b);(!j||c[j]===void 0||p===!0||p===void 0&&c[j]!==!1)&&(c[j||x]=ac(f))}const m=(f,x)=>ee.forEach(f,(p,b)=>u(p,b,x));if(ee.isPlainObject(r)||r instanceof this.constructor)m(r,n);else if(ee.isString(r)&&(r=r.trim())&&!o4(r))m(l4(r),n);else if(ee.isObject(r)&&ee.isIterable(r)){let f={},x,p;for(const b of r){if(!ee.isArray(b))throw TypeError("Object iterator must return a key-value pair");f[p=b[0]]=(x=f[p])?ee.isArray(x)?[...x,b[1]]:[x,b[1]]:b[1]}m(f,n)}else r!=null&&u(n,r,i);return this}get(r,n){if(r=ai(r),r){const i=ee.findKey(this,r);if(i){const c=this[i];if(!n)return c;if(n===!0)return i4(c);if(ee.isFunction(n))return n.call(this,c,i);if(ee.isRegExp(n))return n.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,n){if(r=ai(r),r){const i=ee.findKey(this,r);return!!(i&&this[i]!==void 0&&(!n||mm(this,this[i],i,n)))}return!1}delete(r,n){const i=this;let c=!1;function u(m){if(m=ai(m),m){const f=ee.findKey(i,m);f&&(!n||mm(i,i[f],f,n))&&(delete i[f],c=!0)}}return ee.isArray(r)?r.forEach(u):u(r),c}clear(r){const n=Object.keys(this);let i=n.length,c=!1;for(;i--;){const u=n[i];(!r||mm(this,this[u],u,r,!0))&&(delete this[u],c=!0)}return c}normalize(r){const n=this,i={};return ee.forEach(this,(c,u)=>{const m=ee.findKey(i,u);if(m){n[m]=ac(c),delete n[u];return}const f=r?c4(u):String(u).trim();f!==u&&delete n[u],n[f]=ac(c),i[f]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const n=Object.create(null);return ee.forEach(this,(i,c)=>{i!=null&&i!==!1&&(n[c]=r&&ee.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,n])=>r+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...n){const i=new this(r);return n.forEach(c=>i.set(c)),i}static accessor(r){const i=(this[cp]=this[cp]={accessors:{}}).accessors,c=this.prototype;function u(m){const f=ai(m);i[f]||(d4(c,m),i[f]=!0)}return ee.isArray(r)?r.forEach(u):u(r),this}};gs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ee.reduceDescriptors(gs.prototype,({value:s},r)=>{let n=r[0].toUpperCase()+r.slice(1);return{get:()=>s,set(i){this[n]=i}}});ee.freezeMethods(gs);function hm(s,r){const n=this||_i,i=r||n,c=gs.from(i.headers);let u=i.data;return ee.forEach(s,function(f){u=f.call(n,u,c.normalize(),r?r.status:void 0)}),c.normalize(),u}function Hb(s){return!!(s&&s.__CANCEL__)}function el(s,r,n){Pe.call(this,s??"canceled",Pe.ERR_CANCELED,r,n),this.name="CanceledError"}ee.inherits(el,Pe,{__CANCEL__:!0});function qb(s,r,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?s(n):r(new Pe("Request failed with status code "+n.status,[Pe.ERR_BAD_REQUEST,Pe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function u4(s){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return r&&r[1]||""}function m4(s,r){s=s||10;const n=new Array(s),i=new Array(s);let c=0,u=0,m;return r=r!==void 0?r:1e3,function(x){const p=Date.now(),b=i[u];m||(m=p),n[c]=x,i[c]=p;let j=u,w=0;for(;j!==c;)w+=n[j++],j=j%s;if(c=(c+1)%s,c===u&&(u=(u+1)%s),p-m<r)return;const E=b&&p-b;return E?Math.round(w*1e3/E):void 0}}function h4(s,r){let n=0,i=1e3/r,c,u;const m=(p,b=Date.now())=>{n=b,c=null,u&&(clearTimeout(u),u=null),s(...p)};return[(...p)=>{const b=Date.now(),j=b-n;j>=i?m(p,b):(c=p,u||(u=setTimeout(()=>{u=null,m(c)},i-j)))},()=>c&&m(c)]}const mc=(s,r,n=3)=>{let i=0;const c=m4(50,250);return h4(u=>{const m=u.loaded,f=u.lengthComputable?u.total:void 0,x=m-i,p=c(x),b=m<=f;i=m;const j={loaded:m,total:f,progress:f?m/f:void 0,bytes:x,rate:p||void 0,estimated:p&&f&&b?(f-m)/p:void 0,event:u,lengthComputable:f!=null,[r?"download":"upload"]:!0};s(j)},n)},dp=(s,r)=>{const n=s!=null;return[i=>r[0]({lengthComputable:n,total:s,loaded:i}),r[1]]},up=s=>(...r)=>ee.asap(()=>s(...r)),f4=ts.hasStandardBrowserEnv?((s,r)=>n=>(n=new URL(n,ts.origin),s.protocol===n.protocol&&s.host===n.host&&(r||s.port===n.port)))(new URL(ts.origin),ts.navigator&&/(msie|trident)/i.test(ts.navigator.userAgent)):()=>!0,x4=ts.hasStandardBrowserEnv?{write(s,r,n,i,c,u,m){if(typeof document>"u")return;const f=[`${s}=${encodeURIComponent(r)}`];ee.isNumber(n)&&f.push(`expires=${new Date(n).toUTCString()}`),ee.isString(i)&&f.push(`path=${i}`),ee.isString(c)&&f.push(`domain=${c}`),u===!0&&f.push("secure"),ee.isString(m)&&f.push(`SameSite=${m}`),document.cookie=f.join("; ")},read(s){if(typeof document>"u")return null;const r=document.cookie.match(new RegExp("(?:^|; )"+s+"=([^;]*)"));return r?decodeURIComponent(r[1]):null},remove(s){this.write(s,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function g4(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function p4(s,r){return r?s.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):s}function Gb(s,r,n){let i=!g4(r);return s&&(i||n==!1)?p4(s,r):r}const mp=s=>s instanceof gs?{...s}:s;function Xr(s,r){r=r||{};const n={};function i(p,b,j,w){return ee.isPlainObject(p)&&ee.isPlainObject(b)?ee.merge.call({caseless:w},p,b):ee.isPlainObject(b)?ee.merge({},b):ee.isArray(b)?b.slice():b}function c(p,b,j,w){if(ee.isUndefined(b)){if(!ee.isUndefined(p))return i(void 0,p,j,w)}else return i(p,b,j,w)}function u(p,b){if(!ee.isUndefined(b))return i(void 0,b)}function m(p,b){if(ee.isUndefined(b)){if(!ee.isUndefined(p))return i(void 0,p)}else return i(void 0,b)}function f(p,b,j){if(j in r)return i(p,b);if(j in s)return i(void 0,p)}const x={url:u,method:u,data:u,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,withXSRFToken:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:f,headers:(p,b,j)=>c(mp(p),mp(b),j,!0)};return ee.forEach(Object.keys({...s,...r}),function(b){const j=x[b]||c,w=j(s[b],r[b],b);ee.isUndefined(w)&&j!==f||(n[b]=w)}),n}const Ib=s=>{const r=Xr({},s);let{data:n,withXSRFToken:i,xsrfHeaderName:c,xsrfCookieName:u,headers:m,auth:f}=r;if(r.headers=m=gs.from(m),r.url=$b(Gb(r.baseURL,r.url,r.allowAbsoluteUrls),s.params,s.paramsSerializer),f&&m.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):""))),ee.isFormData(n)){if(ts.hasStandardBrowserEnv||ts.hasStandardBrowserWebWorkerEnv)m.setContentType(void 0);else if(ee.isFunction(n.getHeaders)){const x=n.getHeaders(),p=["content-type","content-length"];Object.entries(x).forEach(([b,j])=>{p.includes(b.toLowerCase())&&m.set(b,j)})}}if(ts.hasStandardBrowserEnv&&(i&&ee.isFunction(i)&&(i=i(r)),i||i!==!1&&f4(r.url))){const x=c&&u&&x4.read(u);x&&m.set(c,x)}return r},b4=typeof XMLHttpRequest<"u",y4=b4&&function(s){return new Promise(function(n,i){const c=Ib(s);let u=c.data;const m=gs.from(c.headers).normalize();let{responseType:f,onUploadProgress:x,onDownloadProgress:p}=c,b,j,w,E,v;function T(){E&&E(),v&&v(),c.cancelToken&&c.cancelToken.unsubscribe(b),c.signal&&c.signal.removeEventListener("abort",b)}let C=new XMLHttpRequest;C.open(c.method.toUpperCase(),c.url,!0),C.timeout=c.timeout;function k(){if(!C)return;const M=gs.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),D={data:!f||f==="text"||f==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:M,config:s,request:C};qb(function(Q){n(Q),T()},function(Q){i(Q),T()},D),C=null}"onloadend"in C?C.onloadend=k:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(k)},C.onabort=function(){C&&(i(new Pe("Request aborted",Pe.ECONNABORTED,s,C)),C=null)},C.onerror=function(A){const D=A&&A.message?A.message:"Network Error",Y=new Pe(D,Pe.ERR_NETWORK,s,C);Y.event=A||null,i(Y),C=null},C.ontimeout=function(){let A=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const D=c.transitional||Yb;c.timeoutErrorMessage&&(A=c.timeoutErrorMessage),i(new Pe(A,D.clarifyTimeoutError?Pe.ETIMEDOUT:Pe.ECONNABORTED,s,C)),C=null},u===void 0&&m.setContentType(null),"setRequestHeader"in C&&ee.forEach(m.toJSON(),function(A,D){C.setRequestHeader(D,A)}),ee.isUndefined(c.withCredentials)||(C.withCredentials=!!c.withCredentials),f&&f!=="json"&&(C.responseType=c.responseType),p&&([w,v]=mc(p,!0),C.addEventListener("progress",w)),x&&C.upload&&([j,E]=mc(x),C.upload.addEventListener("progress",j),C.upload.addEventListener("loadend",E)),(c.cancelToken||c.signal)&&(b=M=>{C&&(i(!M||M.type?new el(null,s,C):M),C.abort(),C=null)},c.cancelToken&&c.cancelToken.subscribe(b),c.signal&&(c.signal.aborted?b():c.signal.addEventListener("abort",b)));const N=u4(c.url);if(N&&ts.protocols.indexOf(N)===-1){i(new Pe("Unsupported protocol "+N+":",Pe.ERR_BAD_REQUEST,s));return}C.send(u||null)})},j4=(s,r)=>{const{length:n}=s=s?s.filter(Boolean):[];if(r||n){let i=new AbortController,c;const u=function(p){if(!c){c=!0,f();const b=p instanceof Error?p:this.reason;i.abort(b instanceof Pe?b:new el(b instanceof Error?b.message:b))}};let m=r&&setTimeout(()=>{m=null,u(new Pe(`timeout ${r} of ms exceeded`,Pe.ETIMEDOUT))},r);const f=()=>{s&&(m&&clearTimeout(m),m=null,s.forEach(p=>{p.unsubscribe?p.unsubscribe(u):p.removeEventListener("abort",u)}),s=null)};s.forEach(p=>p.addEventListener("abort",u));const{signal:x}=i;return x.unsubscribe=()=>ee.asap(f),x}},v4=function*(s,r){let n=s.byteLength;if(n<r){yield s;return}let i=0,c;for(;i<n;)c=i+r,yield s.slice(i,c),i=c},N4=async function*(s,r){for await(const n of w4(s))yield*v4(n,r)},w4=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const r=s.getReader();try{for(;;){const{done:n,value:i}=await r.read();if(n)break;yield i}}finally{await r.cancel()}},hp=(s,r,n,i)=>{const c=N4(s,r);let u=0,m,f=x=>{m||(m=!0,i&&i(x))};return new ReadableStream({async pull(x){try{const{done:p,value:b}=await c.next();if(p){f(),x.close();return}let j=b.byteLength;if(n){let w=u+=j;n(w)}x.enqueue(new Uint8Array(b))}catch(p){throw f(p),p}},cancel(x){return f(x),c.return()}},{highWaterMark:2})},fp=64*1024,{isFunction:Vo}=ee,S4=(({Request:s,Response:r})=>({Request:s,Response:r}))(ee.global),{ReadableStream:xp,TextEncoder:gp}=ee.global,pp=(s,...r)=>{try{return!!s(...r)}catch{return!1}},C4=s=>{s=ee.merge.call({skipUndefined:!0},S4,s);const{fetch:r,Request:n,Response:i}=s,c=r?Vo(r):typeof fetch=="function",u=Vo(n),m=Vo(i);if(!c)return!1;const f=c&&Vo(xp),x=c&&(typeof gp=="function"?(v=>T=>v.encode(T))(new gp):async v=>new Uint8Array(await new n(v).arrayBuffer())),p=u&&f&&pp(()=>{let v=!1;const T=new n(ts.origin,{body:new xp,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!T}),b=m&&f&&pp(()=>ee.isReadableStream(new i("").body)),j={stream:b&&(v=>v.body)};c&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!j[v]&&(j[v]=(T,C)=>{let k=T&&T[v];if(k)return k.call(T);throw new Pe(`Response type '${v}' is not supported`,Pe.ERR_NOT_SUPPORT,C)})});const w=async v=>{if(v==null)return 0;if(ee.isBlob(v))return v.size;if(ee.isSpecCompliantForm(v))return(await new n(ts.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(ee.isArrayBufferView(v)||ee.isArrayBuffer(v))return v.byteLength;if(ee.isURLSearchParams(v)&&(v=v+""),ee.isString(v))return(await x(v)).byteLength},E=async(v,T)=>{const C=ee.toFiniteNumber(v.getContentLength());return C??w(T)};return async v=>{let{url:T,method:C,data:k,signal:N,cancelToken:M,timeout:A,onDownloadProgress:D,onUploadProgress:Y,responseType:Q,headers:q,withCredentials:ne="same-origin",fetchOptions:re}=Ib(v),B=r||fetch;Q=Q?(Q+"").toLowerCase():"text";let ae=j4([N,M&&M.toAbortSignal()],A),ce=null;const J=ae&&ae.unsubscribe&&(()=>{ae.unsubscribe()});let $;try{if(Y&&p&&C!=="get"&&C!=="head"&&($=await E(q,k))!==0){let P=new n(T,{method:"POST",body:k,duplex:"half"}),ie;if(ee.isFormData(k)&&(ie=P.headers.get("content-type"))&&q.setContentType(ie),P.body){const[L,V]=dp($,mc(up(Y)));k=hp(P.body,fp,L,V)}}ee.isString(ne)||(ne=ne?"include":"omit");const O=u&&"credentials"in n.prototype,U={...re,signal:ae,method:C.toUpperCase(),headers:q.normalize().toJSON(),body:k,duplex:"half",credentials:O?ne:void 0};ce=u&&new n(T,U);let I=await(u?B(ce,re):B(T,U));const le=b&&(Q==="stream"||Q==="response");if(b&&(D||le&&J)){const P={};["status","statusText","headers"].forEach(me=>{P[me]=I[me]});const ie=ee.toFiniteNumber(I.headers.get("content-length")),[L,V]=D&&dp(ie,mc(up(D),!0))||[];I=new i(hp(I.body,fp,L,()=>{V&&V(),J&&J()}),P)}Q=Q||"text";let _=await j[ee.findKey(j,Q)||"text"](I,v);return!le&&J&&J(),await new Promise((P,ie)=>{qb(P,ie,{data:_,headers:gs.from(I.headers),status:I.status,statusText:I.statusText,config:v,request:ce})})}catch(O){throw J&&J(),O&&O.name==="TypeError"&&/Load failed|fetch/i.test(O.message)?Object.assign(new Pe("Network Error",Pe.ERR_NETWORK,v,ce),{cause:O.cause||O}):Pe.from(O,O&&O.code,v,ce)}}},k4=new Map,Fb=s=>{let r=s&&s.env||{};const{fetch:n,Request:i,Response:c}=r,u=[i,c,n];let m=u.length,f=m,x,p,b=k4;for(;f--;)x=u[f],p=b.get(x),p===void 0&&b.set(x,p=f?new Map:C4(r)),b=p;return p};Fb();const fh={http:qS,xhr:y4,fetch:{get:Fb}};ee.forEach(fh,(s,r)=>{if(s){try{Object.defineProperty(s,"name",{value:r})}catch{}Object.defineProperty(s,"adapterName",{value:r})}});const bp=s=>`- ${s}`,E4=s=>ee.isFunction(s)||s===null||s===!1;function T4(s,r){s=ee.isArray(s)?s:[s];const{length:n}=s;let i,c;const u={};for(let m=0;m<n;m++){i=s[m];let f;if(c=i,!E4(i)&&(c=fh[(f=String(i)).toLowerCase()],c===void 0))throw new Pe(`Unknown adapter '${f}'`);if(c&&(ee.isFunction(c)||(c=c.get(r))))break;u[f||"#"+m]=c}if(!c){const m=Object.entries(u).map(([x,p])=>`adapter ${x} `+(p===!1?"is not supported by the environment":"is not available in the build"));let f=n?m.length>1?`since :
`+m.map(bp).join(`
`):" "+bp(m[0]):"as no adapter specified";throw new Pe("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return c}const Vb={getAdapter:T4,adapters:fh};function fm(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new el(null,s)}function yp(s){return fm(s),s.headers=gs.from(s.headers),s.data=hm.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),Vb.getAdapter(s.adapter||_i.adapter,s)(s).then(function(i){return fm(s),i.data=hm.call(s,s.transformResponse,i),i.headers=gs.from(i.headers),i},function(i){return Hb(i)||(fm(s),i&&i.response&&(i.response.data=hm.call(s,s.transformResponse,i.response),i.response.headers=gs.from(i.response.headers))),Promise.reject(i)})}const Qb="1.13.2",_c={};["object","boolean","number","function","string","symbol"].forEach((s,r)=>{_c[s]=function(i){return typeof i===s||"a"+(r<1?"n ":" ")+s}});const jp={};_c.transitional=function(r,n,i){function c(u,m){return"[Axios v"+Qb+"] Transitional option '"+u+"'"+m+(i?". "+i:"")}return(u,m,f)=>{if(r===!1)throw new Pe(c(m," has been removed"+(n?" in "+n:"")),Pe.ERR_DEPRECATED);return n&&!jp[m]&&(jp[m]=!0,console.warn(c(m," has been deprecated since v"+n+" and will be removed in the near future"))),r?r(u,m,f):!0}};_c.spelling=function(r){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${r}`),!0)};function _4(s,r,n){if(typeof s!="object")throw new Pe("options must be an object",Pe.ERR_BAD_OPTION_VALUE);const i=Object.keys(s);let c=i.length;for(;c-- >0;){const u=i[c],m=r[u];if(m){const f=s[u],x=f===void 0||m(f,u,s);if(x!==!0)throw new Pe("option "+u+" must be "+x,Pe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Pe("Unknown option "+u,Pe.ERR_BAD_OPTION)}}const rc={assertOptions:_4,validators:_c},ca=rc.validators;let Ir=class{constructor(r){this.defaults=r||{},this.interceptors={request:new op,response:new op}}async request(r,n){try{return await this._request(r,n)}catch(i){if(i instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const u=c.stack?c.stack.replace(/^.+\n/,""):"";try{i.stack?u&&!String(i.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+u):i.stack=u}catch{}}throw i}}_request(r,n){typeof r=="string"?(n=n||{},n.url=r):n=r||{},n=Xr(this.defaults,n);const{transitional:i,paramsSerializer:c,headers:u}=n;i!==void 0&&rc.assertOptions(i,{silentJSONParsing:ca.transitional(ca.boolean),forcedJSONParsing:ca.transitional(ca.boolean),clarifyTimeoutError:ca.transitional(ca.boolean)},!1),c!=null&&(ee.isFunction(c)?n.paramsSerializer={serialize:c}:rc.assertOptions(c,{encode:ca.function,serialize:ca.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),rc.assertOptions(n,{baseUrl:ca.spelling("baseURL"),withXsrfToken:ca.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let m=u&&ee.merge(u.common,u[n.method]);u&&ee.forEach(["delete","get","head","post","put","patch","common"],v=>{delete u[v]}),n.headers=gs.concat(m,u);const f=[];let x=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(n)===!1||(x=x&&T.synchronous,f.unshift(T.fulfilled,T.rejected))});const p=[];this.interceptors.response.forEach(function(T){p.push(T.fulfilled,T.rejected)});let b,j=0,w;if(!x){const v=[yp.bind(this),void 0];for(v.unshift(...f),v.push(...p),w=v.length,b=Promise.resolve(n);j<w;)b=b.then(v[j++],v[j++]);return b}w=f.length;let E=n;for(;j<w;){const v=f[j++],T=f[j++];try{E=v(E)}catch(C){T.call(this,C);break}}try{b=yp.call(this,E)}catch(v){return Promise.reject(v)}for(j=0,w=p.length;j<w;)b=b.then(p[j++],p[j++]);return b}getUri(r){r=Xr(this.defaults,r);const n=Gb(r.baseURL,r.url,r.allowAbsoluteUrls);return $b(n,r.params,r.paramsSerializer)}};ee.forEach(["delete","get","head","options"],function(r){Ir.prototype[r]=function(n,i){return this.request(Xr(i||{},{method:r,url:n,data:(i||{}).data}))}});ee.forEach(["post","put","patch"],function(r){function n(i){return function(u,m,f){return this.request(Xr(f||{},{method:r,headers:i?{"Content-Type":"multipart/form-data"}:{},url:u,data:m}))}}Ir.prototype[r]=n(),Ir.prototype[r+"Form"]=n(!0)});let A4=class Xb{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(u){n=u});const i=this;this.promise.then(c=>{if(!i._listeners)return;let u=i._listeners.length;for(;u-- >0;)i._listeners[u](c);i._listeners=null}),this.promise.then=c=>{let u;const m=new Promise(f=>{i.subscribe(f),u=f}).then(c);return m.cancel=function(){i.unsubscribe(u)},m},r(function(u,m,f){i.reason||(i.reason=new el(u,m,f),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const n=this._listeners.indexOf(r);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const r=new AbortController,n=i=>{r.abort(i)};return this.subscribe(n),r.signal.unsubscribe=()=>this.unsubscribe(n),r.signal}static source(){let r;return{token:new Xb(function(c){r=c}),cancel:r}}};function M4(s){return function(n){return s.apply(null,n)}}function D4(s){return ee.isObject(s)&&s.isAxiosError===!0}const Pm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Pm).forEach(([s,r])=>{Pm[r]=s});function Zb(s){const r=new Ir(s),n=Eb(Ir.prototype.request,r);return ee.extend(n,Ir.prototype,r,{allOwnKeys:!0}),ee.extend(n,r,null,{allOwnKeys:!0}),n.create=function(c){return Zb(Xr(s,c))},n}const Dt=Zb(_i);Dt.Axios=Ir;Dt.CanceledError=el;Dt.CancelToken=A4;Dt.isCancel=Hb;Dt.VERSION=Qb;Dt.toFormData=Tc;Dt.AxiosError=Pe;Dt.Cancel=Dt.CanceledError;Dt.all=function(r){return Promise.all(r)};Dt.spread=M4;Dt.isAxiosError=D4;Dt.mergeConfig=Xr;Dt.AxiosHeaders=gs;Dt.formToJSON=s=>Bb(ee.isHTMLForm(s)?new FormData(s):s);Dt.getAdapter=Vb.getAdapter;Dt.HttpStatusCode=Pm;Dt.default=Dt;const{Axios:g8,AxiosError:p8,CanceledError:b8,isCancel:y8,CancelToken:j8,VERSION:v8,all:N8,Cancel:w8,isAxiosError:S8,spread:C8,toFormData:k8,AxiosHeaders:E8,HttpStatusCode:T8,formToJSON:_8,getAdapter:A8,mergeConfig:M8}=Dt,O4={};function R4(){const[s,r]=g.useState(!1),[n,i]=g.useState(null),c=typeof import.meta<"u"&&O4?.VITE_API_BASE||"http://localhost:5000";return{generate:g.useCallback(async(m,f={})=>{r(!0),i(null);try{const x=await Dt.post(`${c}/api/ai/generate`,{prompt:m,...f},{timeout:3e4});if(r(!1),x.data?.ok)return{text:x.data.text,raw:x.data.raw};throw new Error(x.data?.error||"AI responded without ok")}catch(x){r(!1);const p=x?.response?.data?.error||x?.message||String(x);return i(p),{error:x?.response?.data||p}}},[c]),loading:s,error:n}}function L4(){const[s,r]=g.useState(""),[n,i]=g.useState([{id:1,role:"assistant",text:"Hi! I'm your BukSU Academic Assistant. I can help you understand your grades, explain academic concepts, provide study tips, or answer questions about your coursework. How can I assist you today?",timestamp:new Date().toISOString()}]),[c,u]=g.useState(null),{generate:m,loading:f,error:x}=R4(),p=g.useRef(null);g.useEffect(()=>{p.current&&(p.current.scrollTop=p.current.scrollHeight)},[n,f]);const b=async k=>{const N=String(k||"").trim();if(!N)return;const M={id:Date.now(),role:"user",text:N,timestamp:new Date().toISOString()};i(Y=>[...Y,M]);const A="typing-"+Date.now(),D={id:A,role:"assistant",typing:!0};i(Y=>[...Y,D]);try{const Y=`You are BukSU Academic Assistant, an AI helper for students at Bukidnon State University's grading system. 
      
      Context: You're helping students with academic-related questions. Please provide helpful, educational responses about:
      - Grade explanations and academic performance
      - Study tips and learning strategies
      - Course content clarification
      - Academic planning and time management
      - University policies and procedures
      
      Keep responses concise, encouraging, and student-focused.
      
      Student question: ${N}`,q=(await m(Y,{maxOutputTokens:500}))?.text||"I apologize, but I couldn't process your request. Please try asking again.",ne={id:Date.now()+1,role:"assistant",text:q,timestamp:new Date().toISOString()};i(re=>re.map(B=>B.id===A?ne:B))}catch(Y){const Q={id:Date.now()+2,role:"assistant",text:"I'm having trouble connecting right now. Please check your internet connection and try again.",timestamp:new Date().toISOString(),isError:!0};i(q=>q.map(ne=>ne.id===A?Q:ne)),console.error("AI generate error",Y)}},j=async()=>{const k=s.trim();!k||f||(r(""),await b(k))},w=()=>{i([{id:1,role:"assistant",text:"Chat cleared! I'm here to help with your academic questions.",timestamp:new Date().toISOString()}])},E=async(k,N)=>{try{await navigator.clipboard.writeText(k),u(N),setTimeout(()=>u(null),2e3)}catch(M){console.error("Failed to copy text:",M)}},v=()=>{const k=n.filter(D=>!D.typing).map(D=>`${D.role.toUpperCase()}: ${D.text}`).join(`

`),N=new Blob([k],{type:"text/plain"}),M=URL.createObjectURL(N),A=document.createElement("a");A.href=M,A.download=`buksu-ai-chat-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(A),A.click(),document.body.removeChild(A),URL.revokeObjectURL(M)},T=k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),j())},C=[{text:"Explain my current GPA",icon:c2,category:"grades"},{text:"Give me study tips for better performance",icon:i2,category:"study"},{text:"How can I improve my grades?",icon:Ct,category:"improvement"},{text:"Help me manage my time better",icon:Cs,category:"planning"}];return e.jsxs("div",{className:"flex flex-col h-full max-h-[500px] bg-gradient-to-b from-blue-50/30 to-white",children:[e.jsxs("div",{className:"flex items-center justify-between px-2 py-1.5 border-b border-gray-300 bg-white/80 backdrop-blur-sm",children:[e.jsx("div",{className:"flex items-center gap-1"}),e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsx("button",{onClick:v,className:"p-1 rounded hover:bg-gray-100 transition-colors",title:"Export chat",disabled:n.length<=1,children:e.jsx(hb,{className:"w-3 h-3 text-gray-500"})}),e.jsx("button",{onClick:w,className:"p-1 rounded hover:bg-red-50 transition-colors",title:"Clear chat",children:e.jsx(wc,{className:"w-3 h-3 text-red-500"})})]})]}),e.jsxs("div",{ref:p,className:"flex-1 overflow-y-auto px-2 py-2 space-y-2 min-h-0",style:{maxHeight:"350px"},children:[n.map(k=>e.jsx("div",{className:`flex ${k.role==="user"?"justify-end":"justify-start"}`,children:k.typing?e.jsx("div",{className:"bg-white border border-gray-200 px-3 py-2 rounded-lg shadow-sm max-w-[80%]",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),e.jsx("span",{className:"text-xs text-gray-500",children:"Thinking..."})]})}):e.jsxs("div",{className:`group max-w-[80%] ${k.role==="user"?"ml-8":"mr-8"}`,children:[e.jsxs("div",{className:`relative px-3 py-2 rounded-lg shadow-sm break-words text-sm ${k.role==="user"?"bg-blue-600 text-white rounded-br-sm":k.isError?"bg-red-50 border border-red-200 text-red-800 rounded-bl-sm":"bg-white border border-gray-200 text-gray-800 rounded-bl-sm"}`,children:[e.jsx("div",{className:"whitespace-pre-wrap leading-snug",children:k.text}),k.role==="assistant"&&!k.isError&&e.jsx("button",{onClick:()=>E(k.text,k.id),className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity p-0.5 rounded hover:bg-gray-100",title:"Copy message",children:c===k.id?e.jsx(qt,{className:"w-2.5 h-2.5 text-green-600"}):e.jsx(E2,{className:"w-2.5 h-2.5 text-gray-500"})})]}),k.timestamp&&e.jsx("div",{className:`text-xs text-gray-400 mt-0.5 px-1 ${k.role==="user"?"text-right":"text-left"}`,children:new Date(k.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},k.id)),n.length===1&&e.jsxs("div",{className:"space-y-2 mt-2",children:[e.jsx("div",{className:"text-xs text-gray-500 text-center",children:"Quick start:"}),e.jsx("div",{className:"grid grid-cols-1 gap-1",children:C.map((k,N)=>e.jsxs("button",{onClick:()=>b(k.text),className:"flex items-center gap-2 p-2 rounded-lg border border-gray-200 hover:border-blue-300 hover:bg-blue-50/50 transition-all text-left group text-xs",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded bg-blue-100 flex items-center justify-center group-hover:bg-blue-200 transition-colors",children:e.jsx(k.icon,{className:"w-3 h-3 text-blue-600"})}),e.jsx("span",{className:"text-gray-700 font-medium",children:k.text})]},N))})]})]}),e.jsxs("div",{className:"border-t border-gray-300 bg-white/90 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 p-2",children:[e.jsx("div",{className:"flex-1",children:e.jsx("textarea",{value:s,onChange:k=>r(k.target.value),onKeyDown:T,className:"w-full  rounded-lg px-3 py-1.5 border border-gray-200 focus:outline-none focus:ring-1 focus:ring-blue-400 focus:border-transparent resize-none transition-all text-sm h-9 leading-tight",placeholder:"Ask about grades, courses...",rows:"1",style:{maxHeight:"80px"},disabled:f})}),e.jsx("button",{onClick:j,disabled:f||!s.trim(),className:"flex-shrink-0 w-9 h-9 rounded-lg bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 flex items-center justify-center transition-all","aria-label":"Send message",children:f?e.jsx(fb,{className:"w-4 h-4 animate-spin text-white"}):e.jsx(ew,{className:"w-4 h-4 text-white"})})]}),x&&e.jsx("div",{className:"px-2 pb-2",children:e.jsxs("div",{className:"text-xs text-red-600 bg-red-50 border border-red-200 rounded px-2 py-1",children:[e.jsx("strong",{children:"Error:"})," ",String(x)]})})]})]})}function U4(){const[s,r]=g.useState(!1),[n,i]=g.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs("button",{"aria-label":"Open BukSU AI Assistant",onClick:()=>r(c=>!c),className:"fixed z-[3000] right-6 bottom-6 w-16 h-16 rounded-full bg-gradient-to-r from-blue-700 to-blue-800 hover:from-blue-700 hover:to-blue-800 text-white flex items-center justify-center shadow-2xl ring-2 ring-blue-400/30 hover:ring-blue-500/50 transition-all duration-300 transform hover:scale-105 active:scale-95",title:"BukSU AI Assistant - Get help with your academic questions",children:[e.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-blue-400 to-blue-500 animate-pulse opacity-20"}),e.jsxs("div",{className:"relative z-10 flex items-center justify-center",children:[e.jsx("img",{src:jr,alt:"BukSU logo",className:"w-9 h-9 object-contain"}),e.jsx(aw,{className:"absolute -top-1 -right-1 w-4 h-4 animate-bounce opacity-80",style:{animationDelay:"0.5s"}})]})]}),s&&e.jsxs("div",{className:`fixed z-[2999] right-6 transition-all duration-300 ${n?"bottom-24 w-72 h-10":"bottom-24 w-80 h-[520px]"}`,children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl overflow-hidden flex flex-col border border-gray-200/50 backdrop-blur-sm h-full",children:[e.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-gradient-to-r from-blue-700 to-blue-800 text-white",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"relative",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center border border-white/30",children:e.jsx("img",{src:jr,alt:"BukSU logo",className:"w-5 h-5 object-contain"})})}),e.jsxs("div",{className:"leading-tight",children:[e.jsx("div",{className:"text-sm font-semibold",children:"BukSU AI Assistant"}),e.jsx("div",{className:"text-xs opacity-90",children:"Academic Support"})]})]}),e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsx("button",{onClick:()=>i(!n),className:"p-1.5 rounded hover:bg-white/20 transition-colors",title:n?"Expand chat":"Minimize chat",children:e.jsx(G2,{className:"w-3.5 h-3.5"})}),e.jsx("button",{onClick:()=>r(!1),className:"p-1.5 rounded hover:bg-white/20 transition-colors",title:"Close chat",children:e.jsx(et,{className:"w-3.5 h-3.5",stroke:2})})]})]}),!n&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex-1 overflow-hidden min-h-0",children:e.jsx(L4,{})}),e.jsx("div",{className:"px-3 py-2 bg-gray-50/80 border-t border-gray-100",children:e.jsx("div",{className:"flex items-center justify-center text-xs text-gray-500",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-1 h-1 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{children:"Powered by Gemini AI"})]})})})]}),n&&e.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"AI Assistant ready"})]}),e.jsx("button",{onClick:()=>i(!1),className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:"Expand"})]})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/5 to-purple-500/5 rounded-xl blur-lg -z-10 transform scale-105"})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/10 backdrop-blur-sm z-[2998] md:hidden",onClick:()=>r(!1)})]})}const xm=[{link:"/student",label:"Dashboard",icon:lh,type:"single"},{link:"/student/subjects",label:"My Subjects",icon:ns,type:"single"},{link:"/student/grades",label:"My Grades",icon:Ct,type:"single"},{link:"/student/schedule",label:"View Schedule",icon:vc,type:"single"},{link:"/student/archive",label:"Archived Subjects",icon:ft,type:"single"},{link:"/student/hidden",label:"Hidden Subjects",icon:Si,type:"single"}];function It(){const s=rs(),r=dt(),[n,i]=g.useState({"User Management":!1,"Academic Management":!1}),[c,u]=g.useState(()=>{const N=[];xm.forEach(A=>{A.type==="single"?N.push(A):A.type==="dropdown"&&A.children&&N.push(...A.children)}),N.push({link:"/student/profile",label:"Profile"});let M=N.find(A=>A.link===s.pathname);return M||(s.pathname.match(/^\/student\/sections\/[^/]+\/activities/)&&(M=N.find(A=>A.link==="/student/subjects")),M||(M=N.find(A=>!!(A.link!=="/student"&&s.pathname.startsWith(A.link))))),M?M.label:xm[0].label}),[m]=g.useState(!1),[f,x]=g.useState(!1),[p,b]=g.useState(!1),[j,w]=g.useState({show:!1,message:"",type:""}),E=N=>{i(M=>({...M,[N]:!M[N]}))},v=N=>{u(N.label),r(N.link),x(!1)},T=async()=>{try{const N=localStorage.getItem("token");await fetch("http://localhost:5000/api/logout",{method:"POST",headers:{"Content-Type":"application/json",...N?{Authorization:`Bearer ${N}`}:{}},credentials:"include"}),localStorage.removeItem("token"),sessionStorage.clear(),document.cookie="token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",b(!1),w({show:!0,message:"You have been successfully logged out.",type:"success"}),r("/login")}catch(N){console.error("Logout error:",N),w({show:!0,message:"Logout failed. Please try again.",type:"error"})}},C=N=>{if(N.type==="single")return e.jsxs("a",{className:`flex items-center gap-3 px-4 py-3 text-white/90 no-underline rounded-lg transition-all duration-150 text-sm cursor-pointer hover:bg-white/20 ${c===N.label?"bg-white/30 text-white font-semibold":""}`,href:N.link,onClick:M=>{M.preventDefault(),v(N)},"aria-current":c===N.label?"page":void 0,children:[e.jsx(N.icon,{className:"w-5 h-5 flex-shrink-0",stroke:1.5}),e.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis",children:N.label})]},N.label);if(N.type==="dropdown"){const M=n[N.label];return e.jsxs("div",{children:[e.jsxs("button",{className:"w-full flex items-center justify-between px-4 py-3 text-white/90 rounded-lg transition-all duration-150 text-sm cursor-pointer hover:bg-white/20",onClick:()=>E(N.label),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(N.icon,{className:"w-5 h-5 flex-shrink-0",stroke:1.5}),e.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis",children:N.label})]}),M?e.jsx(Vr,{className:"w-4 h-4 flex-shrink-0",stroke:1.5}):e.jsx(Zr,{className:"w-4 h-4 flex-shrink-0",stroke:1.5})]}),M&&e.jsx("div",{className:"ml-4 mt-1 space-y-1",children:N.children?.map(A=>e.jsxs("a",{className:`flex items-center gap-3 px-4 py-2 text-white/80 no-underline rounded-lg transition-all duration-150 text-sm cursor-pointer hover:bg-white/20 ${c===A.label?"bg-white/30 text-white font-semibold":""}`,href:A.link,onClick:D=>{D.preventDefault(),v(A)},"aria-current":c===A.label?"page":void 0,children:[e.jsx(A.icon,{className:"w-4 h-4 flex-shrink-0",stroke:1.5}),e.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis",children:A.label})]},A.label))})]},N.label)}return null},k=xm.map(C);return e.jsxs(e.Fragment,{children:[!f&&e.jsx("div",{className:"hidden max-[880px]:block fixed top-3 left-3 z-[2001] rounded-md shadow-sm p-1",style:{backgroundColor:"#091057"},children:e.jsxs("button",{onClick:()=>x(!0),"aria-label":"Open navigation",className:"flex flex-col gap-1 p-2  rounded transition-colors cursor-pointer ",children:[e.jsx("div",{className:"w-5 h-0.5 bg-white"}),e.jsx("div",{className:"w-5 h-0.5 bg-white"}),e.jsx("div",{className:"w-5 h-0.5 bg-white"})]})}),e.jsxs("nav",{className:`w-65 min-w-65 flex flex-col justify-between h-screen shadow-lg transition-all duration-200 overflow-hidden p-0 box-border fixed top-0 bottom-0 left-0 z-[1000] max-[880px]:transform max-[880px]:transition-transform max-[880px]:duration-300 max-[880px]:z-[2000] ${m?"w-16 min-w-16":""} ${f?"max-[880px]:translate-x-0":"max-[880px]:-translate-x-full"}`,style:{backgroundColor:"#152259"},"aria-label":"Student sidebar",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"px-6 py-8 flex flex-col items-center justify-center border-b border-white/20",style:{backgroundColor:"#152259"},children:[e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("img",{src:jr,alt:"BUKSU Logo",className:"h-20 w-20 object-cover rounded-half  shadow-sm"}),!m&&e.jsx("span",{className:"font-bold text-xl text-white tracking-wide text-center",children:"STUDENT PANEL"})]}),f?e.jsx("button",{className:"absolute top-4 right-4 p-2 rounded-md hover:bg-white/20 transition-colors cursor-pointer",onClick:()=>x(!1),"aria-label":"Close sidebar",children:e.jsx(et,{stroke:1.5,className:"w-5 h-5 text-white"})}):null]}),e.jsx("div",{className:"p-4 flex flex-col gap-2",children:k})]}),e.jsxs("div",{className:"p-4 flex flex-col gap-2 border-t border-white/20",children:[e.jsxs("a",{href:"#",className:`flex items-center gap-3 px-4 py-3 text-white/90 no-underline rounded-lg transition-all duration-150 text-sm cursor-pointer hover:bg-white/20 ${c==="Profile"?"bg-white/30 text-white font-semibold":""}`,onClick:N=>{N.preventDefault(),u("Profile"),r("/student/profile"),x(!1)},title:m?"Profile":void 0,children:[e.jsx(ih,{className:"w-5 h-5 flex-shrink-0",stroke:1.5}),!m&&e.jsx("span",{children:"Profile"})]}),e.jsxs("a",{href:"#",className:"flex items-center gap-3 px-4 py-3 text-white/90 no-underline rounded-lg transition-all duration-150 text-sm cursor-pointer hover:bg-white/20",onClick:N=>{N.preventDefault(),b(!0)},title:m?"Logout":void 0,children:[e.jsx(rh,{className:"w-5 h-5 flex-shrink-0",stroke:1.5}),!m&&e.jsx("span",{children:"Logout"})]}),p&&e.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-[9999]",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg max-w-sm w-full",children:[e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx(wi,{className:"w-12 h-12 text-red-600",stroke:1.5})}),e.jsx("h3",{className:"text-xl font-semibold mb-2 text-center",children:"Logout"}),e.jsx("p",{className:"mb-4 text-center",children:"Are you sure you want to log out?"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 cursor-pointer",onClick:()=>b(!1),children:"Cancel"}),e.jsx("button",{className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 cursor-pointer",onClick:T,children:"Confirm"})]})]})}),j.show&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[9999]",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg max-w-sm w-full text-center",children:[e.jsx("p",{className:`mb-2 ${j.type==="success"?"text-green-600":"text-red-600"}`,children:j.message}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",onClick:()=>w({show:!1,message:"",type:""}),children:"OK"})]})})]})]}),f&&e.jsx("div",{className:"fixed top-0 left-0 right-0 bottom-0 bg-black/50 z-[1999]",onClick:()=>x(!1)}),e.jsx(U4,{})]})}const z4="http://localhost:5000",P4=()=>sessionStorage.getItem("accessToken")||sessionStorage.getItem("sessionToken"),$4=()=>sessionStorage.getItem("refreshToken"),Y4=(s,r)=>{sessionStorage.setItem("accessToken",s),r&&sessionStorage.setItem("refreshToken",r)},Wb=()=>{sessionStorage.removeItem("accessToken"),sessionStorage.removeItem("refreshToken")},B4=async()=>{const s=$4();if(!s)throw new Error("No refresh token available");try{const r=await fetch(`${z4}/api/admin/refresh-token`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}});if(!r.ok)throw new Error("Failed to refresh token");const n=await r.json();if(n.success&&n.accessToken)return Y4(n.accessToken,s),n.accessToken;throw new Error("Invalid refresh token response")}catch(r){throw console.error("Token refresh failed:",r),Wb(),r}},ge=async(s,r={})=>{const n=P4();if(!n)throw new Error("No access token available");const i={...r.headers,Authorization:`Bearer ${n}`};try{let c=await fetch(s,{...r,headers:i});if(c.status===401){const u=await c.json();if(u.message==="Token is not valid"||u.message?.includes("expired"))try{const m=await B4();c=await fetch(s,{...r,headers:{...r.headers,Authorization:`Bearer ${m}`}})}catch{throw Wb(),window.location.href="/login",new Error("Session expired. Please login again.")}}return c}catch(c){throw c.name!=="AbortError"&&console.error("Authenticated fetch error:",c),c}},H4=({icon:s,count:r,label:n,iconColor:i})=>{const c=s;return e.jsxs("div",{className:"p-6 rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(c,{size:40,color:i}),e.jsx("span",{className:"text-3xl font-bold",children:r})]}),e.jsx("h4",{className:"mt-3 text-sm",style:{color:i},children:n})]})},q4=({icon:s,label:r,onClick:n,iconColor:i,hoverColor:c})=>{const u=s;return e.jsxs("button",{onClick:n,className:`flex flex-col items-center gap-2 p-4 border border-gray-200 rounded-lg ${c} transition-all`,children:[e.jsx(u,{className:"w-6 h-6",style:{color:i}}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:r})]})},G4=()=>{const s=dt(),r=[{icon:Ct,label:"My Subjects",onClick:()=>s("/student/subjects"),iconColor:"#3b82f6",hoverColor:"hover:bg-blue-50 hover:border-blue-300"},{icon:ha,label:"Schedule",onClick:()=>s("/student/schedule"),iconColor:"#10b981",hoverColor:"hover:bg-green-50 hover:border-green-300"},{icon:x2,label:"Grades",onClick:()=>s("/student/grades"),iconColor:"#8b5cf6",hoverColor:"hover:bg-purple-50 hover:border-purple-300"},{icon:ft,label:"Archive",onClick:()=>s("/student/archive"),iconColor:"#f59e0b",hoverColor:"hover:bg-orange-50 hover:border-orange-300"}];return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(vr,{className:"w-5 h-5 text-blue-600"}),"Quick Actions"]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:r.map((n,i)=>e.jsx(q4,{...n},i))})]})};//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Jb;function we(){return Jb.apply(null,arguments)}function I4(s){Jb=s}function Ws(s){return s instanceof Array||Object.prototype.toString.call(s)==="[object Array]"}function Fr(s){return s!=null&&Object.prototype.toString.call(s)==="[object Object]"}function We(s,r){return Object.prototype.hasOwnProperty.call(s,r)}function xh(s){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(s).length===0;var r;for(r in s)if(We(s,r))return!1;return!0}function fs(s){return s===void 0}function Ha(s){return typeof s=="number"||Object.prototype.toString.call(s)==="[object Number]"}function Ai(s){return s instanceof Date||Object.prototype.toString.call(s)==="[object Date]"}function Kb(s,r){var n=[],i,c=s.length;for(i=0;i<c;++i)n.push(r(s[i],i));return n}function pr(s,r){for(var n in r)We(r,n)&&(s[n]=r[n]);return We(r,"toString")&&(s.toString=r.toString),We(r,"valueOf")&&(s.valueOf=r.valueOf),s}function ga(s,r,n,i){return Ny(s,r,n,i,!0).utc()}function F4(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Ye(s){return s._pf==null&&(s._pf=F4()),s._pf}var $m;Array.prototype.some?$m=Array.prototype.some:$m=function(s){var r=Object(this),n=r.length>>>0,i;for(i=0;i<n;i++)if(i in r&&s.call(this,r[i],i,r))return!0;return!1};function gh(s){var r=null,n=!1,i=s._d&&!isNaN(s._d.getTime());if(i&&(r=Ye(s),n=$m.call(r.parsedDateParts,function(c){return c!=null}),i=r.overflow<0&&!r.empty&&!r.invalidEra&&!r.invalidMonth&&!r.invalidWeekday&&!r.weekdayMismatch&&!r.nullInput&&!r.invalidFormat&&!r.userInvalidated&&(!r.meridiem||r.meridiem&&n),s._strict&&(i=i&&r.charsLeftOver===0&&r.unusedTokens.length===0&&r.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(s))s._isValid=i;else return i;return s._isValid}function Ac(s){var r=ga(NaN);return s!=null?pr(Ye(r),s):Ye(r).userInvalidated=!0,r}var vp=we.momentProperties=[],gm=!1;function ph(s,r){var n,i,c,u=vp.length;if(fs(r._isAMomentObject)||(s._isAMomentObject=r._isAMomentObject),fs(r._i)||(s._i=r._i),fs(r._f)||(s._f=r._f),fs(r._l)||(s._l=r._l),fs(r._strict)||(s._strict=r._strict),fs(r._tzm)||(s._tzm=r._tzm),fs(r._isUTC)||(s._isUTC=r._isUTC),fs(r._offset)||(s._offset=r._offset),fs(r._pf)||(s._pf=Ye(r)),fs(r._locale)||(s._locale=r._locale),u>0)for(n=0;n<u;n++)i=vp[n],c=r[i],fs(c)||(s[i]=c);return s}function Mi(s){ph(this,s),this._d=new Date(s._d!=null?s._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),gm===!1&&(gm=!0,we.updateOffset(this),gm=!1)}function Js(s){return s instanceof Mi||s!=null&&s._isAMomentObject!=null}function ey(s){we.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+s)}function Hs(s,r){var n=!0;return pr(function(){if(we.deprecationHandler!=null&&we.deprecationHandler(null,s),n){var i=[],c,u,m,f=arguments.length;for(u=0;u<f;u++){if(c="",typeof arguments[u]=="object"){c+=`
[`+u+"] ";for(m in arguments[0])We(arguments[0],m)&&(c+=m+": "+arguments[0][m]+", ");c=c.slice(0,-2)}else c=arguments[u];i.push(c)}ey(s+`
Arguments: `+Array.prototype.slice.call(i).join("")+`
`+new Error().stack),n=!1}return r.apply(this,arguments)},r)}var Np={};function ty(s,r){we.deprecationHandler!=null&&we.deprecationHandler(s,r),Np[s]||(ey(r),Np[s]=!0)}we.suppressDeprecationWarnings=!1;we.deprecationHandler=null;function pa(s){return typeof Function<"u"&&s instanceof Function||Object.prototype.toString.call(s)==="[object Function]"}function V4(s){var r,n;for(n in s)We(s,n)&&(r=s[n],pa(r)?this[n]=r:this["_"+n]=r);this._config=s,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Ym(s,r){var n=pr({},s),i;for(i in r)We(r,i)&&(Fr(s[i])&&Fr(r[i])?(n[i]={},pr(n[i],s[i]),pr(n[i],r[i])):r[i]!=null?n[i]=r[i]:delete n[i]);for(i in s)We(s,i)&&!We(r,i)&&Fr(s[i])&&(n[i]=pr({},n[i]));return n}function bh(s){s!=null&&this.set(s)}var Bm;Object.keys?Bm=Object.keys:Bm=function(s){var r,n=[];for(r in s)We(s,r)&&n.push(r);return n};var Q4={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function X4(s,r,n){var i=this._calendar[s]||this._calendar.sameElse;return pa(i)?i.call(r,n):i}function xa(s,r,n){var i=""+Math.abs(s),c=r-i.length,u=s>=0;return(u?n?"+":"":"-")+Math.pow(10,Math.max(0,c)).toString().substr(1)+i}var yh=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Qo=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,pm={},qn={};function De(s,r,n,i){var c=i;typeof i=="string"&&(c=function(){return this[i]()}),s&&(qn[s]=c),r&&(qn[r[0]]=function(){return xa(c.apply(this,arguments),r[1],r[2])}),n&&(qn[n]=function(){return this.localeData().ordinal(c.apply(this,arguments),s)})}function Z4(s){return s.match(/\[[\s\S]/)?s.replace(/^\[|\]$/g,""):s.replace(/\\/g,"")}function W4(s){var r=s.match(yh),n,i;for(n=0,i=r.length;n<i;n++)qn[r[n]]?r[n]=qn[r[n]]:r[n]=Z4(r[n]);return function(c){var u="",m;for(m=0;m<i;m++)u+=pa(r[m])?r[m].call(c,s):r[m];return u}}function nc(s,r){return s.isValid()?(r=sy(r,s.localeData()),pm[r]=pm[r]||W4(r),pm[r](s)):s.localeData().invalidDate()}function sy(s,r){var n=5;function i(c){return r.longDateFormat(c)||c}for(Qo.lastIndex=0;n>=0&&Qo.test(s);)s=s.replace(Qo,i),Qo.lastIndex=0,n-=1;return s}var J4={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function K4(s){var r=this._longDateFormat[s],n=this._longDateFormat[s.toUpperCase()];return r||!n?r:(this._longDateFormat[s]=n.match(yh).map(function(i){return i==="MMMM"||i==="MM"||i==="DD"||i==="dddd"?i.slice(1):i}).join(""),this._longDateFormat[s])}var e5="Invalid date";function t5(){return this._invalidDate}var s5="%d",a5=/\d{1,2}/;function r5(s){return this._ordinal.replace("%d",s)}var n5={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function l5(s,r,n,i){var c=this._relativeTime[n];return pa(c)?c(s,r,n,i):c.replace(/%d/i,s)}function i5(s,r){var n=this._relativeTime[s>0?"future":"past"];return pa(n)?n(r):n.replace(/%s/i,r)}var wp={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function qs(s){return typeof s=="string"?wp[s]||wp[s.toLowerCase()]:void 0}function jh(s){var r={},n,i;for(i in s)We(s,i)&&(n=qs(i),n&&(r[n]=s[i]));return r}var o5={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function c5(s){var r=[],n;for(n in s)We(s,n)&&r.push({unit:n,priority:o5[n]});return r.sort(function(i,c){return i.priority-c.priority}),r}var ay=/\d/,ks=/\d\d/,ry=/\d{3}/,vh=/\d{4}/,Mc=/[+-]?\d{6}/,jt=/\d\d?/,ny=/\d\d\d\d?/,ly=/\d\d\d\d\d\d?/,Dc=/\d{1,3}/,Nh=/\d{1,4}/,Oc=/[+-]?\d{1,6}/,tl=/\d+/,Rc=/[+-]?\d+/,d5=/Z|[+-]\d\d:?\d\d/gi,Lc=/Z|[+-]\d\d(?::?\d\d)?/gi,u5=/[+-]?\d+(\.\d{1,3})?/,Di=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,sl=/^[1-9]\d?/,wh=/^([1-9]\d|\d)/,hc;hc={};function Se(s,r,n){hc[s]=pa(r)?r:function(i,c){return i&&n?n:r}}function m5(s,r){return We(hc,s)?hc[s](r._strict,r._locale):new RegExp(h5(s))}function h5(s){return $a(s.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(r,n,i,c,u){return n||i||c||u}))}function $a(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function zs(s){return s<0?Math.ceil(s)||0:Math.floor(s)}function Fe(s){var r=+s,n=0;return r!==0&&isFinite(r)&&(n=zs(r)),n}var Hm={};function ut(s,r){var n,i=r,c;for(typeof s=="string"&&(s=[s]),Ha(r)&&(i=function(u,m){m[r]=Fe(u)}),c=s.length,n=0;n<c;n++)Hm[s[n]]=i}function Oi(s,r){ut(s,function(n,i,c,u){c._w=c._w||{},r(n,c._w,c,u)})}function f5(s,r,n){r!=null&&We(Hm,s)&&Hm[s](r,n._a,n,s)}function Uc(s){return s%4===0&&s%100!==0||s%400===0}var ss=0,Ua=1,da=2,Pt=3,Xs=4,za=5,Gr=6,x5=7,g5=8;De("Y",0,0,function(){var s=this.year();return s<=9999?xa(s,4):"+"+s});De(0,["YY",2],0,function(){return this.year()%100});De(0,["YYYY",4],0,"year");De(0,["YYYYY",5],0,"year");De(0,["YYYYYY",6,!0],0,"year");Se("Y",Rc);Se("YY",jt,ks);Se("YYYY",Nh,vh);Se("YYYYY",Oc,Mc);Se("YYYYYY",Oc,Mc);ut(["YYYYY","YYYYYY"],ss);ut("YYYY",function(s,r){r[ss]=s.length===2?we.parseTwoDigitYear(s):Fe(s)});ut("YY",function(s,r){r[ss]=we.parseTwoDigitYear(s)});ut("Y",function(s,r){r[ss]=parseInt(s,10)});function mi(s){return Uc(s)?366:365}we.parseTwoDigitYear=function(s){return Fe(s)+(Fe(s)>68?1900:2e3)};var iy=al("FullYear",!0);function p5(){return Uc(this.year())}function al(s,r){return function(n){return n!=null?(oy(this,s,n),we.updateOffset(this,r),this):gi(this,s)}}function gi(s,r){if(!s.isValid())return NaN;var n=s._d,i=s._isUTC;switch(r){case"Milliseconds":return i?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return i?n.getUTCSeconds():n.getSeconds();case"Minutes":return i?n.getUTCMinutes():n.getMinutes();case"Hours":return i?n.getUTCHours():n.getHours();case"Date":return i?n.getUTCDate():n.getDate();case"Day":return i?n.getUTCDay():n.getDay();case"Month":return i?n.getUTCMonth():n.getMonth();case"FullYear":return i?n.getUTCFullYear():n.getFullYear();default:return NaN}}function oy(s,r,n){var i,c,u,m,f;if(!(!s.isValid()||isNaN(n))){switch(i=s._d,c=s._isUTC,r){case"Milliseconds":return void(c?i.setUTCMilliseconds(n):i.setMilliseconds(n));case"Seconds":return void(c?i.setUTCSeconds(n):i.setSeconds(n));case"Minutes":return void(c?i.setUTCMinutes(n):i.setMinutes(n));case"Hours":return void(c?i.setUTCHours(n):i.setHours(n));case"Date":return void(c?i.setUTCDate(n):i.setDate(n));case"FullYear":break;default:return}u=n,m=s.month(),f=s.date(),f=f===29&&m===1&&!Uc(u)?28:f,c?i.setUTCFullYear(u,m,f):i.setFullYear(u,m,f)}}function b5(s){return s=qs(s),pa(this[s])?this[s]():this}function y5(s,r){if(typeof s=="object"){s=jh(s);var n=c5(s),i,c=n.length;for(i=0;i<c;i++)this[n[i].unit](s[n[i].unit])}else if(s=qs(s),pa(this[s]))return this[s](r);return this}function j5(s,r){return(s%r+r)%r}var Mt;Array.prototype.indexOf?Mt=Array.prototype.indexOf:Mt=function(s){var r;for(r=0;r<this.length;++r)if(this[r]===s)return r;return-1};function Sh(s,r){if(isNaN(s)||isNaN(r))return NaN;var n=j5(r,12);return s+=(r-n)/12,n===1?Uc(s)?29:28:31-n%7%2}De("M",["MM",2],"Mo",function(){return this.month()+1});De("MMM",0,0,function(s){return this.localeData().monthsShort(this,s)});De("MMMM",0,0,function(s){return this.localeData().months(this,s)});Se("M",jt,sl);Se("MM",jt,ks);Se("MMM",function(s,r){return r.monthsShortRegex(s)});Se("MMMM",function(s,r){return r.monthsRegex(s)});ut(["M","MM"],function(s,r){r[Ua]=Fe(s)-1});ut(["MMM","MMMM"],function(s,r,n,i){var c=n._locale.monthsParse(s,i,n._strict);c!=null?r[Ua]=c:Ye(n).invalidMonth=s});var v5="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),cy="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),dy=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,N5=Di,w5=Di;function S5(s,r){return s?Ws(this._months)?this._months[s.month()]:this._months[(this._months.isFormat||dy).test(r)?"format":"standalone"][s.month()]:Ws(this._months)?this._months:this._months.standalone}function C5(s,r){return s?Ws(this._monthsShort)?this._monthsShort[s.month()]:this._monthsShort[dy.test(r)?"format":"standalone"][s.month()]:Ws(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function k5(s,r,n){var i,c,u,m=s.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)u=ga([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(u,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(u,"").toLocaleLowerCase();return n?r==="MMM"?(c=Mt.call(this._shortMonthsParse,m),c!==-1?c:null):(c=Mt.call(this._longMonthsParse,m),c!==-1?c:null):r==="MMM"?(c=Mt.call(this._shortMonthsParse,m),c!==-1?c:(c=Mt.call(this._longMonthsParse,m),c!==-1?c:null)):(c=Mt.call(this._longMonthsParse,m),c!==-1?c:(c=Mt.call(this._shortMonthsParse,m),c!==-1?c:null))}function E5(s,r,n){var i,c,u;if(this._monthsParseExact)return k5.call(this,s,r,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(c=ga([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(c,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(c,"").replace(".","")+"$","i")),!n&&!this._monthsParse[i]&&(u="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[i]=new RegExp(u.replace(".",""),"i")),n&&r==="MMMM"&&this._longMonthsParse[i].test(s))return i;if(n&&r==="MMM"&&this._shortMonthsParse[i].test(s))return i;if(!n&&this._monthsParse[i].test(s))return i}}function uy(s,r){if(!s.isValid())return s;if(typeof r=="string"){if(/^\d+$/.test(r))r=Fe(r);else if(r=s.localeData().monthsParse(r),!Ha(r))return s}var n=r,i=s.date();return i=i<29?i:Math.min(i,Sh(s.year(),n)),s._isUTC?s._d.setUTCMonth(n,i):s._d.setMonth(n,i),s}function my(s){return s!=null?(uy(this,s),we.updateOffset(this,!0),this):gi(this,"Month")}function T5(){return Sh(this.year(),this.month())}function _5(s){return this._monthsParseExact?(We(this,"_monthsRegex")||hy.call(this),s?this._monthsShortStrictRegex:this._monthsShortRegex):(We(this,"_monthsShortRegex")||(this._monthsShortRegex=N5),this._monthsShortStrictRegex&&s?this._monthsShortStrictRegex:this._monthsShortRegex)}function A5(s){return this._monthsParseExact?(We(this,"_monthsRegex")||hy.call(this),s?this._monthsStrictRegex:this._monthsRegex):(We(this,"_monthsRegex")||(this._monthsRegex=w5),this._monthsStrictRegex&&s?this._monthsStrictRegex:this._monthsRegex)}function hy(){function s(x,p){return p.length-x.length}var r=[],n=[],i=[],c,u,m,f;for(c=0;c<12;c++)u=ga([2e3,c]),m=$a(this.monthsShort(u,"")),f=$a(this.months(u,"")),r.push(m),n.push(f),i.push(f),i.push(m);r.sort(s),n.sort(s),i.sort(s),this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function M5(s,r,n,i,c,u,m){var f;return s<100&&s>=0?(f=new Date(s+400,r,n,i,c,u,m),isFinite(f.getFullYear())&&f.setFullYear(s)):f=new Date(s,r,n,i,c,u,m),f}function pi(s){var r,n;return s<100&&s>=0?(n=Array.prototype.slice.call(arguments),n[0]=s+400,r=new Date(Date.UTC.apply(null,n)),isFinite(r.getUTCFullYear())&&r.setUTCFullYear(s)):r=new Date(Date.UTC.apply(null,arguments)),r}function fc(s,r,n){var i=7+r-n,c=(7+pi(s,0,i).getUTCDay()-r)%7;return-c+i-1}function fy(s,r,n,i,c){var u=(7+n-i)%7,m=fc(s,i,c),f=1+7*(r-1)+u+m,x,p;return f<=0?(x=s-1,p=mi(x)+f):f>mi(s)?(x=s+1,p=f-mi(s)):(x=s,p=f),{year:x,dayOfYear:p}}function bi(s,r,n){var i=fc(s.year(),r,n),c=Math.floor((s.dayOfYear()-i-1)/7)+1,u,m;return c<1?(m=s.year()-1,u=c+Ya(m,r,n)):c>Ya(s.year(),r,n)?(u=c-Ya(s.year(),r,n),m=s.year()+1):(m=s.year(),u=c),{week:u,year:m}}function Ya(s,r,n){var i=fc(s,r,n),c=fc(s+1,r,n);return(mi(s)-i+c)/7}De("w",["ww",2],"wo","week");De("W",["WW",2],"Wo","isoWeek");Se("w",jt,sl);Se("ww",jt,ks);Se("W",jt,sl);Se("WW",jt,ks);Oi(["w","ww","W","WW"],function(s,r,n,i){r[i.substr(0,1)]=Fe(s)});function D5(s){return bi(s,this._week.dow,this._week.doy).week}var O5={dow:0,doy:6};function R5(){return this._week.dow}function L5(){return this._week.doy}function U5(s){var r=this.localeData().week(this);return s==null?r:this.add((s-r)*7,"d")}function z5(s){var r=bi(this,1,4).week;return s==null?r:this.add((s-r)*7,"d")}De("d",0,"do","day");De("dd",0,0,function(s){return this.localeData().weekdaysMin(this,s)});De("ddd",0,0,function(s){return this.localeData().weekdaysShort(this,s)});De("dddd",0,0,function(s){return this.localeData().weekdays(this,s)});De("e",0,0,"weekday");De("E",0,0,"isoWeekday");Se("d",jt);Se("e",jt);Se("E",jt);Se("dd",function(s,r){return r.weekdaysMinRegex(s)});Se("ddd",function(s,r){return r.weekdaysShortRegex(s)});Se("dddd",function(s,r){return r.weekdaysRegex(s)});Oi(["dd","ddd","dddd"],function(s,r,n,i){var c=n._locale.weekdaysParse(s,i,n._strict);c!=null?r.d=c:Ye(n).invalidWeekday=s});Oi(["d","e","E"],function(s,r,n,i){r[i]=Fe(s)});function P5(s,r){return typeof s!="string"?s:isNaN(s)?(s=r.weekdaysParse(s),typeof s=="number"?s:null):parseInt(s,10)}function $5(s,r){return typeof s=="string"?r.weekdaysParse(s)%7||7:isNaN(s)?null:s}function Ch(s,r){return s.slice(r,7).concat(s.slice(0,r))}var Y5="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),xy="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),B5="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),H5=Di,q5=Di,G5=Di;function I5(s,r){var n=Ws(this._weekdays)?this._weekdays:this._weekdays[s&&s!==!0&&this._weekdays.isFormat.test(r)?"format":"standalone"];return s===!0?Ch(n,this._week.dow):s?n[s.day()]:n}function F5(s){return s===!0?Ch(this._weekdaysShort,this._week.dow):s?this._weekdaysShort[s.day()]:this._weekdaysShort}function V5(s){return s===!0?Ch(this._weekdaysMin,this._week.dow):s?this._weekdaysMin[s.day()]:this._weekdaysMin}function Q5(s,r,n){var i,c,u,m=s.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)u=ga([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(u,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(u,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(u,"").toLocaleLowerCase();return n?r==="dddd"?(c=Mt.call(this._weekdaysParse,m),c!==-1?c:null):r==="ddd"?(c=Mt.call(this._shortWeekdaysParse,m),c!==-1?c:null):(c=Mt.call(this._minWeekdaysParse,m),c!==-1?c:null):r==="dddd"?(c=Mt.call(this._weekdaysParse,m),c!==-1||(c=Mt.call(this._shortWeekdaysParse,m),c!==-1)?c:(c=Mt.call(this._minWeekdaysParse,m),c!==-1?c:null)):r==="ddd"?(c=Mt.call(this._shortWeekdaysParse,m),c!==-1||(c=Mt.call(this._weekdaysParse,m),c!==-1)?c:(c=Mt.call(this._minWeekdaysParse,m),c!==-1?c:null)):(c=Mt.call(this._minWeekdaysParse,m),c!==-1||(c=Mt.call(this._weekdaysParse,m),c!==-1)?c:(c=Mt.call(this._shortWeekdaysParse,m),c!==-1?c:null))}function X5(s,r,n){var i,c,u;if(this._weekdaysParseExact)return Q5.call(this,s,r,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(c=ga([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(c,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(c,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(c,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(u="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[i]=new RegExp(u.replace(".",""),"i")),n&&r==="dddd"&&this._fullWeekdaysParse[i].test(s))return i;if(n&&r==="ddd"&&this._shortWeekdaysParse[i].test(s))return i;if(n&&r==="dd"&&this._minWeekdaysParse[i].test(s))return i;if(!n&&this._weekdaysParse[i].test(s))return i}}function Z5(s){if(!this.isValid())return s!=null?this:NaN;var r=gi(this,"Day");return s!=null?(s=P5(s,this.localeData()),this.add(s-r,"d")):r}function W5(s){if(!this.isValid())return s!=null?this:NaN;var r=(this.day()+7-this.localeData()._week.dow)%7;return s==null?r:this.add(s-r,"d")}function J5(s){if(!this.isValid())return s!=null?this:NaN;if(s!=null){var r=$5(s,this.localeData());return this.day(this.day()%7?r:r-7)}else return this.day()||7}function K5(s){return this._weekdaysParseExact?(We(this,"_weekdaysRegex")||kh.call(this),s?this._weekdaysStrictRegex:this._weekdaysRegex):(We(this,"_weekdaysRegex")||(this._weekdaysRegex=H5),this._weekdaysStrictRegex&&s?this._weekdaysStrictRegex:this._weekdaysRegex)}function e3(s){return this._weekdaysParseExact?(We(this,"_weekdaysRegex")||kh.call(this),s?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(We(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=q5),this._weekdaysShortStrictRegex&&s?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function t3(s){return this._weekdaysParseExact?(We(this,"_weekdaysRegex")||kh.call(this),s?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(We(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=G5),this._weekdaysMinStrictRegex&&s?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function kh(){function s(b,j){return j.length-b.length}var r=[],n=[],i=[],c=[],u,m,f,x,p;for(u=0;u<7;u++)m=ga([2e3,1]).day(u),f=$a(this.weekdaysMin(m,"")),x=$a(this.weekdaysShort(m,"")),p=$a(this.weekdays(m,"")),r.push(f),n.push(x),i.push(p),c.push(f),c.push(x),c.push(p);r.sort(s),n.sort(s),i.sort(s),c.sort(s),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Eh(){return this.hours()%12||12}function s3(){return this.hours()||24}De("H",["HH",2],0,"hour");De("h",["hh",2],0,Eh);De("k",["kk",2],0,s3);De("hmm",0,0,function(){return""+Eh.apply(this)+xa(this.minutes(),2)});De("hmmss",0,0,function(){return""+Eh.apply(this)+xa(this.minutes(),2)+xa(this.seconds(),2)});De("Hmm",0,0,function(){return""+this.hours()+xa(this.minutes(),2)});De("Hmmss",0,0,function(){return""+this.hours()+xa(this.minutes(),2)+xa(this.seconds(),2)});function gy(s,r){De(s,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),r)})}gy("a",!0);gy("A",!1);function py(s,r){return r._meridiemParse}Se("a",py);Se("A",py);Se("H",jt,wh);Se("h",jt,sl);Se("k",jt,sl);Se("HH",jt,ks);Se("hh",jt,ks);Se("kk",jt,ks);Se("hmm",ny);Se("hmmss",ly);Se("Hmm",ny);Se("Hmmss",ly);ut(["H","HH"],Pt);ut(["k","kk"],function(s,r,n){var i=Fe(s);r[Pt]=i===24?0:i});ut(["a","A"],function(s,r,n){n._isPm=n._locale.isPM(s),n._meridiem=s});ut(["h","hh"],function(s,r,n){r[Pt]=Fe(s),Ye(n).bigHour=!0});ut("hmm",function(s,r,n){var i=s.length-2;r[Pt]=Fe(s.substr(0,i)),r[Xs]=Fe(s.substr(i)),Ye(n).bigHour=!0});ut("hmmss",function(s,r,n){var i=s.length-4,c=s.length-2;r[Pt]=Fe(s.substr(0,i)),r[Xs]=Fe(s.substr(i,2)),r[za]=Fe(s.substr(c)),Ye(n).bigHour=!0});ut("Hmm",function(s,r,n){var i=s.length-2;r[Pt]=Fe(s.substr(0,i)),r[Xs]=Fe(s.substr(i))});ut("Hmmss",function(s,r,n){var i=s.length-4,c=s.length-2;r[Pt]=Fe(s.substr(0,i)),r[Xs]=Fe(s.substr(i,2)),r[za]=Fe(s.substr(c))});function a3(s){return(s+"").toLowerCase().charAt(0)==="p"}var r3=/[ap]\.?m?\.?/i,n3=al("Hours",!0);function l3(s,r,n){return s>11?n?"pm":"PM":n?"am":"AM"}var by={calendar:Q4,longDateFormat:J4,invalidDate:e5,ordinal:s5,dayOfMonthOrdinalParse:a5,relativeTime:n5,months:v5,monthsShort:cy,week:O5,weekdays:Y5,weekdaysMin:B5,weekdaysShort:xy,meridiemParse:r3},Nt={},ri={},yi;function i3(s,r){var n,i=Math.min(s.length,r.length);for(n=0;n<i;n+=1)if(s[n]!==r[n])return n;return i}function Sp(s){return s&&s.toLowerCase().replace("_","-")}function o3(s){for(var r=0,n,i,c,u;r<s.length;){for(u=Sp(s[r]).split("-"),n=u.length,i=Sp(s[r+1]),i=i?i.split("-"):null;n>0;){if(c=zc(u.slice(0,n).join("-")),c)return c;if(i&&i.length>=n&&i3(u,i)>=n-1)break;n--}r++}return yi}function c3(s){return!!(s&&s.match("^[^/\\\\]*$"))}function zc(s){var r=null,n;if(Nt[s]===void 0&&typeof module<"u"&&module&&module.exports&&c3(s))try{r=yi._abbr,n=require,n("./locale/"+s),yr(r)}catch{Nt[s]=null}return Nt[s]}function yr(s,r){var n;return s&&(fs(r)?n=Ga(s):n=Th(s,r),n?yi=n:typeof console<"u"&&console.warn&&console.warn("Locale "+s+" not found. Did you forget to load it?")),yi._abbr}function Th(s,r){if(r!==null){var n,i=by;if(r.abbr=s,Nt[s]!=null)ty("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Nt[s]._config;else if(r.parentLocale!=null)if(Nt[r.parentLocale]!=null)i=Nt[r.parentLocale]._config;else if(n=zc(r.parentLocale),n!=null)i=n._config;else return ri[r.parentLocale]||(ri[r.parentLocale]=[]),ri[r.parentLocale].push({name:s,config:r}),null;return Nt[s]=new bh(Ym(i,r)),ri[s]&&ri[s].forEach(function(c){Th(c.name,c.config)}),yr(s),Nt[s]}else return delete Nt[s],null}function d3(s,r){if(r!=null){var n,i,c=by;Nt[s]!=null&&Nt[s].parentLocale!=null?Nt[s].set(Ym(Nt[s]._config,r)):(i=zc(s),i!=null&&(c=i._config),r=Ym(c,r),i==null&&(r.abbr=s),n=new bh(r),n.parentLocale=Nt[s],Nt[s]=n),yr(s)}else Nt[s]!=null&&(Nt[s].parentLocale!=null?(Nt[s]=Nt[s].parentLocale,s===yr()&&yr(s)):Nt[s]!=null&&delete Nt[s]);return Nt[s]}function Ga(s){var r;if(s&&s._locale&&s._locale._abbr&&(s=s._locale._abbr),!s)return yi;if(!Ws(s)){if(r=zc(s),r)return r;s=[s]}return o3(s)}function u3(){return Bm(Nt)}function _h(s){var r,n=s._a;return n&&Ye(s).overflow===-2&&(r=n[Ua]<0||n[Ua]>11?Ua:n[da]<1||n[da]>Sh(n[ss],n[Ua])?da:n[Pt]<0||n[Pt]>24||n[Pt]===24&&(n[Xs]!==0||n[za]!==0||n[Gr]!==0)?Pt:n[Xs]<0||n[Xs]>59?Xs:n[za]<0||n[za]>59?za:n[Gr]<0||n[Gr]>999?Gr:-1,Ye(s)._overflowDayOfYear&&(r<ss||r>da)&&(r=da),Ye(s)._overflowWeeks&&r===-1&&(r=x5),Ye(s)._overflowWeekday&&r===-1&&(r=g5),Ye(s).overflow=r),s}var m3=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,h3=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,f3=/Z|[+-]\d\d(?::?\d\d)?/,Xo=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],bm=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],x3=/^\/?Date\((-?\d+)/i,g3=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,p3={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function yy(s){var r,n,i=s._i,c=m3.exec(i)||h3.exec(i),u,m,f,x,p=Xo.length,b=bm.length;if(c){for(Ye(s).iso=!0,r=0,n=p;r<n;r++)if(Xo[r][1].exec(c[1])){m=Xo[r][0],u=Xo[r][2]!==!1;break}if(m==null){s._isValid=!1;return}if(c[3]){for(r=0,n=b;r<n;r++)if(bm[r][1].exec(c[3])){f=(c[2]||" ")+bm[r][0];break}if(f==null){s._isValid=!1;return}}if(!u&&f!=null){s._isValid=!1;return}if(c[4])if(f3.exec(c[4]))x="Z";else{s._isValid=!1;return}s._f=m+(f||"")+(x||""),Mh(s)}else s._isValid=!1}function b3(s,r,n,i,c,u){var m=[y3(s),cy.indexOf(r),parseInt(n,10),parseInt(i,10),parseInt(c,10)];return u&&m.push(parseInt(u,10)),m}function y3(s){var r=parseInt(s,10);return r<=49?2e3+r:r<=999?1900+r:r}function j3(s){return s.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function v3(s,r,n){if(s){var i=xy.indexOf(s),c=new Date(r[0],r[1],r[2]).getDay();if(i!==c)return Ye(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function N3(s,r,n){if(s)return p3[s];if(r)return 0;var i=parseInt(n,10),c=i%100,u=(i-c)/100;return u*60+c}function jy(s){var r=g3.exec(j3(s._i)),n;if(r){if(n=b3(r[4],r[3],r[2],r[5],r[6],r[7]),!v3(r[1],n,s))return;s._a=n,s._tzm=N3(r[8],r[9],r[10]),s._d=pi.apply(null,s._a),s._d.setUTCMinutes(s._d.getUTCMinutes()-s._tzm),Ye(s).rfc2822=!0}else s._isValid=!1}function w3(s){var r=x3.exec(s._i);if(r!==null){s._d=new Date(+r[1]);return}if(yy(s),s._isValid===!1)delete s._isValid;else return;if(jy(s),s._isValid===!1)delete s._isValid;else return;s._strict?s._isValid=!1:we.createFromInputFallback(s)}we.createFromInputFallback=Hs("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(s){s._d=new Date(s._i+(s._useUTC?" UTC":""))});function Bn(s,r,n){return s??r??n}function S3(s){var r=new Date(we.now());return s._useUTC?[r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()]:[r.getFullYear(),r.getMonth(),r.getDate()]}function Ah(s){var r,n,i=[],c,u,m;if(!s._d){for(c=S3(s),s._w&&s._a[da]==null&&s._a[Ua]==null&&C3(s),s._dayOfYear!=null&&(m=Bn(s._a[ss],c[ss]),(s._dayOfYear>mi(m)||s._dayOfYear===0)&&(Ye(s)._overflowDayOfYear=!0),n=pi(m,0,s._dayOfYear),s._a[Ua]=n.getUTCMonth(),s._a[da]=n.getUTCDate()),r=0;r<3&&s._a[r]==null;++r)s._a[r]=i[r]=c[r];for(;r<7;r++)s._a[r]=i[r]=s._a[r]==null?r===2?1:0:s._a[r];s._a[Pt]===24&&s._a[Xs]===0&&s._a[za]===0&&s._a[Gr]===0&&(s._nextDay=!0,s._a[Pt]=0),s._d=(s._useUTC?pi:M5).apply(null,i),u=s._useUTC?s._d.getUTCDay():s._d.getDay(),s._tzm!=null&&s._d.setUTCMinutes(s._d.getUTCMinutes()-s._tzm),s._nextDay&&(s._a[Pt]=24),s._w&&typeof s._w.d<"u"&&s._w.d!==u&&(Ye(s).weekdayMismatch=!0)}}function C3(s){var r,n,i,c,u,m,f,x,p;r=s._w,r.GG!=null||r.W!=null||r.E!=null?(u=1,m=4,n=Bn(r.GG,s._a[ss],bi(yt(),1,4).year),i=Bn(r.W,1),c=Bn(r.E,1),(c<1||c>7)&&(x=!0)):(u=s._locale._week.dow,m=s._locale._week.doy,p=bi(yt(),u,m),n=Bn(r.gg,s._a[ss],p.year),i=Bn(r.w,p.week),r.d!=null?(c=r.d,(c<0||c>6)&&(x=!0)):r.e!=null?(c=r.e+u,(r.e<0||r.e>6)&&(x=!0)):c=u),i<1||i>Ya(n,u,m)?Ye(s)._overflowWeeks=!0:x!=null?Ye(s)._overflowWeekday=!0:(f=fy(n,i,c,u,m),s._a[ss]=f.year,s._dayOfYear=f.dayOfYear)}we.ISO_8601=function(){};we.RFC_2822=function(){};function Mh(s){if(s._f===we.ISO_8601){yy(s);return}if(s._f===we.RFC_2822){jy(s);return}s._a=[],Ye(s).empty=!0;var r=""+s._i,n,i,c,u,m,f=r.length,x=0,p,b;for(c=sy(s._f,s._locale).match(yh)||[],b=c.length,n=0;n<b;n++)u=c[n],i=(r.match(m5(u,s))||[])[0],i&&(m=r.substr(0,r.indexOf(i)),m.length>0&&Ye(s).unusedInput.push(m),r=r.slice(r.indexOf(i)+i.length),x+=i.length),qn[u]?(i?Ye(s).empty=!1:Ye(s).unusedTokens.push(u),f5(u,i,s)):s._strict&&!i&&Ye(s).unusedTokens.push(u);Ye(s).charsLeftOver=f-x,r.length>0&&Ye(s).unusedInput.push(r),s._a[Pt]<=12&&Ye(s).bigHour===!0&&s._a[Pt]>0&&(Ye(s).bigHour=void 0),Ye(s).parsedDateParts=s._a.slice(0),Ye(s).meridiem=s._meridiem,s._a[Pt]=k3(s._locale,s._a[Pt],s._meridiem),p=Ye(s).era,p!==null&&(s._a[ss]=s._locale.erasConvertYear(p,s._a[ss])),Ah(s),_h(s)}function k3(s,r,n){var i;return n==null?r:s.meridiemHour!=null?s.meridiemHour(r,n):(s.isPM!=null&&(i=s.isPM(n),i&&r<12&&(r+=12),!i&&r===12&&(r=0)),r)}function E3(s){var r,n,i,c,u,m,f=!1,x=s._f.length;if(x===0){Ye(s).invalidFormat=!0,s._d=new Date(NaN);return}for(c=0;c<x;c++)u=0,m=!1,r=ph({},s),s._useUTC!=null&&(r._useUTC=s._useUTC),r._f=s._f[c],Mh(r),gh(r)&&(m=!0),u+=Ye(r).charsLeftOver,u+=Ye(r).unusedTokens.length*10,Ye(r).score=u,f?u<i&&(i=u,n=r):(i==null||u<i||m)&&(i=u,n=r,m&&(f=!0));pr(s,n||r)}function T3(s){if(!s._d){var r=jh(s._i),n=r.day===void 0?r.date:r.day;s._a=Kb([r.year,r.month,n,r.hour,r.minute,r.second,r.millisecond],function(i){return i&&parseInt(i,10)}),Ah(s)}}function _3(s){var r=new Mi(_h(vy(s)));return r._nextDay&&(r.add(1,"d"),r._nextDay=void 0),r}function vy(s){var r=s._i,n=s._f;return s._locale=s._locale||Ga(s._l),r===null||n===void 0&&r===""?Ac({nullInput:!0}):(typeof r=="string"&&(s._i=r=s._locale.preparse(r)),Js(r)?new Mi(_h(r)):(Ai(r)?s._d=r:Ws(n)?E3(s):n?Mh(s):A3(s),gh(s)||(s._d=null),s))}function A3(s){var r=s._i;fs(r)?s._d=new Date(we.now()):Ai(r)?s._d=new Date(r.valueOf()):typeof r=="string"?w3(s):Ws(r)?(s._a=Kb(r.slice(0),function(n){return parseInt(n,10)}),Ah(s)):Fr(r)?T3(s):Ha(r)?s._d=new Date(r):we.createFromInputFallback(s)}function Ny(s,r,n,i,c){var u={};return(r===!0||r===!1)&&(i=r,r=void 0),(n===!0||n===!1)&&(i=n,n=void 0),(Fr(s)&&xh(s)||Ws(s)&&s.length===0)&&(s=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=c,u._l=n,u._i=s,u._f=r,u._strict=i,_3(u)}function yt(s,r,n,i){return Ny(s,r,n,i,!1)}var M3=Hs("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var s=yt.apply(null,arguments);return this.isValid()&&s.isValid()?s<this?this:s:Ac()}),D3=Hs("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var s=yt.apply(null,arguments);return this.isValid()&&s.isValid()?s>this?this:s:Ac()});function wy(s,r){var n,i;if(r.length===1&&Ws(r[0])&&(r=r[0]),!r.length)return yt();for(n=r[0],i=1;i<r.length;++i)(!r[i].isValid()||r[i][s](n))&&(n=r[i]);return n}function O3(){var s=[].slice.call(arguments,0);return wy("isBefore",s)}function R3(){var s=[].slice.call(arguments,0);return wy("isAfter",s)}var L3=function(){return Date.now?Date.now():+new Date},ni=["year","quarter","month","week","day","hour","minute","second","millisecond"];function U3(s){var r,n=!1,i,c=ni.length;for(r in s)if(We(s,r)&&!(Mt.call(ni,r)!==-1&&(s[r]==null||!isNaN(s[r]))))return!1;for(i=0;i<c;++i)if(s[ni[i]]){if(n)return!1;parseFloat(s[ni[i]])!==Fe(s[ni[i]])&&(n=!0)}return!0}function z3(){return this._isValid}function P3(){return aa(NaN)}function Pc(s){var r=jh(s),n=r.year||0,i=r.quarter||0,c=r.month||0,u=r.week||r.isoWeek||0,m=r.day||0,f=r.hour||0,x=r.minute||0,p=r.second||0,b=r.millisecond||0;this._isValid=U3(r),this._milliseconds=+b+p*1e3+x*6e4+f*1e3*60*60,this._days=+m+u*7,this._months=+c+i*3+n*12,this._data={},this._locale=Ga(),this._bubble()}function lc(s){return s instanceof Pc}function qm(s){return s<0?Math.round(-1*s)*-1:Math.round(s)}function $3(s,r,n){var i=Math.min(s.length,r.length),c=Math.abs(s.length-r.length),u=0,m;for(m=0;m<i;m++)Fe(s[m])!==Fe(r[m])&&u++;return u+c}function Sy(s,r){De(s,0,0,function(){var n=this.utcOffset(),i="+";return n<0&&(n=-n,i="-"),i+xa(~~(n/60),2)+r+xa(~~n%60,2)})}Sy("Z",":");Sy("ZZ","");Se("Z",Lc);Se("ZZ",Lc);ut(["Z","ZZ"],function(s,r,n){n._useUTC=!0,n._tzm=Dh(Lc,s)});var Y3=/([\+\-]|\d\d)/gi;function Dh(s,r){var n=(r||"").match(s),i,c,u;return n===null?null:(i=n[n.length-1]||[],c=(i+"").match(Y3)||["-",0,0],u=+(c[1]*60)+Fe(c[2]),u===0?0:c[0]==="+"?u:-u)}function Oh(s,r){var n,i;return r._isUTC?(n=r.clone(),i=(Js(s)||Ai(s)?s.valueOf():yt(s).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),we.updateOffset(n,!1),n):yt(s).local()}function Gm(s){return-Math.round(s._d.getTimezoneOffset())}we.updateOffset=function(){};function B3(s,r,n){var i=this._offset||0,c;if(!this.isValid())return s!=null?this:NaN;if(s!=null){if(typeof s=="string"){if(s=Dh(Lc,s),s===null)return this}else Math.abs(s)<16&&!n&&(s=s*60);return!this._isUTC&&r&&(c=Gm(this)),this._offset=s,this._isUTC=!0,c!=null&&this.add(c,"m"),i!==s&&(!r||this._changeInProgress?Ey(this,aa(s-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,we.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?i:Gm(this)}function H3(s,r){return s!=null?(typeof s!="string"&&(s=-s),this.utcOffset(s,r),this):-this.utcOffset()}function q3(s){return this.utcOffset(0,s)}function G3(s){return this._isUTC&&(this.utcOffset(0,s),this._isUTC=!1,s&&this.subtract(Gm(this),"m")),this}function I3(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var s=Dh(d5,this._i);s!=null?this.utcOffset(s):this.utcOffset(0,!0)}return this}function F3(s){return this.isValid()?(s=s?yt(s).utcOffset():0,(this.utcOffset()-s)%60===0):!1}function V3(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Q3(){if(!fs(this._isDSTShifted))return this._isDSTShifted;var s={},r;return ph(s,this),s=vy(s),s._a?(r=s._isUTC?ga(s._a):yt(s._a),this._isDSTShifted=this.isValid()&&$3(s._a,r.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function X3(){return this.isValid()?!this._isUTC:!1}function Z3(){return this.isValid()?this._isUTC:!1}function Cy(){return this.isValid()?this._isUTC&&this._offset===0:!1}var W3=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,J3=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function aa(s,r){var n=s,i=null,c,u,m;return lc(s)?n={ms:s._milliseconds,d:s._days,M:s._months}:Ha(s)||!isNaN(+s)?(n={},r?n[r]=+s:n.milliseconds=+s):(i=W3.exec(s))?(c=i[1]==="-"?-1:1,n={y:0,d:Fe(i[da])*c,h:Fe(i[Pt])*c,m:Fe(i[Xs])*c,s:Fe(i[za])*c,ms:Fe(qm(i[Gr]*1e3))*c}):(i=J3.exec(s))?(c=i[1]==="-"?-1:1,n={y:Yr(i[2],c),M:Yr(i[3],c),w:Yr(i[4],c),d:Yr(i[5],c),h:Yr(i[6],c),m:Yr(i[7],c),s:Yr(i[8],c)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(m=K3(yt(n.from),yt(n.to)),n={},n.ms=m.milliseconds,n.M=m.months),u=new Pc(n),lc(s)&&We(s,"_locale")&&(u._locale=s._locale),lc(s)&&We(s,"_isValid")&&(u._isValid=s._isValid),u}aa.fn=Pc.prototype;aa.invalid=P3;function Yr(s,r){var n=s&&parseFloat(s.replace(",","."));return(isNaN(n)?0:n)*r}function Cp(s,r){var n={};return n.months=r.month()-s.month()+(r.year()-s.year())*12,s.clone().add(n.months,"M").isAfter(r)&&--n.months,n.milliseconds=+r-+s.clone().add(n.months,"M"),n}function K3(s,r){var n;return s.isValid()&&r.isValid()?(r=Oh(r,s),s.isBefore(r)?n=Cp(s,r):(n=Cp(r,s),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function ky(s,r){return function(n,i){var c,u;return i!==null&&!isNaN(+i)&&(ty(r,"moment()."+r+"(period, number) is deprecated. Please use moment()."+r+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),u=n,n=i,i=u),c=aa(n,i),Ey(this,c,s),this}}function Ey(s,r,n,i){var c=r._milliseconds,u=qm(r._days),m=qm(r._months);s.isValid()&&(i=i??!0,m&&uy(s,gi(s,"Month")+m*n),u&&oy(s,"Date",gi(s,"Date")+u*n),c&&s._d.setTime(s._d.valueOf()+c*n),i&&we.updateOffset(s,u||m))}var eC=ky(1,"add"),tC=ky(-1,"subtract");function Ty(s){return typeof s=="string"||s instanceof String}function sC(s){return Js(s)||Ai(s)||Ty(s)||Ha(s)||rC(s)||aC(s)||s===null||s===void 0}function aC(s){var r=Fr(s)&&!xh(s),n=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c,u,m=i.length;for(c=0;c<m;c+=1)u=i[c],n=n||We(s,u);return r&&n}function rC(s){var r=Ws(s),n=!1;return r&&(n=s.filter(function(i){return!Ha(i)&&Ty(s)}).length===0),r&&n}function nC(s){var r=Fr(s)&&!xh(s),n=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],c,u;for(c=0;c<i.length;c+=1)u=i[c],n=n||We(s,u);return r&&n}function lC(s,r){var n=s.diff(r,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function iC(s,r){arguments.length===1&&(arguments[0]?sC(arguments[0])?(s=arguments[0],r=void 0):nC(arguments[0])&&(r=arguments[0],s=void 0):(s=void 0,r=void 0));var n=s||yt(),i=Oh(n,this).startOf("day"),c=we.calendarFormat(this,i)||"sameElse",u=r&&(pa(r[c])?r[c].call(this,n):r[c]);return this.format(u||this.localeData().calendar(c,this,yt(n)))}function oC(){return new Mi(this)}function cC(s,r){var n=Js(s)?s:yt(s);return this.isValid()&&n.isValid()?(r=qs(r)||"millisecond",r==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(r).valueOf()):!1}function dC(s,r){var n=Js(s)?s:yt(s);return this.isValid()&&n.isValid()?(r=qs(r)||"millisecond",r==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(r).valueOf()<n.valueOf()):!1}function uC(s,r,n,i){var c=Js(s)?s:yt(s),u=Js(r)?r:yt(r);return this.isValid()&&c.isValid()&&u.isValid()?(i=i||"()",(i[0]==="("?this.isAfter(c,n):!this.isBefore(c,n))&&(i[1]===")"?this.isBefore(u,n):!this.isAfter(u,n))):!1}function mC(s,r){var n=Js(s)?s:yt(s),i;return this.isValid()&&n.isValid()?(r=qs(r)||"millisecond",r==="millisecond"?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(r).valueOf()<=i&&i<=this.clone().endOf(r).valueOf())):!1}function hC(s,r){return this.isSame(s,r)||this.isAfter(s,r)}function fC(s,r){return this.isSame(s,r)||this.isBefore(s,r)}function xC(s,r,n){var i,c,u;if(!this.isValid())return NaN;if(i=Oh(s,this),!i.isValid())return NaN;switch(c=(i.utcOffset()-this.utcOffset())*6e4,r=qs(r),r){case"year":u=ic(this,i)/12;break;case"month":u=ic(this,i);break;case"quarter":u=ic(this,i)/3;break;case"second":u=(this-i)/1e3;break;case"minute":u=(this-i)/6e4;break;case"hour":u=(this-i)/36e5;break;case"day":u=(this-i-c)/864e5;break;case"week":u=(this-i-c)/6048e5;break;default:u=this-i}return n?u:zs(u)}function ic(s,r){if(s.date()<r.date())return-ic(r,s);var n=(r.year()-s.year())*12+(r.month()-s.month()),i=s.clone().add(n,"months"),c,u;return r-i<0?(c=s.clone().add(n-1,"months"),u=(r-i)/(i-c)):(c=s.clone().add(n+1,"months"),u=(r-i)/(c-i)),-(n+u)||0}we.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";we.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function gC(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function pC(s){if(!this.isValid())return null;var r=s!==!0,n=r?this.clone().utc():this;return n.year()<0||n.year()>9999?nc(n,r?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):pa(Date.prototype.toISOString)?r?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",nc(n,"Z")):nc(n,r?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function bC(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var s="moment",r="",n,i,c,u;return this.isLocal()||(s=this.utcOffset()===0?"moment.utc":"moment.parseZone",r="Z"),n="["+s+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",c="-MM-DD[T]HH:mm:ss.SSS",u=r+'[")]',this.format(n+i+c+u)}function yC(s){s||(s=this.isUtc()?we.defaultFormatUtc:we.defaultFormat);var r=nc(this,s);return this.localeData().postformat(r)}function jC(s,r){return this.isValid()&&(Js(s)&&s.isValid()||yt(s).isValid())?aa({to:this,from:s}).locale(this.locale()).humanize(!r):this.localeData().invalidDate()}function vC(s){return this.from(yt(),s)}function NC(s,r){return this.isValid()&&(Js(s)&&s.isValid()||yt(s).isValid())?aa({from:this,to:s}).locale(this.locale()).humanize(!r):this.localeData().invalidDate()}function wC(s){return this.to(yt(),s)}function _y(s){var r;return s===void 0?this._locale._abbr:(r=Ga(s),r!=null&&(this._locale=r),this)}var Ay=Hs("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(s){return s===void 0?this.localeData():this.locale(s)});function My(){return this._locale}var xc=1e3,Gn=60*xc,gc=60*Gn,Dy=(365*400+97)*24*gc;function In(s,r){return(s%r+r)%r}function Oy(s,r,n){return s<100&&s>=0?new Date(s+400,r,n)-Dy:new Date(s,r,n).valueOf()}function Ry(s,r,n){return s<100&&s>=0?Date.UTC(s+400,r,n)-Dy:Date.UTC(s,r,n)}function SC(s){var r,n;if(s=qs(s),s===void 0||s==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Ry:Oy,s){case"year":r=n(this.year(),0,1);break;case"quarter":r=n(this.year(),this.month()-this.month()%3,1);break;case"month":r=n(this.year(),this.month(),1);break;case"week":r=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":r=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":r=n(this.year(),this.month(),this.date());break;case"hour":r=this._d.valueOf(),r-=In(r+(this._isUTC?0:this.utcOffset()*Gn),gc);break;case"minute":r=this._d.valueOf(),r-=In(r,Gn);break;case"second":r=this._d.valueOf(),r-=In(r,xc);break}return this._d.setTime(r),we.updateOffset(this,!0),this}function CC(s){var r,n;if(s=qs(s),s===void 0||s==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Ry:Oy,s){case"year":r=n(this.year()+1,0,1)-1;break;case"quarter":r=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":r=n(this.year(),this.month()+1,1)-1;break;case"week":r=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":r=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":r=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":r=this._d.valueOf(),r+=gc-In(r+(this._isUTC?0:this.utcOffset()*Gn),gc)-1;break;case"minute":r=this._d.valueOf(),r+=Gn-In(r,Gn)-1;break;case"second":r=this._d.valueOf(),r+=xc-In(r,xc)-1;break}return this._d.setTime(r),we.updateOffset(this,!0),this}function kC(){return this._d.valueOf()-(this._offset||0)*6e4}function EC(){return Math.floor(this.valueOf()/1e3)}function TC(){return new Date(this.valueOf())}function _C(){var s=this;return[s.year(),s.month(),s.date(),s.hour(),s.minute(),s.second(),s.millisecond()]}function AC(){var s=this;return{years:s.year(),months:s.month(),date:s.date(),hours:s.hours(),minutes:s.minutes(),seconds:s.seconds(),milliseconds:s.milliseconds()}}function MC(){return this.isValid()?this.toISOString():null}function DC(){return gh(this)}function OC(){return pr({},Ye(this))}function RC(){return Ye(this).overflow}function LC(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}De("N",0,0,"eraAbbr");De("NN",0,0,"eraAbbr");De("NNN",0,0,"eraAbbr");De("NNNN",0,0,"eraName");De("NNNNN",0,0,"eraNarrow");De("y",["y",1],"yo","eraYear");De("y",["yy",2],0,"eraYear");De("y",["yyy",3],0,"eraYear");De("y",["yyyy",4],0,"eraYear");Se("N",Rh);Se("NN",Rh);Se("NNN",Rh);Se("NNNN",FC);Se("NNNNN",VC);ut(["N","NN","NNN","NNNN","NNNNN"],function(s,r,n,i){var c=n._locale.erasParse(s,i,n._strict);c?Ye(n).era=c:Ye(n).invalidEra=s});Se("y",tl);Se("yy",tl);Se("yyy",tl);Se("yyyy",tl);Se("yo",QC);ut(["y","yy","yyy","yyyy"],ss);ut(["yo"],function(s,r,n,i){var c;n._locale._eraYearOrdinalRegex&&(c=s.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?r[ss]=n._locale.eraYearOrdinalParse(s,c):r[ss]=parseInt(s,10)});function UC(s,r){var n,i,c,u=this._eras||Ga("en")._eras;for(n=0,i=u.length;n<i;++n){switch(typeof u[n].since){case"string":c=we(u[n].since).startOf("day"),u[n].since=c.valueOf();break}switch(typeof u[n].until){case"undefined":u[n].until=1/0;break;case"string":c=we(u[n].until).startOf("day").valueOf(),u[n].until=c.valueOf();break}}return u}function zC(s,r,n){var i,c,u=this.eras(),m,f,x;for(s=s.toUpperCase(),i=0,c=u.length;i<c;++i)if(m=u[i].name.toUpperCase(),f=u[i].abbr.toUpperCase(),x=u[i].narrow.toUpperCase(),n)switch(r){case"N":case"NN":case"NNN":if(f===s)return u[i];break;case"NNNN":if(m===s)return u[i];break;case"NNNNN":if(x===s)return u[i];break}else if([m,f,x].indexOf(s)>=0)return u[i]}function PC(s,r){var n=s.since<=s.until?1:-1;return r===void 0?we(s.since).year():we(s.since).year()+(r-s.offset)*n}function $C(){var s,r,n,i=this.localeData().eras();for(s=0,r=i.length;s<r;++s)if(n=this.clone().startOf("day").valueOf(),i[s].since<=n&&n<=i[s].until||i[s].until<=n&&n<=i[s].since)return i[s].name;return""}function YC(){var s,r,n,i=this.localeData().eras();for(s=0,r=i.length;s<r;++s)if(n=this.clone().startOf("day").valueOf(),i[s].since<=n&&n<=i[s].until||i[s].until<=n&&n<=i[s].since)return i[s].narrow;return""}function BC(){var s,r,n,i=this.localeData().eras();for(s=0,r=i.length;s<r;++s)if(n=this.clone().startOf("day").valueOf(),i[s].since<=n&&n<=i[s].until||i[s].until<=n&&n<=i[s].since)return i[s].abbr;return""}function HC(){var s,r,n,i,c=this.localeData().eras();for(s=0,r=c.length;s<r;++s)if(n=c[s].since<=c[s].until?1:-1,i=this.clone().startOf("day").valueOf(),c[s].since<=i&&i<=c[s].until||c[s].until<=i&&i<=c[s].since)return(this.year()-we(c[s].since).year())*n+c[s].offset;return this.year()}function qC(s){return We(this,"_erasNameRegex")||Lh.call(this),s?this._erasNameRegex:this._erasRegex}function GC(s){return We(this,"_erasAbbrRegex")||Lh.call(this),s?this._erasAbbrRegex:this._erasRegex}function IC(s){return We(this,"_erasNarrowRegex")||Lh.call(this),s?this._erasNarrowRegex:this._erasRegex}function Rh(s,r){return r.erasAbbrRegex(s)}function FC(s,r){return r.erasNameRegex(s)}function VC(s,r){return r.erasNarrowRegex(s)}function QC(s,r){return r._eraYearOrdinalRegex||tl}function Lh(){var s=[],r=[],n=[],i=[],c,u,m,f,x,p=this.eras();for(c=0,u=p.length;c<u;++c)m=$a(p[c].name),f=$a(p[c].abbr),x=$a(p[c].narrow),r.push(m),s.push(f),n.push(x),i.push(m),i.push(f),i.push(x);this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}De(0,["gg",2],0,function(){return this.weekYear()%100});De(0,["GG",2],0,function(){return this.isoWeekYear()%100});function $c(s,r){De(0,[s,s.length],0,r)}$c("gggg","weekYear");$c("ggggg","weekYear");$c("GGGG","isoWeekYear");$c("GGGGG","isoWeekYear");Se("G",Rc);Se("g",Rc);Se("GG",jt,ks);Se("gg",jt,ks);Se("GGGG",Nh,vh);Se("gggg",Nh,vh);Se("GGGGG",Oc,Mc);Se("ggggg",Oc,Mc);Oi(["gggg","ggggg","GGGG","GGGGG"],function(s,r,n,i){r[i.substr(0,2)]=Fe(s)});Oi(["gg","GG"],function(s,r,n,i){r[i]=we.parseTwoDigitYear(s)});function XC(s){return Ly.call(this,s,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function ZC(s){return Ly.call(this,s,this.isoWeek(),this.isoWeekday(),1,4)}function WC(){return Ya(this.year(),1,4)}function JC(){return Ya(this.isoWeekYear(),1,4)}function KC(){var s=this.localeData()._week;return Ya(this.year(),s.dow,s.doy)}function e6(){var s=this.localeData()._week;return Ya(this.weekYear(),s.dow,s.doy)}function Ly(s,r,n,i,c){var u;return s==null?bi(this,i,c).year:(u=Ya(s,i,c),r>u&&(r=u),t6.call(this,s,r,n,i,c))}function t6(s,r,n,i,c){var u=fy(s,r,n,i,c),m=pi(u.year,0,u.dayOfYear);return this.year(m.getUTCFullYear()),this.month(m.getUTCMonth()),this.date(m.getUTCDate()),this}De("Q",0,"Qo","quarter");Se("Q",ay);ut("Q",function(s,r){r[Ua]=(Fe(s)-1)*3});function s6(s){return s==null?Math.ceil((this.month()+1)/3):this.month((s-1)*3+this.month()%3)}De("D",["DD",2],"Do","date");Se("D",jt,sl);Se("DD",jt,ks);Se("Do",function(s,r){return s?r._dayOfMonthOrdinalParse||r._ordinalParse:r._dayOfMonthOrdinalParseLenient});ut(["D","DD"],da);ut("Do",function(s,r){r[da]=Fe(s.match(jt)[0])});var Uy=al("Date",!0);De("DDD",["DDDD",3],"DDDo","dayOfYear");Se("DDD",Dc);Se("DDDD",ry);ut(["DDD","DDDD"],function(s,r,n){n._dayOfYear=Fe(s)});function a6(s){var r=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return s==null?r:this.add(s-r,"d")}De("m",["mm",2],0,"minute");Se("m",jt,wh);Se("mm",jt,ks);ut(["m","mm"],Xs);var r6=al("Minutes",!1);De("s",["ss",2],0,"second");Se("s",jt,wh);Se("ss",jt,ks);ut(["s","ss"],za);var n6=al("Seconds",!1);De("S",0,0,function(){return~~(this.millisecond()/100)});De(0,["SS",2],0,function(){return~~(this.millisecond()/10)});De(0,["SSS",3],0,"millisecond");De(0,["SSSS",4],0,function(){return this.millisecond()*10});De(0,["SSSSS",5],0,function(){return this.millisecond()*100});De(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});De(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});De(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});De(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Se("S",Dc,ay);Se("SS",Dc,ks);Se("SSS",Dc,ry);var br,zy;for(br="SSSS";br.length<=9;br+="S")Se(br,tl);function l6(s,r){r[Gr]=Fe(("0."+s)*1e3)}for(br="S";br.length<=9;br+="S")ut(br,l6);zy=al("Milliseconds",!1);De("z",0,0,"zoneAbbr");De("zz",0,0,"zoneName");function i6(){return this._isUTC?"UTC":""}function o6(){return this._isUTC?"Coordinated Universal Time":""}var be=Mi.prototype;be.add=eC;be.calendar=iC;be.clone=oC;be.diff=xC;be.endOf=CC;be.format=yC;be.from=jC;be.fromNow=vC;be.to=NC;be.toNow=wC;be.get=b5;be.invalidAt=RC;be.isAfter=cC;be.isBefore=dC;be.isBetween=uC;be.isSame=mC;be.isSameOrAfter=hC;be.isSameOrBefore=fC;be.isValid=DC;be.lang=Ay;be.locale=_y;be.localeData=My;be.max=D3;be.min=M3;be.parsingFlags=OC;be.set=y5;be.startOf=SC;be.subtract=tC;be.toArray=_C;be.toObject=AC;be.toDate=TC;be.toISOString=pC;be.inspect=bC;typeof Symbol<"u"&&Symbol.for!=null&&(be[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});be.toJSON=MC;be.toString=gC;be.unix=EC;be.valueOf=kC;be.creationData=LC;be.eraName=$C;be.eraNarrow=YC;be.eraAbbr=BC;be.eraYear=HC;be.year=iy;be.isLeapYear=p5;be.weekYear=XC;be.isoWeekYear=ZC;be.quarter=be.quarters=s6;be.month=my;be.daysInMonth=T5;be.week=be.weeks=U5;be.isoWeek=be.isoWeeks=z5;be.weeksInYear=KC;be.weeksInWeekYear=e6;be.isoWeeksInYear=WC;be.isoWeeksInISOWeekYear=JC;be.date=Uy;be.day=be.days=Z5;be.weekday=W5;be.isoWeekday=J5;be.dayOfYear=a6;be.hour=be.hours=n3;be.minute=be.minutes=r6;be.second=be.seconds=n6;be.millisecond=be.milliseconds=zy;be.utcOffset=B3;be.utc=q3;be.local=G3;be.parseZone=I3;be.hasAlignedHourOffset=F3;be.isDST=V3;be.isLocal=X3;be.isUtcOffset=Z3;be.isUtc=Cy;be.isUTC=Cy;be.zoneAbbr=i6;be.zoneName=o6;be.dates=Hs("dates accessor is deprecated. Use date instead.",Uy);be.months=Hs("months accessor is deprecated. Use month instead",my);be.years=Hs("years accessor is deprecated. Use year instead",iy);be.zone=Hs("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",H3);be.isDSTShifted=Hs("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Q3);function c6(s){return yt(s*1e3)}function d6(){return yt.apply(null,arguments).parseZone()}function Py(s){return s}var Je=bh.prototype;Je.calendar=X4;Je.longDateFormat=K4;Je.invalidDate=t5;Je.ordinal=r5;Je.preparse=Py;Je.postformat=Py;Je.relativeTime=l5;Je.pastFuture=i5;Je.set=V4;Je.eras=UC;Je.erasParse=zC;Je.erasConvertYear=PC;Je.erasAbbrRegex=GC;Je.erasNameRegex=qC;Je.erasNarrowRegex=IC;Je.months=S5;Je.monthsShort=C5;Je.monthsParse=E5;Je.monthsRegex=A5;Je.monthsShortRegex=_5;Je.week=D5;Je.firstDayOfYear=L5;Je.firstDayOfWeek=R5;Je.weekdays=I5;Je.weekdaysMin=V5;Je.weekdaysShort=F5;Je.weekdaysParse=X5;Je.weekdaysRegex=K5;Je.weekdaysShortRegex=e3;Je.weekdaysMinRegex=t3;Je.isPM=a3;Je.meridiem=l3;function pc(s,r,n,i){var c=Ga(),u=ga().set(i,r);return c[n](u,s)}function $y(s,r,n){if(Ha(s)&&(r=s,s=void 0),s=s||"",r!=null)return pc(s,r,n,"month");var i,c=[];for(i=0;i<12;i++)c[i]=pc(s,i,n,"month");return c}function Uh(s,r,n,i){typeof s=="boolean"?(Ha(r)&&(n=r,r=void 0),r=r||""):(r=s,n=r,s=!1,Ha(r)&&(n=r,r=void 0),r=r||"");var c=Ga(),u=s?c._week.dow:0,m,f=[];if(n!=null)return pc(r,(n+u)%7,i,"day");for(m=0;m<7;m++)f[m]=pc(r,(m+u)%7,i,"day");return f}function u6(s,r){return $y(s,r,"months")}function m6(s,r){return $y(s,r,"monthsShort")}function h6(s,r,n){return Uh(s,r,n,"weekdays")}function f6(s,r,n){return Uh(s,r,n,"weekdaysShort")}function x6(s,r,n){return Uh(s,r,n,"weekdaysMin")}yr("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(s){var r=s%10,n=Fe(s%100/10)===1?"th":r===1?"st":r===2?"nd":r===3?"rd":"th";return s+n}});we.lang=Hs("moment.lang is deprecated. Use moment.locale instead.",yr);we.langData=Hs("moment.langData is deprecated. Use moment.localeData instead.",Ga);var Ra=Math.abs;function g6(){var s=this._data;return this._milliseconds=Ra(this._milliseconds),this._days=Ra(this._days),this._months=Ra(this._months),s.milliseconds=Ra(s.milliseconds),s.seconds=Ra(s.seconds),s.minutes=Ra(s.minutes),s.hours=Ra(s.hours),s.months=Ra(s.months),s.years=Ra(s.years),this}function Yy(s,r,n,i){var c=aa(r,n);return s._milliseconds+=i*c._milliseconds,s._days+=i*c._days,s._months+=i*c._months,s._bubble()}function p6(s,r){return Yy(this,s,r,1)}function b6(s,r){return Yy(this,s,r,-1)}function kp(s){return s<0?Math.floor(s):Math.ceil(s)}function y6(){var s=this._milliseconds,r=this._days,n=this._months,i=this._data,c,u,m,f,x;return s>=0&&r>=0&&n>=0||s<=0&&r<=0&&n<=0||(s+=kp(Im(n)+r)*864e5,r=0,n=0),i.milliseconds=s%1e3,c=zs(s/1e3),i.seconds=c%60,u=zs(c/60),i.minutes=u%60,m=zs(u/60),i.hours=m%24,r+=zs(m/24),x=zs(By(r)),n+=x,r-=kp(Im(x)),f=zs(n/12),n%=12,i.days=r,i.months=n,i.years=f,this}function By(s){return s*4800/146097}function Im(s){return s*146097/4800}function j6(s){if(!this.isValid())return NaN;var r,n,i=this._milliseconds;if(s=qs(s),s==="month"||s==="quarter"||s==="year")switch(r=this._days+i/864e5,n=this._months+By(r),s){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(r=this._days+Math.round(Im(this._months)),s){case"week":return r/7+i/6048e5;case"day":return r+i/864e5;case"hour":return r*24+i/36e5;case"minute":return r*1440+i/6e4;case"second":return r*86400+i/1e3;case"millisecond":return Math.floor(r*864e5)+i;default:throw new Error("Unknown unit "+s)}}function Ia(s){return function(){return this.as(s)}}var Hy=Ia("ms"),v6=Ia("s"),N6=Ia("m"),w6=Ia("h"),S6=Ia("d"),C6=Ia("w"),k6=Ia("M"),E6=Ia("Q"),T6=Ia("y"),_6=Hy;function A6(){return aa(this)}function M6(s){return s=qs(s),this.isValid()?this[s+"s"]():NaN}function Jr(s){return function(){return this.isValid()?this._data[s]:NaN}}var D6=Jr("milliseconds"),O6=Jr("seconds"),R6=Jr("minutes"),L6=Jr("hours"),U6=Jr("days"),z6=Jr("months"),P6=Jr("years");function $6(){return zs(this.days()/7)}var La=Math.round,Hn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Y6(s,r,n,i,c){return c.relativeTime(r||1,!!n,s,i)}function B6(s,r,n,i){var c=aa(s).abs(),u=La(c.as("s")),m=La(c.as("m")),f=La(c.as("h")),x=La(c.as("d")),p=La(c.as("M")),b=La(c.as("w")),j=La(c.as("y")),w=u<=n.ss&&["s",u]||u<n.s&&["ss",u]||m<=1&&["m"]||m<n.m&&["mm",m]||f<=1&&["h"]||f<n.h&&["hh",f]||x<=1&&["d"]||x<n.d&&["dd",x];return n.w!=null&&(w=w||b<=1&&["w"]||b<n.w&&["ww",b]),w=w||p<=1&&["M"]||p<n.M&&["MM",p]||j<=1&&["y"]||["yy",j],w[2]=r,w[3]=+s>0,w[4]=i,Y6.apply(null,w)}function H6(s){return s===void 0?La:typeof s=="function"?(La=s,!0):!1}function q6(s,r){return Hn[s]===void 0?!1:r===void 0?Hn[s]:(Hn[s]=r,s==="s"&&(Hn.ss=r-1),!0)}function G6(s,r){if(!this.isValid())return this.localeData().invalidDate();var n=!1,i=Hn,c,u;return typeof s=="object"&&(r=s,s=!1),typeof s=="boolean"&&(n=s),typeof r=="object"&&(i=Object.assign({},Hn,r),r.s!=null&&r.ss==null&&(i.ss=r.s-1)),c=this.localeData(),u=B6(this,!n,i,c),n&&(u=c.pastFuture(+this,u)),c.postformat(u)}var ym=Math.abs;function $n(s){return(s>0)-(s<0)||+s}function Yc(){if(!this.isValid())return this.localeData().invalidDate();var s=ym(this._milliseconds)/1e3,r=ym(this._days),n=ym(this._months),i,c,u,m,f=this.asSeconds(),x,p,b,j;return f?(i=zs(s/60),c=zs(i/60),s%=60,i%=60,u=zs(n/12),n%=12,m=s?s.toFixed(3).replace(/\.?0+$/,""):"",x=f<0?"-":"",p=$n(this._months)!==$n(f)?"-":"",b=$n(this._days)!==$n(f)?"-":"",j=$n(this._milliseconds)!==$n(f)?"-":"",x+"P"+(u?p+u+"Y":"")+(n?p+n+"M":"")+(r?b+r+"D":"")+(c||i||s?"T":"")+(c?j+c+"H":"")+(i?j+i+"M":"")+(s?j+m+"S":"")):"P0D"}var Qe=Pc.prototype;Qe.isValid=z3;Qe.abs=g6;Qe.add=p6;Qe.subtract=b6;Qe.as=j6;Qe.asMilliseconds=Hy;Qe.asSeconds=v6;Qe.asMinutes=N6;Qe.asHours=w6;Qe.asDays=S6;Qe.asWeeks=C6;Qe.asMonths=k6;Qe.asQuarters=E6;Qe.asYears=T6;Qe.valueOf=_6;Qe._bubble=y6;Qe.clone=A6;Qe.get=M6;Qe.milliseconds=D6;Qe.seconds=O6;Qe.minutes=R6;Qe.hours=L6;Qe.days=U6;Qe.weeks=$6;Qe.months=z6;Qe.years=P6;Qe.humanize=G6;Qe.toISOString=Yc;Qe.toString=Yc;Qe.toJSON=Yc;Qe.locale=_y;Qe.localeData=My;Qe.toIsoString=Hs("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Yc);Qe.lang=Ay;De("X",0,0,"unix");De("x",0,0,"valueOf");Se("x",Rc);Se("X",u5);ut("X",function(s,r,n){n._d=new Date(parseFloat(s)*1e3)});ut("x",function(s,r,n){n._d=new Date(Fe(s))});//! moment.js
we.version="2.30.1";I4(yt);we.fn=be;we.min=O3;we.max=R3;we.now=L3;we.utc=ga;we.unix=c6;we.months=u6;we.isDate=Ai;we.locale=yr;we.invalid=Ac;we.duration=aa;we.isMoment=Js;we.weekdays=h6;we.parseZone=d6;we.localeData=Ga;we.isDuration=lc;we.monthsShort=m6;we.weekdaysMin=x6;we.defineLocale=Th;we.updateLocale=d3;we.locales=u3;we.weekdaysShort=f6;we.normalizeUnits=qs;we.relativeTimeRounding=H6;we.relativeTimeThreshold=q6;we.calendarFormat=lC;we.prototype=be;we.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const I6=({schedule:s,eventTypeColors:r})=>e.jsxs("div",{className:`p-4 rounded-lg border ${r[s.eventType]}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("span",{className:"text-xs font-semibold uppercase",children:s.eventType}),e.jsx(Cs,{className:"w-4 h-4"})]}),e.jsx("h4",{className:"font-semibold text-sm mb-1",children:s.title}),e.jsx("p",{className:"text-xs mb-1",children:s.subject?.subjectCode||"N/A"}),e.jsx("p",{className:"text-xs",children:we(s.startDateTime).format("MMM D, h:mm A")})]}),F6=({upcomingSchedules:s,loading:r})=>{const n=dt(),i={quiz:"bg-red-100 text-red-800 border-red-300",laboratory:"bg-yellow-100 text-yellow-800 border-yellow-300",exam:"bg-blue-100 text-blue-800 border-blue-300",assignment:"bg-orange-100 text-orange-800 border-orange-300",project:"bg-green-100 text-green-800 border-green-300",other:"bg-gray-100 text-gray-800 border-gray-300"};return e.jsxs("div",{className:"mb-8 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(ha,{className:"w-5 h-5 text-blue-600"}),"Upcoming Schedule"]}),e.jsx("button",{onClick:()=>n("/student/schedule"),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"View All "})]}),r?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:s.map(c=>e.jsx(I6,{schedule:c,eventTypeColors:i},c._id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ha,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No upcoming events"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Check back later for new schedule items"})]})]})},V6=({sections:s,loading:r})=>{const n=dt();return r?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ct,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 text-lg",children:"No subjects available"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"You are not enrolled in any subjects yet"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Instructor"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Units"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(i=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:i.subject?.subjectCode||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:i.subject?.subjectName||"Unknown Subject"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:i.sectionName}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:i.instructor?.fullName||"No Instructor"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:i.subject?.units||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsx("button",{onClick:()=>n(`/student/sections/${i._id}/activities`),className:"text-blue-600 hover:text-blue-700 font-medium",children:"View Details"})})]},i._id))})]})})},Q6=({sections:s,loading:r})=>{const n=dt();return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Ct,{className:"w-5 h-5 text-green-600"}),"Current Subjects"]}),e.jsx("button",{onClick:()=>n("/student/subjects"),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"View All "})]}),e.jsx(V6,{sections:s,loading:r})]})},X6=()=>{const[s,r]=g.useState([]),[n,i]=g.useState([]),[c,u]=g.useState(0),[m,f]=g.useState(!0);g.useEffect(()=>{x()},[]);const x=async()=>{try{f(!0);const j=await ge("http://localhost:5000/api/schedule/upcoming?limit=3");if(j.ok){const v=await j.json();r(v.schedules||[])}const w=await ge("http://localhost:5000/api/student/sections");if(w.ok){const v=await w.json();i(v.sections||[])}const E=await ge("http://localhost:5000/api/student/sections?includeArchived=true");if(E.ok){const v=await E.json();u(v.sections?.length||0)}}catch(j){console.error("Error loading dashboard data:",j)}finally{f(!1)}},p=n.slice(0,5),b=[{icon:ha,count:s.length,label:"Upcoming Schedule",iconColor:"#3b82f6"},{icon:Ct,count:n.length,label:"Active Subjects",iconColor:"#10b981"},{icon:ft,count:c,label:"Archived Subjects",iconColor:"#f59e0b"}];return e.jsxs("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-20 mt-10",children:[e.jsx(It,{}),e.jsx("h3",{className:"pt-10 text-2xl sm:text-3xl font-bold text-[#1E3A5F] mb-6 sm:mb-8 font-outfit max-[880px]:mt-10",children:"Student Dashboard"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 lg:grid-cols-3 gap-4 mb-8",children:b.map((j,w)=>e.jsx(H4,{...j},w))}),e.jsx(G4,{}),e.jsx(F6,{upcomingSchedules:s,loading:m}),e.jsx(Q6,{sections:p,loading:m})]})},Z6=()=>e.jsx("h1",{className:"pt-10 text-2xl sm:text-3xl font-bold text-[#1E3A5F] mb-6 sm:mb-8 font-outfit max-[880px]:mt-10",children:"My Grades"}),W6=({selectedSemester:s,selectedYear:r,semesters:n,academicYears:i,onSemesterChange:c,onYearChange:u})=>e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[e.jsxs("div",{className:"relative w-full sm:w-auto",children:[e.jsx("select",{value:s,onChange:m=>c(m.target.value),className:"appearance-none w-full sm:w-auto bg-white text-gray-700 px-4 py-2 pr-8 rounded-md text-sm font-medium focus:outline-none focus:ring-2 focus:ring-blue-500 border border-gray-300 cursor-pointer",children:n.map(m=>e.jsx("option",{value:m.value,children:m.label},m.value))}),e.jsx(Vr,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-700 pointer-events-none"})]}),e.jsxs("div",{className:"relative w-full sm:w-auto",children:[e.jsx("select",{value:r,onChange:m=>u(m.target.value),className:"appearance-none w-full sm:w-auto bg-white text-gray-700 px-4 py-2 pr-8 rounded-md text-sm font-medium focus:outline-none focus:ring-2 focus:ring-blue-500 border border-gray-300 cursor-pointer",children:i.map(m=>e.jsx("option",{value:m,children:m},m))}),e.jsx(Vr,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-700 pointer-events-none"})]})]}),J6=({displayGrades:s,semesters:r,selectedSemester:n,selectedYear:i})=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-3 sm:p-4 md:p-6 border-2 border-gray-200",children:[e.jsx("div",{className:"px-4 sm:px-6 py-3 border-gray-200",children:e.jsxs("h2",{className:"text-base sm:text-lg font-medium text-gray-700",children:[r.find(c=>c.value===n)?.label,", S.Y."," ",i]})}),e.jsx("div",{className:"overflow-x-auto",children:s.length>0?e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject Name"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Instructor"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Units"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Final Grade"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Remarks"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map((c,u)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 text-sm text-gray-700 whitespace-nowrap",children:c.courseCode}),e.jsx("td",{className:"px-4 py-2 text-sm whitespace-nowrap",children:c.subjectName}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-700 whitespace-nowrap",children:c.instructor}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-700 whitespace-nowrap",children:c.units>0?c.units.toFixed(1):"N/A"}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-700 whitespace-nowrap",children:c.finalGrade>0?c.finalGrade.toFixed(2):"N/A"}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-700 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${c.remarks==="Passed"?"bg-green-100 text-green-800":c.remarks==="Failed"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:c.remarks})})]},u))})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 text-4xl mb-4",children:""}),e.jsx("p",{className:"text-gray-500 text-lg mb-2",children:"No Grades Available"}),e.jsxs("p",{className:"text-gray-400 text-sm",children:["No grades found for"," ",r.find(c=>c.value===n)?.label,", S.Y. ",i]})]})})]}),K6=({displayGrades:s})=>{const r=s.reduce((c,u)=>c+u.units,0),n=s.filter(c=>c.finalGrade>0),i=n.length>0?n.reduce((c,u)=>c+u.finalGrade,0)/n.length:0;return e.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm text-center sm:text-left border border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Total Units"}),e.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:r.toFixed(1)})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm text-center sm:text-left border border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Average Grade"}),e.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:i>0?i.toFixed(2):"N/A"})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm text-center sm:text-left border border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Total Subjects"}),e.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:s.length})]})]})},ek=({error:s})=>s?e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:e.jsx("p",{className:"text-red-700",children:s})}):null,tk=()=>e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),sk=()=>{const[s,r]=g.useState("1st"),[n,i]=g.useState("2024-2025"),[c,u]=g.useState([]),[m,f]=g.useState(!0),[x,p]=g.useState(""),b=[{value:"1st",label:"1st Semester"},{value:"2nd",label:"2nd Semester"},{value:"Summer",label:"Summer"}],j=["2024-2025","2025-2026","2023-2024","2022-2023"],w=g.useCallback(async()=>{try{f(!0),p("");const v=new URLSearchParams;n&&v.append("schoolYear",n),s&&v.append("term",s);const T=await ge(`http://localhost:5000/api/student/grades?${v.toString()}`);if(T.ok){const C=await T.json();u(C.grades||[])}else{const C=await T.json();p(C.message||"Failed to fetch grades"),u([])}}catch(v){console.error("Error fetching grades:",v),p("Error fetching grades"),u([])}finally{f(!1)}},[n,s]);g.useEffect(()=>{w()},[w]);const E=g.useMemo(()=>c.map(v=>({courseCode:v.section?.subject?.subjectCode||"N/A",subjectName:v.section?.subject?.subjectName||"Unknown Subject",instructor:v.section?.instructor?.fullName||"N/A",units:v.section?.subject?.units||0,finalGrade:v.grade?.finalGrade||0,remarks:v.grade?.remarks||"No Grade",sectionName:v.section?.sectionName||"N/A",classStanding:v.grade?.classStanding||0,laboratory:v.grade?.laboratory||0,majorOutput:v.grade?.majorOutput||0})),[c]);return m?e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(It,{}),e.jsx("div",{className:"flex-1 p-2 sm:p-4 md:p-6 lg:p-8 ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-16 sm:max-[880px]:pt-20",children:e.jsx(tk,{})})]}):e.jsxs("div",{className:"flex-1 p-2 sm:p-4 md:p-6 lg:p-8 ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-16 sm:max-[880px]:pt-20",children:[e.jsx(It,{}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 mt-2 sm:mt-10 gap-4",children:[e.jsx(Z6,{}),e.jsx(W6,{selectedSemester:s,selectedYear:n,semesters:b,academicYears:j,onSemesterChange:r,onYearChange:i})]}),e.jsx(ek,{error:x}),e.jsx(J6,{displayGrades:E,semesters:b,selectedSemester:s,selectedYear:n}),e.jsx(K6,{displayGrades:E})]})},ak=()=>e.jsx("h3",{className:"pt-10 text-2xl sm:text-3xl font-bold text-[#1E3A5F] mb-6 sm:mb-8 font-outfit max-[880px]:mt-10",children:"Student Subjects"}),rk=({searchTerm:s,selectedYear:r,selectedSemester:n,academicYears:i,semesters:c,onSearchChange:u,onYearChange:m,onSemesterChange:f})=>e.jsxs("div",{className:"flex flex-wrap items-center justify-between mb-8 gap-5",children:[e.jsx("input",{type:"text",placeholder:"Search Class",value:s,onChange:x=>u(x.target.value),className:"flex-1 max-w-sm px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Academic Year"}),e.jsx("select",{value:r,onChange:x=>m(x.target.value),className:"min-w-[150px] px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer",children:i.map(x=>e.jsx("option",{value:x.value,children:x.label},x.value))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Semester"}),e.jsx("select",{value:n,onChange:x=>f(x.target.value),className:"min-w-[150px] px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer",children:c.map(x=>e.jsx("option",{value:x.value,children:x.label},x.value))})]})]})]}),nk=({section:s,onSubjectClick:r,onHideClick:n})=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer overflow-hidden",onClick:()=>r(s),children:[e.jsx("div",{className:"h-48 bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:e.jsxs("div",{className:"text-white text-center",children:[e.jsx("div",{className:"text-3xl font-bold mb-2",children:s.subject.subjectCode}),e.jsx("div",{className:"text-sm opacity-90",children:s.sectionName})]})}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:s.subject.subjectName}),e.jsxs("p",{className:"text-gray-600 font-medium text-sm mb-3",children:[s.subject.subjectCode," - ",s.sectionName]}),e.jsxs("div",{className:"space-y-1 mb-4",children:[e.jsxs("p",{className:"text-gray-500 text-sm",children:[s.term," Semester"]}),e.jsxs("p",{className:"text-gray-500 text-sm",children:["A.Y. ",s.schoolYear]}),e.jsxs("p",{className:"text-gray-500 text-sm",children:[s.subject.units," ",s.subject.units===1?"Unit":"Units"]})]}),e.jsx("p",{className:"text-gray-900 font-semibold text-sm",children:s.instructor?.fullName||"Instructor TBA"}),e.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:s.subject.college}),e.jsx("button",{onClick:i=>n(s,i),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",title:"Hide Subject",children:e.jsx(Si,{className:"w-5 h-5"})})]})]})]}),lk=({hasNoSections:s,onRefresh:r})=>e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:""}),s?e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-lg mb-2",children:"No subjects assigned"}),e.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:["You are not enrolled in any subjects for the selected academic year and semester.",e.jsx("br",{}),"Contact your instructor or admin to be added to course sections."]}),e.jsx("button",{onClick:r,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Refresh"})]}):e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-lg mb-2",children:"No subjects match your search"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Try adjusting your search term or filter criteria."})]})]}),ik=({filteredClasses:s,sections:r,loading:n,onSubjectClick:i,onHideClick:c,onRefresh:u})=>s.length===0&&!n?e.jsx(lk,{hasNoSections:r.length===0,onRefresh:u}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(m=>e.jsx(nk,{section:m,onSubjectClick:i,onHideClick:c},m._id))}),ok=({isOpen:s,section:r,hiding:n,onConfirm:i,onClose:c})=>s?e.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-[10000]",children:e.jsx("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-gray-100 mb-4",children:e.jsx(Si,{className:"text-gray-600",size:24})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Hide Subject"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Are you sure you want to hide this subject?"}),r&&e.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:r.subject?.subjectName||"Subject"}),e.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[r.subject?.subjectCode," - ",r.sectionName]})]}),e.jsxs("div",{className:"mb-6 flex items-start gap-2 text-sm text-gray-600 text-left bg-blue-50 p-3 rounded-lg",children:[e.jsx(ta,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-blue-600"}),e.jsx("p",{children:"You can unhide it later from the Hidden Subjects page."})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",disabled:n,onClick:c,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"button",disabled:n,onClick:i,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:n?"Hiding...":"Hide"})]})]})})}):null,ck=()=>e.jsxs("div",{className:"flex justify-center items-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"Loading your subjects..."})]}),dk=({error:s,onRetry:r})=>e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-red-600",children:s}),e.jsx("button",{onClick:r,className:"mt-2 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors cursor-pointer",children:"Try Again"})]}),Ep=[{value:"2024-2025",label:"2024-2025"},{value:"2025-2026",label:"2025-2026"},{value:"2023-2024",label:"2023-2024"}],Tp=[{value:"1st Semester",label:"1st Semester"},{value:"2nd Semester",label:"2nd Semester"},{value:"Summer",label:"Summer"}],uk=()=>{const s=dt(),[r,n]=g.useState(""),[i,c]=g.useState(Ep[0].value),[u,m]=g.useState(Tp[0].value),[f,x]=g.useState([]),[p,b]=g.useState(!0),[j,w]=g.useState(null),[E,v]=g.useState(!1),[T,C]=g.useState(null),[k,N]=g.useState(!1),[M,A]=g.useState({show:!1,type:"",message:""}),D=B=>{switch(B){case"1st Semester":return"1st";case"2nd Semester":return"2nd";case"Summer":return"Summer";default:return"1st"}},Y=g.useCallback(async()=>{try{b(!0),w(null),console.log("Fetching all student sections...");const B=await ge("http://localhost:5000/api/student/sections");if(!B.ok){if(B.status===401){w("Authentication required. Please log in again.");return}throw new Error(`HTTP error! status: ${B.status}`)}const ae=await B.json();if(console.log("All sections response:",ae),!ae.success){w(ae.message||"Failed to fetch sections");return}const ce=ae.sections||[];console.log(`Found ${ce.length} total sections`);const J=ce.filter($=>{const O=!i||$.schoolYear===i,U=!u||$.term===D(u);return O&&U});console.log(`Filtered to ${J.length} sections for ${i} ${D(u)}`),x(J),J.length===0&&ce.length>0&&console.log("No sections match the current filters. Available sections:",ce.map($=>({schoolYear:$.schoolYear,term:$.term,subject:$.subject?.subjectCode})))}catch(B){console.error("Error fetching sections:",B),w(`Failed to load sections: ${B.message}`)}finally{b(!1)}},[i,u]);g.useEffect(()=>{Y()},[Y]);const Q=f.filter(B=>{if(!B||!B.subject)return!1;const ae=B.subject.subjectName||"",ce=B.subject.subjectCode||"",J=B.sectionName||"";return ae.toLowerCase().includes(r.toLowerCase())||ce.toLowerCase().includes(r.toLowerCase())||J.toLowerCase().includes(r.toLowerCase())}),q=B=>{s(`/student/sections/${B._id}/activities`,{state:{section:B,subject:B.subject}})},ne=(B,ae)=>{ae.stopPropagation(),C(B),v(!0)},re=async()=>{if(T)try{N(!0);const B=await ge(`http://localhost:5000/api/student/sections/${T._id}/hide`,{method:"PUT"});if(B.ok)A({show:!0,type:"success",message:"Subject hidden successfully!"}),v(!1),C(null),await Y();else{const ae=await B.json();A({show:!0,type:"error",message:ae.message||"Failed to hide subject"})}}catch(B){console.error("Error hiding subject:",B),A({show:!0,type:"error",message:"Error hiding subject"})}finally{N(!1)}};return p?e.jsxs("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-20 mt-10",children:[e.jsx(It,{}),e.jsx(ck,{})]}):j?e.jsxs("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-20 mt-10",children:[e.jsx(It,{}),e.jsx(dk,{error:j,onRetry:Y})]}):e.jsxs("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-20 mt-10",children:[e.jsx(It,{}),e.jsx(ak,{}),e.jsx(rk,{searchTerm:r,selectedYear:i,selectedSemester:u,academicYears:Ep,semesters:Tp,onSearchChange:n,onYearChange:c,onSemesterChange:m}),e.jsx(ik,{filteredClasses:Q,sections:f,loading:p,onSubjectClick:q,onHideClick:ne,onRefresh:Y}),e.jsx(ok,{isOpen:E,section:T,hiding:k,onConfirm:re,onClose:()=>v(!1)}),e.jsx(Jn,{isOpen:M.show,type:M.type,title:M.type==="success"?"Success":"Error",message:M.message,onClose:()=>A({...M,show:!1})})]})},mk=()=>{const{subjectId:s}=vi(),r=dt(),[n,i]=g.useState({classStanding:[],laboratory:[],majorOutput:[]}),[c,u]=g.useState({classStanding:!0,laboratory:!0,majorOutput:!0}),[m,f]=g.useState(!0),[x,p]=g.useState(null),[b,j]=g.useState(null),w=g.useCallback(async()=>{try{f(!0);const k=await ge(`/api/student/subjects/${s}/grades`);if(k.success){const N={classStanding:k.data.activities.filter(M=>M.category==="classStanding"),laboratory:k.data.activities.filter(M=>M.category==="laboratory"),majorOutput:k.data.activities.filter(M=>M.category==="majorOutput")};i(N),j(k.data.subject)}else p(k.message||"Failed to fetch grades")}catch(k){console.error("Error fetching class grades:",k),p("Failed to load class grades")}finally{f(!1)}},[s]);g.useEffect(()=>{w()},[w]);const E=k=>{u(N=>({...N,[k]:!N[k]}))},v=k=>{if(k.length===0)return 0;const N=k.reduce((A,D)=>A+(D.score||0),0),M=k.reduce((A,D)=>A+D.maxScore,0);return M>0?(N/M*100).toFixed(2):0},T=k=>new Date(k).toLocaleDateString("en-US",{day:"numeric",month:"long",year:"numeric"}),C=({title:k,categoryKey:N,activities:M,maxPoints:A=150})=>{const D=c[N],Y=v(M);return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-t-lg cursor-pointer",onClick:()=>E(N),children:[e.jsx("div",{className:"flex items-center space-x-3",children:e.jsx("h3",{className:"text-lg font-semibold",children:k})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"text-lg font-bold",children:A}),D?e.jsx(N2,{className:"w-5 h-5"}):e.jsx(Vr,{className:"w-5 h-5"})]})]}),D&&e.jsxs("div",{className:"p-0",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 bg-gray-50 border-b border-gray-200 text-sm font-medium text-gray-600",children:[e.jsx("div",{}),e.jsx("div",{className:"text-center",children:"Submission date"}),e.jsx("div",{className:"text-center",children:"Points"})]}),e.jsx("div",{className:"divide-y divide-gray-100",children:M.length>0?M.map((Q,q)=>e.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 hover:bg-gray-50 transition-colors",children:[e.jsx("div",{className:"font-medium text-gray-900",children:Q.title||"Activity Name"}),e.jsx("div",{className:"text-center text-gray-600",children:Q.submissionDate?T(Q.submissionDate):T(Q.dueDate||"2025-08-15")}),e.jsxs("div",{className:"text-center font-medium",children:[e.jsx("span",{className:"text-gray-900",children:Q.score||0}),e.jsxs("span",{className:"text-gray-500",children:["/",Q.maxScore||100]})]})]},Q._id||q)):Array.from({length:5},(Q,q)=>e.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 hover:bg-gray-50 transition-colors",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Activity Name"}),e.jsx("div",{className:"text-center text-gray-600",children:"15 August 2025"}),e.jsxs("div",{className:"text-center font-medium",children:[e.jsx("span",{className:"text-gray-900",children:"91"}),e.jsx("span",{className:"text-gray-500",children:"/100"})]})]},q))}),e.jsx("div",{className:"bg-gray-100 p-4 rounded-b-lg",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"font-semibold text-gray-700",children:[k," Average"]}),e.jsx("div",{}),e.jsxs("div",{className:"text-center",children:[e.jsxs("span",{className:"font-bold text-lg text-purple-600",children:[Math.round(Y*A/100),"/",A]}),e.jsxs("span",{className:"text-gray-500 ml-2",children:["(",Y,"%)"]})]})]})})]})]})};return m?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):x?e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-red-600",children:x})}):e.jsxs("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-20 mt-10",children:[e.jsx(It,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[e.jsx("div",{className:"flex items-center space-x-4 mb-4",children:e.jsxs("button",{onClick:()=>r("/student/subjects"),className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[e.jsx(t2,{className:"w-4 h-4"}),e.jsx("span",{children:"Back to Subjects"})]})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Class Grades"}),b&&e.jsxs("div",{className:"mt-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-purple-600",children:b.title}),e.jsx("p",{className:"text-gray-600",children:b.code})]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"View your grades and performance across different activity categories"})]}),e.jsx(C,{title:"Class Standing",categoryKey:"classStanding",activities:n.classStanding,maxPoints:150}),e.jsx(C,{title:"Laboratory",categoryKey:"laboratory",activities:n.laboratory,maxPoints:150}),e.jsx(C,{title:"Major Output",categoryKey:"majorOutput",activities:n.majorOutput,maxPoints:150}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mt-8",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Overall Performance"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[v([...n.classStanding,...n.laboratory,...n.majorOutput]),"%"]}),e.jsx("div",{className:"text-gray-600 text-sm",children:"Overall Average"})]}),e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.classStanding.length+n.laboratory.length+n.majorOutput.length}),e.jsx("div",{className:"text-gray-600 text-sm",children:"Total Activities"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:[...n.classStanding,...n.laboratory,...n.majorOutput].filter(k=>k.score>=k.maxScore*.75).length}),e.jsx("div",{className:"text-gray-600 text-sm",children:"Above 75%"})]})]})]})]})]})};class hk{constructor(){this.baseURL="http://localhost:5000/api/admin",this.refreshPromise=null}getAccessToken(){return localStorage.getItem("admin_access_token")}getRefreshToken(){return localStorage.getItem("admin_refresh_token")}setTokens(r,n){localStorage.setItem("admin_access_token",r),n&&localStorage.setItem("admin_refresh_token",n)}clearTokens(){localStorage.removeItem("admin_access_token"),localStorage.removeItem("admin_refresh_token"),localStorage.removeItem("admin_user")}isLoggedIn(){return!!this.getAccessToken()}getAdminUser(){const r=localStorage.getItem("admin_user");return r?JSON.parse(r):null}setAdminUser(r){localStorage.setItem("admin_user",JSON.stringify(r))}async refreshAccessToken(){if(this.refreshPromise)return this.refreshPromise;const r=this.getRefreshToken();if(!r)throw this.logout(),new Error("No refresh token available");this.refreshPromise=this.performTokenRefresh(r);try{return await this.refreshPromise}finally{this.refreshPromise=null}}async performTokenRefresh(r){try{const n=await fetch(`${this.baseURL}/refresh-token`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok)throw new Error("Token refresh failed");const i=await n.json();if(i.success&&i.accessToken)return this.setTokens(i.accessToken,r),i.accessToken;throw new Error("Invalid refresh response")}catch(n){throw console.error("Token refresh error:",n),this.logout(),n}}async apiCall(r,n={}){const i=this.getAccessToken();if(!i)throw new Error("No access token available");const c={"Content-Type":"application/json",...n.headers,Authorization:`Bearer ${i}`},u=await fetch(r,{...n,headers:c});if(u.status===401){const m=await u.json().catch(()=>({}));if(m.code==="TOKEN_EXPIRED"||m.message?.includes("expired"))try{console.log("Token expired, attempting to refresh...");const f=await this.refreshAccessToken();return await fetch(r,{...n,headers:{...c,Authorization:`Bearer ${f}`}})}catch(f){throw console.error("Token refresh failed:",f),this.logout(),window.location.href="/admin/login",f}}return u}async login(r,n){try{const i=await fetch(`${this.baseURL}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:n})}),c=await i.json();if(c.success)return this.setTokens(c.tokens.accessToken,c.tokens.refreshToken),this.setAdminUser(c.admin),c;{const u=new Error(c.message||"Login failed");throw u.response={status:i.status,message:c.message,remainingAttempts:c.remainingAttempts,locked:c.locked,timeUntilUnlock:c.timeUntilUnlock,failedAttempts:c.failedAttempts},u}}catch(i){throw console.error("Login error:",i),i}}logout(){this.clearTokens(),window.location.href="/admin/login"}async getProfile(){try{const n=await(await this.apiCall(`${this.baseURL}/profile`)).json();if(n.success)return this.setAdminUser(n.admin),n.admin;throw new Error(n.message||"Failed to get profile")}catch(r){throw console.error("Get profile error:",r),r}}async getDashboardStats(){try{const n=await(await this.apiCall(`${this.baseURL}/dashboard/stats`)).json();if(n.success)return n;throw new Error(n.message||"Failed to get dashboard stats")}catch(r){throw console.error("Get dashboard stats error:",r),r}}async getStudents(r={}){try{const n=new URLSearchParams(r).toString(),i=`${this.baseURL}/students${n?`?${n}`:""}`,u=await(await this.apiCall(i)).json();if(u.success)return u;throw new Error(u.message||"Failed to get students")}catch(n){throw console.error("Get students error:",n),n}}async updateStudentStatus(r,n,i=""){try{const u=await(await this.apiCall(`${this.baseURL}/students/${r}/status`,{method:"PUT",body:JSON.stringify({status:n,reason:i})})).json();if(u.success)return u;throw new Error(u.message||"Failed to update student status")}catch(c){throw console.error("Update student status error:",c),c}}async getInstructors(r={}){try{const n=new URLSearchParams(r).toString(),i=`${this.baseURL}/instructors${n?`?${n}`:""}`,u=await(await this.apiCall(i)).json();if(u.success)return u;throw new Error(u.message||"Failed to get instructors")}catch(n){throw console.error("Get instructors error:",n),n}}async inviteInstructor(r){try{const i=await(await this.apiCall(`${this.baseURL}/instructors/invite`,{method:"POST",body:JSON.stringify(r)})).json();if(i.success)return i;throw new Error(i.message||"Failed to invite instructor")}catch(n){throw console.error("Invite instructor error:",n),n}}async requestResetCode(r){try{const n=await fetch(`${this.baseURL}/request-reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r})}),i=await n.json();if(!n.ok)throw new Error(i.message||"Failed to request reset code");return i}catch(n){throw console.error("Request reset code error:",n),n}}async resetPassword(r,n){try{const i=await fetch(`${this.baseURL}/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({passcode:r,newPassword:n})}),c=await i.json();if(!i.ok)throw new Error(c.message||"Failed to reset password");return c}catch(i){throw console.error("Reset password error:",i),i}}async verifyResetCode(r){try{const n=await fetch(`${this.baseURL}/verify-reset-code`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({passcode:r})}),i=await n.json();if(!n.ok)throw new Error(i.message||"Failed to verify reset code");return i}catch(n){throw console.error("Verify reset code error:",n),n}}}const ma=new hk,di=ma.apiCall.bind(ma);function qy({onSubmit:s}){return e.jsxs("form",{onSubmit:s,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"adminEmail",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email:"}),e.jsx("input",{type:"email",name:"adminEmail",id:"adminEmail",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"adminPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password:"}),e.jsx("input",{type:"password",name:"adminPassword",id:"adminPassword",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white"})]}),e.jsx("button",{type:"submit",className:"w-full px-4 py-3 bg-blue-900 text-white font-semibold rounded-md hover:bg-blue-900 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-900 focus:ring-offset-2",style:{backgroundColor:"#091057"},children:"Login"})]})}qy.propTypes={onSubmit:Te.func.isRequired};function Gy({onClick:s}){return e.jsx("button",{onClick:s,className:"absolute top-8 left-8 text-gray-600 hover:text-gray-800 transition-colors cursor-pointer","aria-label":"Go back",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})})}Gy.propTypes={onClick:Te.func.isRequired};function Iy({onClick:s}){return e.jsx("div",{className:"flex justify-end",children:e.jsx("a",{href:"#",onClick:r=>{r.preventDefault(),s()},className:"mt-2 text-sm text-blue-600 hover:underline cursor-pointer",children:"Forgot password?"})})}Iy.propTypes={onClick:Te.func.isRequired};function Fy({title:s,subtitle:r}){return e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-center mb-2 text-gray-900 text-3xl",children:s}),e.jsx("p",{className:"text-center text-gray-600 text-sm mb-8",children:r})]})}Fy.propTypes={title:Te.string.isRequired,subtitle:Te.string.isRequired};const fk="6Lfty3MqAAAAACp-CJm8DFxDW1GfjdR1aXqHbqpg";function _p(){const s=dt(),[r,n]=g.useState(""),[i,c]=g.useState(null),u=async p=>{if(p.preventDefault(),n(""),!i){n("Please complete the reCAPTCHA verification.");return}const b=p.target.adminEmail.value,j=p.target.adminPassword.value;try{const w=await ma.login(b,j);w.success?(sessionStorage.setItem("accessToken",w.tokens.accessToken),sessionStorage.setItem("userType","Admin"),sessionStorage.setItem("adminInfo",JSON.stringify(w.admin)),s("/admin")):n(w.message||"Admin login failed.")}catch(w){if(console.error("Login error:",w),w.response){const E=w.response;if(w.response.status===423)n(E.message||"Account is temporarily locked due to too many failed login attempts.");else{let v=E.message||"Login failed.";E.remainingAttempts!==void 0&&E.remainingAttempts>0&&(v+=` ${E.remainingAttempts} attempt${E.remainingAttempts>1?"s":""} remaining.`),n(v)}}else n(w.message||"Network error. Please try again.")}},m=p=>{c(p),p&&n("")},f=()=>{c(null),n("reCAPTCHA expired. Please verify again.")},x=()=>{c(null),n("reCAPTCHA error. Please try again.")};return e.jsxs("div",{className:"flex min-h-screen max-md:flex-col",children:[e.jsx(oh,{logoSrc:jr,backgroundSrc:sh,title:"BUKSU GRADING SYSTEM"}),e.jsxs("div",{className:"w-full lg:w-[500px] xl:w-[480px] flex flex-col justify-center px-6 py-8 sm:px-8 sm:py-12 lg:px-16 lg:py-12 bg-gray-50 relative",children:[e.jsx(Gy,{onClick:()=>s("/login")}),e.jsxs("div",{className:"max-w-md mx-auto mt-8",children:[e.jsx(Fy,{title:"Admin Login",subtitle:"Enter Credentials to Manage System"}),e.jsx(qy,{onSubmit:u}),e.jsx(Iy,{onClick:()=>s("/admin/adminRequestCode")}),e.jsx(ch,{sitekey:fk,onChange:m,onExpired:f,onErrored:x}),e.jsx(dh,{message:r})]})]})]})}const jm=[{link:"/admin",label:"Dashboard",icon:lh,type:"single"},{label:"User Management",icon:xi,type:"dropdown",children:[{link:"/admin/all-users",label:"All users",icon:$s},{link:"/admin/students",label:"Students",icon:xi},{link:"/admin/instructors",label:"Instructors",icon:ns}]},{label:"Academic Management",icon:Ct,type:"dropdown",children:[{link:"/admin/semestral-period",label:"Semestral Period",icon:ha},{link:"/admin/subjects",label:"Subject",icon:Ct},{link:"/admin/sections",label:"Sections",icon:nw}]},{link:"/admin/archive",label:"Archive Management",icon:ft,type:"single"},{link:"/admin/monitoring",label:"System Monitoring",icon:wi,type:"single"}];function Ss(){const s=rs(),r=dt(),[n,i]=g.useState(()=>{const N={"User Management":!1,"Academic Management":!1};return(s.pathname.startsWith("/admin/students")||s.pathname.startsWith("/admin/instructors")||s.pathname.startsWith("/admin/all-users"))&&(N["User Management"]=!0),(s.pathname.startsWith("/admin/semestral-period")||s.pathname.startsWith("/admin/subjects")||s.pathname.startsWith("/admin/sections")||s.pathname.startsWith("/admin/view-invite-student/"))&&(N["Academic Management"]=!0),N}),[c,u]=g.useState(()=>{const N=[];jm.forEach(A=>{A.type==="single"?N.push(A):A.type==="dropdown"&&A.children&&N.push(...A.children)}),N.push({link:"/admin/profile",label:"Profile"});const M=N.find(A=>A.link===s.pathname);return M?M.label:s.pathname.startsWith("/admin/view-invite-student/")?"Sections":jm[0].label}),[m]=g.useState(!1),[f,x]=g.useState(!1),p=N=>{i(M=>({...M,[N]:!M[N]}))},b=N=>{u(N.label),r(N.link),x(!1)},[j,w]=g.useState(!1),[E,v]=g.useState({show:!1,message:"",type:""}),T=async()=>{try{const N=localStorage.getItem("token");await fetch("http://localhost:5000/api/logout",{method:"POST",headers:{"Content-Type":"application/json",...N?{Authorization:`Bearer ${N}`}:{}},credentials:"include"}),localStorage.removeItem("token"),sessionStorage.clear(),document.cookie="token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",w(!1),v({show:!0,message:"You have been successfully logged out.",type:"success"}),r("/login")}catch(N){console.error("Logout error:",N),v({show:!0,message:"Logout failed. Please try again.",type:"error"})}},C=N=>{if(N.type==="single")return e.jsxs("a",{className:`flex items-center gap-3 px-4 py-3 text-white/90 no-underline rounded-lg transition-all duration-150 text-sm cursor-pointer hover:bg-white/20 ${c===N.label?"bg-white/30 text-white font-semibold":""}`,href:N.link,onClick:M=>{M.preventDefault(),b(N)},"aria-current":c===N.label?"page":void 0,children:[e.jsx(N.icon,{className:"w-5 h-5 flex-shrink-0",stroke:1.5}),e.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis",children:N.label})]},N.label);if(N.type==="dropdown"){const M=n[N.label];return e.jsxs("div",{children:[e.jsxs("button",{className:"w-full flex items-center justify-between px-4 py-3 text-white/90 rounded-lg transition-all duration-150 text-sm cursor-pointer hover:bg-white/20",onClick:()=>p(N.label),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(N.icon,{className:"w-5 h-5 flex-shrink-0",stroke:1.5}),e.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis",children:N.label})]}),M?e.jsx(Vr,{className:"w-4 h-4 flex-shrink-0",stroke:1.5}):e.jsx(Zr,{className:"w-4 h-4 flex-shrink-0",stroke:1.5})]}),M&&e.jsx("div",{className:"ml-4 mt-1 space-y-1",children:N.children?.map(A=>e.jsxs("a",{className:`flex items-center gap-3 px-4 py-2 text-white/80 no-underline rounded-lg transition-all duration-150 text-sm cursor-pointer hover:bg-white/20 ${c===A.label?"bg-white/30 text-white font-semibold":""}`,href:A.link,onClick:D=>{D.preventDefault(),b(A)},"aria-current":c===A.label?"page":void 0,children:[e.jsx(A.icon,{className:"w-4 h-4 flex-shrink-0",stroke:1.5}),e.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis",children:A.label})]},A.label))})]},N.label)}return null},k=jm.map(C);return e.jsxs(e.Fragment,{children:[!f&&e.jsx("div",{className:"hidden max-[880px]:block fixed top-3 left-3 z-[2001] rounded-md shadow-sm p-1",style:{backgroundColor:"#091057"},children:e.jsxs("button",{onClick:()=>x(!0),"aria-label":"Open navigation",className:"flex flex-col gap-1 p-2  rounded transition-colors cursor-pointer",children:[e.jsx("div",{className:"w-5 h-0.5 bg-white"}),e.jsx("div",{className:"w-5 h-0.5 bg-white"}),e.jsx("div",{className:"w-5 h-0.5 bg-white"})]})}),e.jsxs("nav",{className:`w-65 min-w-65 flex flex-col justify-between h-screen shadow-lg transition-all duration-200 overflow-hidden p-0 box-border fixed top-0 bottom-0 left-0 z-[1000] max-[880px]:transform max-[880px]:transition-transform max-[880px]:duration-300 max-[880px]:z-[2000] ${m?"w-16 min-w-16":""} ${f?"max-[880px]:translate-x-0":"max-[880px]:-translate-x-full"}`,style:{backgroundColor:"#091057"},"aria-label":"Admin sidebar",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"px-6 py-8 flex flex-col items-center justify-center border-b border-white/20",style:{backgroundColor:"#091057"},children:[e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("img",{src:jr,alt:"BUKSU Logo",className:"h-20 w-20 object-cover rounded-half  shadow-sm"}),!m&&e.jsx("span",{className:"font-bold text-xl text-white tracking-wide text-center",children:"ADMIN PANEL"})]}),f?e.jsx("button",{className:"absolute top-4 right-4 p-2 rounded-md hover:bg-white/20 transition-colors",onClick:()=>x(!1),"aria-label":"Close sidebar",children:e.jsx(et,{stroke:1.5,className:"w-5 h-5 text-white"})}):null]}),e.jsx("div",{className:"p-4 flex flex-col gap-2",children:k})]}),e.jsxs("div",{className:"p-4 flex flex-col gap-2 border-t border-white/20",children:[e.jsxs("a",{href:"#",className:`flex items-center gap-3 px-4 py-3 text-white/90 no-underline rounded-lg transition-all duration-150 text-sm cursor-pointer hover:bg-white/20 ${c==="Profile"?"bg-white/30 text-white font-semibold":""}`,onClick:N=>{N.preventDefault(),u("Profile"),r("/admin/profile"),x(!1)},title:m?"Profile":void 0,children:[e.jsx(ih,{className:"w-5 h-5 flex-shrink-0",stroke:1.5}),!m&&e.jsx("span",{children:"Profile"})]}),e.jsxs("a",{href:"#",className:"flex items-center gap-3 px-4 py-3 text-white/90 no-underline rounded-lg transition-all duration-150 text-sm cursor-pointer hover:bg-white/20",onClick:N=>{N.preventDefault(),w(!0)},title:m?"Logout":void 0,children:[e.jsx(rh,{className:"w-5 h-5 flex-shrink-0",stroke:1.5}),!m&&e.jsx("span",{children:"Logout"})]}),j&&e.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-[9999]",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg max-w-sm w-full",children:[e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx(wi,{className:"w-12 h-12 text-red-600",stroke:1.5})}),e.jsx("h3",{className:"text-xl font-semibold mb-2 text-center",children:"Logout"}),e.jsx("p",{className:"mb-4 text-center",children:"Are you sure you want to log out?"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",onClick:()=>w(!1),children:"Cancel"}),e.jsx("button",{className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",onClick:T,children:"Confirm"})]})]})}),E.show&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[9999]",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg max-w-sm w-full text-center",children:[e.jsx("p",{className:`mb-2 ${E.type==="success"?"text-green-600":"text-red-600"}`,children:E.message}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",onClick:()=>v({show:!1,message:"",type:""}),children:"OK"})]})})]})]}),f&&e.jsx("div",{className:"fixed top-0 left-0 right-0 bottom-0 bg-black/50 z-[1999]",onClick:()=>x(!1)})]})}function Zo({icon:s,total:r,label:n,sublabel:i,sublabelColor:c,iconColor:u}){return e.jsxs("div",{className:"p-6 rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(s,{size:40,color:u}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xl font-bold text-gray-800",children:r}),e.jsx("p",{className:"text-sm text-gray-500",children:n})]})]}),e.jsx("p",{className:`mt-3 text-sm ${c}`,children:i})]})}function li({icon:s,title:r,description:n,action:i,color:c,bgColor:u}){return e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:i,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`p-3 rounded-lg ${u}`,children:e.jsx(s,{className:`w-6 h-6 ${c}`})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:r}),e.jsx("p",{className:"text-sm text-gray-600",children:n})]})]})})}function xk(){return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-10",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(li,{icon:xi,title:"Student Management",description:"View and manage all student accounts",action:()=>window.location.href="/admin/students",color:"text-blue-600",bgColor:"bg-blue-100"}),e.jsx(li,{icon:hw,title:"Instructor Management",description:"Manage instructor accounts and invitations",action:()=>window.location.href="/admin/instructors",color:"text-green-600",bgColor:"bg-green-100"}),e.jsx(li,{icon:Ft,title:"Add Semester",description:"Create and manage academic semesters",action:()=>window.location.href="/admin/semestral-period",color:"text-purple-600",bgColor:"bg-purple-100"}),e.jsx(li,{icon:Ct,title:"Add Subjects",description:"Create and manage course subjects",action:()=>window.location.href="/admin/subjects",color:"text-orange-600",bgColor:"bg-orange-100"}),e.jsx(li,{icon:Ct,title:"Add Sections",description:"Create and manage course sections",action:()=>window.location.href="/admin/subjects",color:"text-orange-600",bgColor:"bg-orange-100"})]})]})}function Ap({title:s,activities:r,emptyMessage:n}){return e.jsxs("div",{className:"p-6 rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsx("h4",{className:"font-outfit text-gray-800 font-semibold mb-4",children:s}),e.jsx("div",{className:"space-y-3",children:r.length>0?r.map((i,c)=>e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-800",children:i.fullName}),e.jsx("p",{className:"text-xs text-gray-500",children:i.email})]}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${i.status==="Active"||i.status==="approved"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:i.status})]},c)):e.jsx("p",{className:"text-sm text-gray-500",children:n})})]})}function gk(){return e.jsx("h2",{className:"mb-6 mt-4 font-outfit text-[#1E3A5F] text-2xl sm:text-3xl font-bold",children:"Admin Dashboard"})}function pk(){return e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}function bk({message:s}){return e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-md mb-6",children:e.jsx("p",{className:"text-red-600",children:s})})}function yk(){const[s,r]=g.useState({students:{total:0,approved:0},instructors:{total:0,active:0,invited:0},subjects:{total:0},semesters:{total:0}}),[n,i]=g.useState({students:[],instructors:[]}),[c,u]=g.useState(!0),[m,f]=g.useState("");return g.useEffect(()=>{async function x(){try{const p=await ge("http://localhost:5000/api/admin/dashboard/stats");if(p.ok){const b=await p.json();b.success?(r(b.stats),i(b.recentActivities)):f(b.message||"Failed to fetch dashboard stats")}else{const b=await p.json();f(b.message||"Failed to fetch dashboard stats")}}catch(p){f("Error fetching dashboard stats"),console.error(p)}finally{u(!1)}}x()},[]),e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(Ss,{}),e.jsxs("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-20 mt-10",children:[e.jsx(gk,{}),c?e.jsx(pk,{}):m?e.jsx(bk,{message:m}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(Zo,{icon:ns,total:s.students.total,label:"Total Students",sublabel:"Approved Students",sublabelColor:"text-blue-600",iconColor:"#3b82f6"}),e.jsx(Zo,{icon:$s,total:s.instructors.total,label:"Total Instructors",sublabel:"Instructor Accounts",sublabelColor:"text-green-600",iconColor:"#10b981"}),e.jsx(Zo,{icon:Ft,total:s.semesters?.total||0,label:"Total Semesters",sublabel:"Academic semesters",sublabelColor:"text-orange-600",iconColor:"#f59e0b"}),e.jsx(Zo,{icon:Ct,total:s.subjects?.total||0,label:"Total Subjects",sublabel:"Course subjects",sublabelColor:"text-purple-600",iconColor:"#8b5cf6"})]}),e.jsx(xk,{}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsx(Ap,{title:"Recent Students",activities:n.students,emptyMessage:"No recent student registrations"}),e.jsx(Ap,{title:"Recent Instructors",activities:n.instructors,emptyMessage:"No recent instructor activities"})]})]})]})]})}function jk({alert:s,onClose:r}){return s.show?e.jsxs("div",{className:`p-4 mb-6 rounded-md border flex items-center justify-between ${s.type==="success"?"bg-green-50 border-green-200 text-green-800":s.type==="error"?"bg-red-50 border-red-200 text-red-800":"bg-blue-50 border-blue-200 text-blue-800"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[s.type==="success"?e.jsx(qt,{size:16}):e.jsx(et,{size:16}),e.jsx("span",{children:s.message})]}),e.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:e.jsx(et,{size:16})})]}):null}function vk(){return e.jsx("div",{className:"flex justify-between items-center mb-8",children:e.jsx("h1",{className:"text-2xl font-bold font-outfit text-gray-800",children:"Admin Profile"})})}function Nk(){return e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(Ss,{}),e.jsx("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 flex justify-center items-center ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-20",children:e.jsx("p",{className:"text-gray-600",children:"Loading profile..."})})]})}const wk="/assets/adminprofile-COEbUbjL.png";function Sk({profile:s,getStatusColor:r}){return e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"p-6 rounded-lg border border-gray-200 bg-white shadow-sm h-full",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"w-30 h-30 rounded-full bg-buksu-primary flex items-center justify-center overflow-hidden",children:e.jsx("img",{src:wk,alt:"Admin Profile",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl font-semibold font-outfit text-gray-800",children:s?.fullName}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:s?.email}),e.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium mt-3 ${r(s?.status)==="green"?"bg-green-100 text-green-800":r(s?.status)==="red"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:s?.status})]})]})})})}function Ck({profile:s}){return e.jsxs("div",{className:"p-6 rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 font-outfit text-gray-700",children:"Personal Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx($s,{size:20,className:"text-gray-500 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"First Name"}),e.jsx("p",{className:"font-medium text-gray-800",children:s?.firstName})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx($s,{size:20,className:"text-gray-500 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Last Name"}),e.jsx("p",{className:"font-medium text-gray-800",children:s?.lastName})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(nh,{size:20,className:"text-gray-500 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Email Address"}),e.jsx("p",{className:"font-medium text-gray-800",children:s?.email})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Qr,{size:20,className:"text-gray-500 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Role"}),e.jsx("p",{className:"font-medium text-gray-800",children:s?.role})]})]})]})]})}function kk({profile:s,formatDate:r}){return e.jsxs("div",{className:"p-6 rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 font-outfit text-gray-700",children:"Account Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ft,{size:20,className:"text-gray-500 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Account Created"}),e.jsx("p",{className:"font-medium text-gray-800",children:r(s?.createdAt)})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(qa,{size:20,className:"text-gray-500 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Last Login"}),e.jsx("p",{className:"font-medium text-gray-800",children:r(s?.lastLogin)})]})]})]})]})}function Ek({show:s,passwordForm:r,passwordLoading:n,onClose:i,onSubmit:c,onChange:u}){return s?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Change Password"}),e.jsx("form",{onSubmit:c,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),e.jsx("input",{type:"password",placeholder:"Enter current password",value:r.currentPassword,onChange:m=>u({...r,currentPassword:m.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),e.jsx("input",{type:"password",placeholder:"Enter new password",value:r.newPassword,onChange:m=>u({...r,newPassword:m.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),e.jsx("input",{type:"password",placeholder:"Confirm new password",value:r.confirmPassword,onChange:m=>u({...r,confirmPassword:m.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Password must be at least 8 characters long"}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-md font-medium transition-colors",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-buksu-primary hover:bg-buksu-secondary disabled:bg-blue-400 text-white rounded-md font-medium transition-colors disabled:cursor-not-allowed flex items-center gap-2",children:[n&&e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border border-white border-t-transparent"}),"Change Password"]})]})]})})]})}):null}function Tk(){const[s,r]=g.useState(null),[n,i]=g.useState(!0),[c,u]=g.useState(!1),[m,f]=g.useState({show:!1,type:"",message:""}),[x,p]=g.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[b,j]=g.useState(!1),w=async()=>{try{if(!ma.isLoggedIn()){E("error","You are not logged in. Please login first."),window.location.href="/admin/login";return}const k=await ma.getProfile();r(k)}catch(k){console.error("Error fetching profile:",k),E("error",k.message||"Failed to fetch profile"),(k.message?.includes("token")||k.message?.includes("access"))&&setTimeout(()=>{window.location.href="/admin/login"},2e3)}finally{i(!1)}};g.useEffect(()=>{w()},[]);const E=(k,N)=>{f({show:!0,type:k,message:N}),setTimeout(()=>f({show:!1,type:"",message:""}),5e3)},v=async k=>{if(k.preventDefault(),x.newPassword!==x.confirmPassword){E("error","New passwords do not match");return}if(x.newPassword.length<8){E("error","Password must be at least 8 characters long");return}j(!0);try{await ma.changePassword(x.currentPassword,x.newPassword),E("success","Password changed successfully"),u(!1),p({currentPassword:"",newPassword:"",confirmPassword:""})}catch(N){console.error("Error changing password:",N),E("error",N.message||"Failed to change password")}finally{j(!1)}},T=k=>k?new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",C=k=>{switch(k){case"Active":return"green";case"Inactive":return"red";default:return"gray"}};return n?e.jsx(Nk,{}):e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(Ss,{}),e.jsxs("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-20 mt-10",children:[e.jsx(jk,{alert:m,onClose:()=>f({show:!1,type:"",message:""})}),e.jsx(vk,{}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(Sk,{profile:s,getStatusColor:C}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx(Ck,{profile:s}),e.jsx(kk,{profile:s,formatDate:T})]})]}),e.jsx(Ek,{show:c,passwordForm:x,passwordLoading:b,onClose:()=>{u(!1),p({currentPassword:"",newPassword:"",confirmPassword:""})},onSubmit:v,onChange:p})]})]})}const Wt=({currentPage:s,totalPages:r,totalItems:n,itemsPerPage:i,onPageChange:c,onItemsPerPageChange:u,rowsPerPageOptions:m=[5,10,25,50]})=>{const f=(s-1)*i+1,x=Math.min(s*i,n),p=()=>{const b=[];let w=Math.max(1,s-Math.floor(2.5)),E=Math.min(r,w+5-1);E-w+1<5&&(w=Math.max(1,E-5+1)),w>1&&(b.push(e.jsx("button",{onClick:()=>c(1),className:`px-3 py-2 text-sm font-medium rounded-md cursor-pointer ${s===1?"bg-blue-500 text-white":"text-gray-700 hover:bg-gray-100"}`,children:"1"},1)),w>2&&b.push(e.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."},"ellipsis1")));for(let v=w;v<=E;v++)b.push(e.jsx("button",{onClick:()=>c(v),className:`px-3 py-2 text-sm font-medium rounded-md cursor-pointer ${s===v?"bg-blue-500 text-white":"text-gray-700 hover:bg-gray-100"}`,children:v},v));return E<r&&(E<r-1&&b.push(e.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."},"ellipsis2")),b.push(e.jsx("button",{onClick:()=>c(r),className:`px-3 py-2 text-sm font-medium rounded-md cursor-pointer ${s===r?"bg-blue-500 text-white":"text-gray-700 hover:bg-gray-100"}`,children:r},r))),b};return r<=1?null:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 px-4 sm:px-6 py-4 bg-white border-t border-gray-200 mt-4",children:[e.jsxs("div",{className:"flex items-center justify-center sm:justify-start space-x-2 order-2 sm:order-1",children:[e.jsx("span",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Rows per page"}),e.jsx("select",{value:i,onChange:b=>u(Number(b.target.value)),className:"border border-gray-300 rounded-md px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer",children:m.map(b=>e.jsx("option",{value:b,children:b},b))})]}),e.jsxs("div",{className:"text-sm text-gray-700 text-center order-1 sm:order-2",children:["Showing ",f," to ",x," of ",n," results"]}),e.jsxs("div",{className:"flex items-center justify-center space-x-1 order-3",children:[e.jsx("button",{onClick:()=>c(1),disabled:s===1,className:"p-2 text-gray-400 hover:text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer hidden sm:block",title:"First page",children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M15.707 15.707a1 1 0 01-1.414 0l-5-5a1 1 0 010-1.414l5-5a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 010 1.414zm-6 0a1 1 0 01-1.414 0l-5-5a1 1 0 010-1.414l5-5a1 1 0 011.414 1.414L5.414 10l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})})}),e.jsx("button",{onClick:()=>c(s-1),disabled:s===1,className:"p-2 text-gray-400 hover:text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",title:"Previous page",children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsx("div",{className:"flex space-x-1 max-w-[200px] sm:max-w-none overflow-x-auto",children:p()}),e.jsx("button",{onClick:()=>c(s+1),disabled:s===r,className:"p-2 text-gray-400 hover:text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",title:"Next page",children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}),e.jsx("button",{onClick:()=>c(r),disabled:s===r,className:"p-2 text-gray-400 hover:text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer hidden sm:block",title:"Last page",children:e.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{fillRule:"evenodd",d:"M10.293 15.707a1 1 0 010-1.414L14.586 10l-4.293-4.293a1 1 0 111.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z",clipRule:"evenodd"}),e.jsx("path",{fillRule:"evenodd",d:"M4.293 15.707a1 1 0 010-1.414L8.586 10 4.293 5.707a1 1 0 011.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z",clipRule:"evenodd"})]})})]})]})};function _k(){return e.jsx("h1",{className:"pt-10 text-2xl sm:text-3xl font-bold text-[#1E3A5F] mb-6 sm:mb-8 font-outfit max-[880px]:mt-10",children:"Instructor Management"})}function Ak(){return e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}function Mk({searchTerm:s,onSearchChange:r,onInviteClick:n}){return e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4",children:[e.jsx("input",{type:"text",placeholder:"Search instructors...",value:s,onChange:i=>r(i.target.value),className:"w-full sm:max-w-sm md:max-w-md px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{onClick:n,className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-md font-medium transition text-sm w-full sm:w-auto",children:"Invite Instructor"})]})}function Dk({searchTerm:s}){return e.jsx("p",{className:"text-gray-500 text-center py-8 text-sm sm:text-base",children:s?`No instructors found matching "${s}"`:"No instructors found."})}function Ok({instructors:s,onArchive:r}){return e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ID"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"College"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Department"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:s.map((n,i)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-xs md:text-sm truncate max-w-[80px]",children:n.instructorid||n._id||n.id||"N/A"}),e.jsx("td",{className:"px-4 py-3 text-xs md:text-sm",children:n.fullName||n.name||"N/A"}),e.jsx("td",{className:"px-4 py-3 text-xs md:text-sm text-blue-600 truncate",children:n.email||"N/A"}),e.jsx("td",{className:"px-4 py-3 text-xs md:text-sm",children:n.college||"N/A"}),e.jsx("td",{className:"px-4 py-3 text-xs md:text-sm",children:n.department||"N/A"}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:()=>r(n._id||n.id),className:"inline-flex items-center px-3 py-1 bg-red-500 text-white rounded text-xs hover:bg-red-600",children:[e.jsx(ft,{className:"w-3 h-3 mr-1"}),"Archive"]})})})]},`${n.instructorid||n._id||n.id}-${i}`))})]})})}function Rk({instructors:s,onArchive:r}){return e.jsx("div",{className:"md:hidden space-y-4",children:s.map((n,i)=>e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:n.fullName||n.name||"N/A"}),e.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"ID:"})," ",n.instructorid||n._id||n.id||"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",e.jsx("span",{className:"text-blue-600",children:n.email||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"College:"})," ",n.college||"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Department:"})," ",n.department||"N/A"]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:()=>r(n._id||n.id),className:"inline-flex items-center px-3 py-2 bg-red-500 text-white rounded text-xs hover:bg-red-600 transition",children:[e.jsx(ft,{className:"w-3 h-3 mr-1"}),"Archive"]})})]})},`${n.instructorid||n._id||n.id}-${i}`))})}const Lk={"College of Arts and Science":{undergraduate:["Economics Department","English Language Department","Philosophy Department","Philosophy (Teaching Track) Department","Sociology Department","Biotechnology / Biology Department","Community Development Department","Development Communication Department","Environmental Science Department","Mathematics Department"],postgraduate:["Graduate Studies - English Department","Graduate Studies - Guidance and Counseling","Graduate Studies - Sociology Department"]},"College of Business":{undergraduate:["Accountancy Department","Business Administration Department","Hospitality Management Department"],postgraduate:["Graduate School of Business / MBA Program"]},"College of Education":{undergraduate:["Early Childhood Education Department","Elementary Education Department","Physical Education Department","Secondary Education - English Department","Secondary Education - Filipino Department","Secondary Education - Mathematics Department","Secondary Education - Science Department","Secondary Education - Social Studies Department"],postgraduate:["Graduate Studies - Educational Administration","Graduate Studies - Instructional Systems Design","Graduate Studies - Science Education (Biology)","Graduate Studies - Science Education (Mathematics)","Graduate Studies - English Language Teaching","Graduate Studies - General Science","Graduate Studies - Mathematics Education"]},"College of Nursing":{undergraduate:["Nursing Department"],postgraduate:[]},"College of Law":{undergraduate:[],postgraduate:["Law Department / Juris Doctor Program"]},"College of Technology":{undergraduate:["Automotive Technology Department","Electronics Technology Department","Entertainment & Multimedia / Digital Animation Department","Food Technology Department","Information Technology Department"],postgraduate:[]},"College of Public Administration":{undergraduate:["Public Administration Department"],postgraduate:["Public Administration - Doctoral Program","Public Administration - Master's Program"]}},Uk=s=>{const r=Lk[s];return r?[...r.undergraduate,...r.postgraduate].map(i=>({value:i,label:i})):[]};function zk({show:s,inviteData:r,onClose:n,onSubmit:i,onChange:c,colleges:u}){const[m,f]=g.useState([]);return g.useEffect(()=>{if(r.college){const x=Uk(r.college);f(x),r.department&&c({...r,department:""})}else f([])},[r.college]),s?e.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 sm:p-8 w-full max-w-md mx-4 shadow-lg",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Invite Instructor"}),e.jsx("form",{onSubmit:i,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"ID"}),e.jsx("input",{type:"text",placeholder:"",value:r.instructorid,onChange:x=>c({...r,instructorid:x.target.value}),required:!0,className:"w-full px-3 py-2 border rounded-md text-sm bg-white border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),e.jsx("input",{type:"email",placeholder:"instructor@buksu.edu.ph",value:r.email,onChange:x=>c({...r,email:x.target.value}),required:!0,className:"w-full px-3 py-2 border rounded-md text-sm bg-white border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Full Name"}),e.jsx("input",{type:"text",placeholder:"John Doe",value:r.fullName,onChange:x=>c({...r,fullName:x.target.value}),required:!0,className:"w-full px-3 py-2 border rounded-md text-sm bg-white border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"College"}),e.jsxs("select",{value:r.college,onChange:x=>c({...r,college:x.target.value}),required:!0,className:"w-full px-3 py-2 border rounded-md text-sm bg-white border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer",children:[e.jsx("option",{value:"",children:"Select college"}),u.map(x=>e.jsx("option",{value:x,children:x},x))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Department"}),r.college&&m.length>0?e.jsxs("select",{value:r.department,onChange:x=>c({...r,department:x.target.value}),required:!0,className:"w-full px-3 py-2 border rounded-md text-sm bg-white border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer",children:[e.jsx("option",{value:"",children:"Select department"}),m.map(x=>e.jsx("option",{value:x.value,children:x.label},x.value))]}):e.jsx("input",{type:"text",placeholder:r.college?"No departments available":"Select a college first",value:r.department,onChange:x=>c({...r,department:x.target.value}),required:!0,readOnly:!r.college,className:"w-full px-3 py-2 border rounded-md text-sm bg-white border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-md font-medium cursor-pointer",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-md font-medium cursor-pointer",children:"Send Invitation"})]})]})})]})}):null}function Pk(){const[s,r]=g.useState([]),[n,i]=g.useState([]),[c,u]=g.useState(!0),[m,f]=g.useState(""),[x,p]=g.useState(!1),[b,j]=g.useState(1),[w,E]=g.useState(10),v=Ys(),{showError:T,showSuccess:C,showConfirmDialog:k,hideConfirmDialog:N}=v,[M,A]=g.useState({instructorid:"",email:"",fullName:"",college:"",department:""}),D=["College of Technology","College of Education","College of Business","College of Arts and Science","College of Public Administration","College of Nursing","College of Law"],Y=async()=>{try{u(!0);const J=await ge("http://localhost:5000/api/admin/instructors");if(J.ok){const O=(await J.json()).instructors||[];r(O),i(O)}else{const $=await J.json();T($.message||"Failed to fetch instructors")}}catch(J){T("There was an error processing your request."),console.error("Error fetching instructors:",J)}finally{u(!1)}};g.useEffect(()=>{Y()},[]),g.useEffect(()=>{const J=s.filter($=>$.fullName?.toLowerCase().includes(m.toLowerCase())||$.email?.toLowerCase().includes(m.toLowerCase())||$.instructorid?.includes(m)||$._id?.includes(m)||$.college?.toLowerCase().includes(m.toLowerCase())||$.department?.toLowerCase().includes(m.toLowerCase()));i(J),j(1)},[m,s]);const Q=Math.ceil(n.length/w),q=(b-1)*w,ne=n.slice(q,q+w),re=J=>j(J),B=J=>{E(J),j(1)},ae=async J=>{if(J.preventDefault(),!M.instructorid||!M.email||!M.fullName||!M.college||!M.department){T("All fields are required.");return}if(!M.email.endsWith("@gmail.com")){T("Email must be a valid @buksu.edu.ph domain.");return}try{u(!0);const $=await ge("http://localhost:5000/api/admin/instructors/invite",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(M)});if($.ok)C("Instructor invitation sent successfully!"),p(!1),A({instructorid:"",email:"",fullName:"",college:"",department:""}),await Y();else{const O=await $.json();T(O.message||"Failed to send invitation.")}}catch{T("Network error occurred while sending invitation.")}finally{u(!1)}},ce=async J=>{if(!J){T("Invalid instructor ID");return}const $=s.find(U=>(U._id||U.id)===J),O=$?.fullName||$?.name||"this instructor";k("Archive Instructor",`Are you sure you want to archive "${O}"? They will be hidden from normal operations but can be restored later.`,async()=>{try{u(!0);const U=await ge(`http://localhost:5000/api/admin/instructors/${J}/archive`,{method:"PUT"});if(U.ok)r(I=>I.filter(le=>(le._id||le.id)!==J)),i(I=>I.filter(le=>(le._id||le.id)!==J)),N(),setTimeout(()=>{C("Instructor archived successfully!")},100);else{const I=await U.json().catch(()=>({}));N(),setTimeout(()=>{T(I.message||"Failed to archive instructor")},100)}}catch(U){N(),setTimeout(()=>{T("There was an error processing your request.")},100),console.error("Archive instructor error:",U)}finally{u(!1)}})};return e.jsx(Bs,{notifications:v,children:e.jsxs("div",{className:"flex min-h-screen bg-[#E8EDF2]",children:[e.jsx(Ss,{}),e.jsx("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-20",children:e.jsxs("div",{className:"max-w-full mx-auto",children:[e.jsx(_k,{}),c?e.jsx(Ak,{}):e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6 border-2 border-gray-200",children:[e.jsx(Mk,{searchTerm:m,onSearchChange:f,onInviteClick:()=>p(!0)}),ne.length===0?e.jsx(Dk,{searchTerm:m}):e.jsxs(e.Fragment,{children:[e.jsx(Ok,{instructors:ne,onArchive:ce}),e.jsx(Rk,{instructors:ne,onArchive:ce}),e.jsx(Wt,{currentPage:b,totalPages:Q,totalItems:n.length,itemsPerPage:w,onPageChange:re,onItemsPerPageChange:B,rowsPerPageOptions:[5,10,25,50]})]})]})]})}),e.jsx(zk,{show:x,inviteData:M,onClose:()=>{p(!1),A({instructorid:"",email:"",fullName:"",college:"",department:""})},onSubmit:ae,onChange:A,colleges:D})]})})}function $k(){return e.jsx("h1",{className:"xs:mt-6 sm:mt-10 text-xl xs:text-2xl sm:text-3xl font-bold text-[#1E3A5F] mb-4 xs:mb-6 sm:mb-8 font-outfit max-[880px]:mt-6 xs:max-[880px]:mt-10",children:"Student Management"})}function Yk(){return e.jsx("div",{className:"flex justify-center py-6 xs:py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 xs:h-8 xs:w-8 border-b-2 border-blue-600"})})}function Bk({searchTerm:s,onSearchChange:r}){return e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center mb-4 xs:mb-6 gap-3 xs:gap-4",children:e.jsx("input",{type:"text",placeholder:"Search students...",value:s,onChange:n=>r(n.target.value),className:"w-full sm:max-w-sm md:max-w-md px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm xs:text-sm"})})}function Hk({searchTerm:s}){return e.jsx("p",{className:"text-gray-500 text-center py-6 xs:py-8 text-xs xs:text-sm sm:text-base px-4",children:s?`No students found matching "${s}"`:"No students found."})}function qk({students:s,onArchive:r}){return e.jsx("div",{className:"hidden xl:block overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ID"}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"College"}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Course"}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Year Level"}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:s.map(n=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 py-3 text-sm",children:n.studid}),e.jsx("td",{className:"px-3 py-3 text-sm font-medium",children:n.fullName}),e.jsx("td",{className:"px-3 py-3 text-sm text-blue-600 break-all",children:n.email}),e.jsx("td",{className:"px-3 py-3 text-sm",children:n.college}),e.jsx("td",{className:"px-3 py-3 text-sm",children:n.course}),e.jsx("td",{className:"px-3 py-3 text-sm",children:n.yearLevel}),e.jsx("td",{className:"px-3 py-3 text-sm",children:e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:n.status})}),e.jsx("td",{className:"px-3 py-3",children:e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:()=>r(n._id),className:"inline-flex items-center px-3 py-1 bg-red-500 text-white rounded text-xs hover:bg-red-600 transition-colors",children:[e.jsx(ft,{className:"w-3 h-3 mr-1"}),"Archive"]})})})]},n._id))})]})})}function Gk({students:s,onArchive:r}){return e.jsx("div",{className:"hidden md:block xl:hidden overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Student"}),e.jsx("th",{className:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Course Info"}),e.jsx("th",{className:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:s.map(n=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-2 py-3",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium text-gray-900",children:n.fullName}),e.jsx("div",{className:"text-xs text-gray-500",children:n.studid}),e.jsx("div",{className:"text-xs text-blue-600 break-all",children:n.email})]})}),e.jsx("td",{className:"px-2 py-3",children:e.jsxs("div",{className:"text-xs text-gray-600",children:[e.jsx("div",{children:e.jsx("span",{className:"font-medium",children:n.college})}),e.jsx("div",{children:n.course}),e.jsxs("div",{children:["Year ",n.yearLevel]})]})}),e.jsx("td",{className:"px-2 py-3",children:e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:n.status})}),e.jsx("td",{className:"px-2 py-3",children:e.jsx("div",{className:"flex gap-1",children:e.jsxs("button",{onClick:()=>r(n._id),className:"inline-flex items-center px-2 py-1 bg-red-500 text-white rounded text-xs hover:bg-red-600 transition-colors",children:[e.jsx(ft,{className:"w-3 h-3 mr-1"}),"Archive"]})})})]},n._id))})]})})}function Ik({students:s,onArchive:r}){return e.jsx("div",{className:"md:hidden space-y-3",children:s.map(n=>e.jsx("div",{className:"bg-gray-50 rounded-lg p-3 xs:p-4 border border-gray-200",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex flex-col xs:flex-row xs:justify-between xs:items-start gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm xs:text-base",children:n.fullName}),e.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",n.studid]})]}),e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs w-fit",children:n.status})]}),e.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[e.jsxs("div",{className:"break-all",children:[e.jsx("span",{className:"font-medium",children:"Email:"}),e.jsx("span",{className:"text-blue-600 ml-1",children:n.email})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"College:"})," ",n.college]}),e.jsxs("div",{className:"flex flex-col xs:flex-row xs:gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Course:"})," ",n.course]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Year:"})," ",n.yearLevel]})]})]}),e.jsx("div",{className:"flex justify-end gap-2 pt-2 border-t border-gray-200",children:e.jsxs("button",{onClick:()=>r(n._id),className:"inline-flex items-center px-3 py-2 bg-red-500 text-white rounded text-xs font-medium hover:bg-red-600 transition-colors",children:[e.jsx(ft,{className:"w-3 h-3 mr-1"}),"Archive"]})})]})},n._id))})}function Fk(){const[s,r]=g.useState([]),[n,i]=g.useState([]),[c,u]=g.useState(!0),[m,f]=g.useState(""),[x,p]=g.useState(1),[b,j]=g.useState(10),w=Ys(),{showError:E,showSuccess:v,showConfirmDialog:T}=w;g.useEffect(()=>{(async()=>{try{u(!0);const q=await ge("http://localhost:5000/api/admin/students?status=Approved");if(q.ok){const ne=await q.json();r(ne.students||[]),i(ne.students||[])}else E("Failed to fetch students")}catch{E("There was an error processing your request.")}finally{u(!1)}})()},[]),g.useEffect(()=>{const Q=s.filter(q=>q.fullName?.toLowerCase().includes(m.toLowerCase())||q.email?.toLowerCase().includes(m.toLowerCase())||q.studid?.includes(m)||q.college?.toLowerCase().includes(m.toLowerCase())||q.course?.toLowerCase().includes(m.toLowerCase()));i(Q),p(1)},[m,s]);const C=Math.ceil(n.length/b),k=(x-1)*b,N=k+b,M=n.slice(k,N),A=Q=>{p(Q)},D=Q=>{j(Q),p(1)},Y=async Q=>{T("Archive Student","Are you sure you want to archive this student? They will be hidden from normal operations but can be restored later.",async()=>{try{const q=await ge(`http://localhost:5000/api/admin/students/${Q}/archive`,{method:"PUT"});if(q.ok)r(ne=>ne.filter(re=>re._id!==Q)),v("Student archived successfully!");else{const ne=await q.json();E(ne.message||"Failed to archive student")}}catch{E("There was an error processing your request.")}})};return e.jsx(Bs,{notifications:w,children:e.jsxs("div",{className:"flex min-h-screen bg-[#E8EDF2]",children:[e.jsx(Ss,{}),e.jsx("div",{className:"flex-1 p-2 xs:p-4 sm:p-6 lg:p-8 ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-16 xs:max-[880px]:pt-20",children:e.jsxs("div",{className:"max-w-full mx-auto",children:[e.jsx($k,{}),c?e.jsx(Yk,{}):e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-3 xs:p-4 sm:p-6 border-2 border-gray-200 mx-2 xs:mx-0",children:[e.jsx(Bk,{searchTerm:m,onSearchChange:f}),M.length===0?e.jsx(Hk,{searchTerm:m}):e.jsxs(e.Fragment,{children:[e.jsx(qk,{students:M,onArchive:Y}),e.jsx(Gk,{students:M,onArchive:Y}),e.jsx(Ik,{students:M,onArchive:Y}),e.jsx(Wt,{currentPage:x,totalPages:C,totalItems:n.length,itemsPerPage:b,onPageChange:A,onItemsPerPageChange:D,rowsPerPageOptions:[5,10,25,50]})]})]})]})})]})})}function Vk(){return e.jsx("h1",{className:"pt-8 text-xl sm:text-2xl md:text-3xl font-bold text-[#1E3A5F] mb-4 sm:mb-6 md:mb-8 font-outfit max-[880px]:mt-8 sm:max-[880px]:mt-10",children:"All Users"})}function Qk(){return e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 sm:h-8 sm:w-8 border-b-2 border-blue-600"})})}function Xk({searchTerm:s,onSearchChange:r,roleFilter:n,onRoleFilterChange:i,totalUsers:c}){return e.jsxs("div",{className:"flex flex-col gap-3 sm:gap-4 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[e.jsx("input",{type:"text",placeholder:"Search users...",value:s,onChange:u=>r(u.target.value),className:"flex-1 min-w-[250px] max-w-[500px] px-3 sm:px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-xs sm:text-sm"}),e.jsxs("select",{value:n,onChange:u=>i(u.target.value),className:"w-full sm:w-auto sm:min-w-[120px] px-3 sm:px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-xs sm:text-sm bg-white cursor-pointer",children:[e.jsx("option",{value:"All",children:"All Roles"}),e.jsx("option",{value:"Student",children:"Students"}),e.jsx("option",{value:"Instructor",children:"Instructors"})]})]}),e.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 text-center sm:text-left",children:["Total: ",c," users"]})]})}function Zk({hasFilters:s}){return e.jsx("p",{className:"text-gray-500 text-center py-6 sm:py-8 text-xs sm:text-sm md:text-base",children:s?"No users found matching your criteria":"No users found."})}function Wk({users:s,onArchive:r,getStatusBadge:n}){return e.jsx("div",{className:"hidden xl:block overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"px-2 lg:px-4 py-2 lg:py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ID"}),e.jsx("th",{className:"px-2 lg:px-4 py-2 lg:py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),e.jsx("th",{className:"px-2 lg:px-4 py-2 lg:py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),e.jsx("th",{className:"px-2 lg:px-4 py-2 lg:py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"College"}),e.jsx("th",{className:"px-2 lg:px-4 py-2 lg:py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Department"}),e.jsx("th",{className:"px-2 lg:px-4 py-2 lg:py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Role"}),e.jsx("th",{className:"px-2 lg:px-4 py-2 lg:py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-2 lg:px-4 py-2 lg:py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:s.map((i,c)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-2 lg:px-4 py-2 lg:py-3 text-xs lg:text-sm font-medium truncate max-w-[80px]",children:i.id}),e.jsx("td",{className:"px-2 lg:px-4 py-2 lg:py-3 text-xs lg:text-sm truncate max-w-[120px]",children:i.name}),e.jsx("td",{className:"px-2 lg:px-4 py-2 lg:py-3 text-xs lg:text-sm text-blue-600 truncate max-w-[150px]",children:i.email}),e.jsx("td",{className:"px-2 lg:px-4 py-2 lg:py-3 text-xs lg:text-sm truncate max-w-[100px]",children:i.college}),e.jsx("td",{className:"px-2 lg:px-4 py-2 lg:py-3 text-xs lg:text-sm truncate max-w-[100px]",children:i.department}),e.jsx("td",{className:"px-2 lg:px-4 py-2 lg:py-3 text-xs lg:text-sm",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i.role==="Student"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:i.role})}),e.jsx("td",{className:"px-2 lg:px-4 py-2 lg:py-3 text-xs lg:text-sm",children:n(i)}),e.jsx("td",{className:"px-2 lg:px-4 py-2 lg:py-3",children:e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:()=>r(i._id||i.id,i.role.toLowerCase()),className:"inline-flex items-center px-3 py-1 bg-red-500 text-white rounded text-xs hover:bg-red-600",children:[e.jsx(ft,{className:"w-3 h-3 mr-1"}),"Archive"]})})})]},`${i.userType}-${i._id}-${c}`))})]})})}function Jk({users:s,onArchive:r,getStatusBadge:n}){return e.jsx("div",{className:"hidden md:block xl:hidden overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"College"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Role"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:s.map((i,c)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-3 py-2 text-sm",children:[e.jsx("div",{className:"font-medium",children:i.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",i.id]})]}),e.jsx("td",{className:"px-3 py-2 text-sm text-blue-600 truncate max-w-[150px]",children:i.email}),e.jsxs("td",{className:"px-3 py-2 text-sm",children:[e.jsx("div",{children:i.college}),e.jsx("div",{className:"text-xs text-gray-500",children:i.department})]}),e.jsx("td",{className:"px-3 py-2 text-sm",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium w-fit ${i.role==="Student"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:i.role}),n(i)]})}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:()=>r(i._id||i.id,i.role.toLowerCase()),className:"inline-flex items-center px-3 py-1 bg-red-500 text-white rounded text-xs hover:bg-red-600",children:[e.jsx(ft,{className:"w-3 h-3 mr-1"}),"Archive"]})})})]},`${i.userType}-${i._id}-${c}`))})]})})}function Kk({users:s,onArchive:r,getStatusBadge:n}){return e.jsx("div",{className:"md:hidden space-y-3",children:s.map((i,c)=>e.jsx("div",{className:"bg-gray-50 rounded-lg p-3 sm:p-4 border border-gray-200",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex flex-col xs:flex-row xs:justify-between xs:items-start gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm truncate",children:i.name}),e.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i.role==="Student"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:i.role}),n(i)]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:()=>r(i._id||i.id,i.role.toLowerCase()),className:"inline-flex items-center px-3 py-1 bg-red-500 text-white rounded text-xs hover:bg-red-600",children:[e.jsx(ft,{className:"w-3 h-3 mr-1"}),"Archive"]})})]}),e.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[e.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"ID:"})," ",i.id]}),e.jsxs("div",{className:"break-all",children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",e.jsx("span",{className:"text-blue-600",children:i.email})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"College:"})," ",i.college]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Dept:"})," ",i.department]})]})]})]})},`${i.userType}-${i._id}-${c}`))})}function eE(){const[s,r]=g.useState([]),[n,i]=g.useState([]),[c,u]=g.useState(!0),[m,f]=g.useState(""),[x,p]=g.useState("All"),[b,j]=g.useState(1),[w,E]=g.useState(10),v=Ys(),{showError:T,showSuccess:C,showConfirmDialog:k,hideConfirmDialog:N}=v,M=g.useCallback(async()=>{try{u(!0);const[ae,ce]=await Promise.all([ge("http://localhost:5000/api/admin/students"),ge("http://localhost:5000/api/admin/instructors")]);let J=[];if(ae.ok){const O=((await ae.json()).students||[]).map(U=>({id:U.studid||U._id,_id:U._id,name:U.fullName,email:U.email,college:U.college,department:U.course,role:"Student",userType:"student",status:U.status,originalData:U}));J=[...J,...O]}if(ce.ok){const O=((await ce.json()).instructors||[]).map(U=>({id:U.instructorid||U._id,_id:U._id,name:U.fullName,email:U.email,college:U.college,department:U.department,role:"Instructor",userType:"instructor",status:U.status,originalData:U}));J=[...J,...O]}r(J),i(J),!ae.ok&&!ce.ok&&T("Failed to fetch users")}catch(ae){T("There was an error processing your request."),console.error("Error fetching users:",ae)}finally{u(!1)}},[]);g.useEffect(()=>{M()},[M]),g.useEffect(()=>{let ae=s;x!=="All"&&(ae=ae.filter(ce=>ce.role===x)),m&&(ae=ae.filter(ce=>ce.name?.toLowerCase().includes(m.toLowerCase())||ce.email?.toLowerCase().includes(m.toLowerCase())||ce.id?.toString().toLowerCase().includes(m.toLowerCase())||ce.college?.toLowerCase().includes(m.toLowerCase())||ce.department?.toLowerCase().includes(m.toLowerCase()))),i(ae)},[m,x,s]),g.useEffect(()=>{j(1)},[m,x]);const A=Math.ceil(n.length/w),D=(b-1)*w,Y=D+w,Q=n.slice(D,Y),q=ae=>j(ae),ne=ae=>{E(ae),j(1)},re=async(ae,ce)=>{if(!ae||!ce){T("Invalid user or missing type");return}const J=ce==="instructor"?`http://localhost:5000/api/admin/instructors/${ae}/archive`:`http://localhost:5000/api/admin/students/${ae}/archive`,$=s.find(U=>(U._id||U.id)===ae),O=$?.fullName||$?.name||"this user";k(`Archive ${ce==="instructor"?"Instructor":"Student"}`,`Are you sure you want to archive "${O}"? They will be hidden from normal operations but can be restored later.`,async()=>{try{u(!0);const U=await ge(J,{method:"PUT"});if(U.ok)r(I=>I.filter(le=>(le._id||le.id)!==ae)),i(I=>I.filter(le=>(le._id||le.id)!==ae)),N(),setTimeout(()=>{C(`${ce} archived successfully!`)},100);else{const I=await U.json().catch(()=>({}));N(),setTimeout(()=>{T(I.message||`Failed to archive ${ce}`)},100)}}catch(U){N(),setTimeout(()=>{T("There was an error processing your request.")},100),console.error(`Archive ${ce} error:`,U)}finally{u(!1)}})},B=ae=>{const ce=ae.status||"Active",J={Active:"bg-green-100 text-green-800",Approved:"bg-green-100 text-green-800",Invited:"bg-yellow-100 text-yellow-800",Pending:"bg-yellow-100 text-yellow-800",Rejected:"bg-red-100 text-red-800"};return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${J[ce]||"bg-gray-100 text-gray-800"}`,children:ce})};return e.jsx(Bs,{notifications:v,children:e.jsxs("div",{className:"flex min-h-screen bg-[#E8EDF2]",children:[e.jsx(Ss,{}),e.jsx("div",{className:"flex-1 p-2 sm:p-4 md:p-6 lg:p-8 ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-16 sm:max-[880px]:pt-20",children:e.jsxs("div",{className:"max-w-full mx-auto",children:[e.jsx(Vk,{}),c?e.jsx(Qk,{}):e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-3 sm:p-4 md:p-6 border-2 border-gray-200",children:[e.jsx(Xk,{searchTerm:m,onSearchChange:f,roleFilter:x,onRoleFilterChange:p,totalUsers:n.length}),Q.length===0?e.jsx(Zk,{hasFilters:m||x!=="All"}):e.jsxs(e.Fragment,{children:[e.jsx(Wk,{users:Q,onArchive:re,getStatusBadge:B}),e.jsx(Jk,{users:Q,onArchive:re,getStatusBadge:B}),e.jsx(Kk,{users:Q,onArchive:re,getStatusBadge:B}),e.jsx(Wt,{currentPage:b,totalPages:A,totalItems:n.length,itemsPerPage:w,onPageChange:q,onItemsPerPageChange:ne,rowsPerPageOptions:[5,10,25,50]})]})]})]})})]})})}const tE={},sE=typeof import.meta<"u"&&tE?.VITE_API_BASE_URL||"http://localhost:5000",Hr=`${sE.replace(/\/$/,"")}/api/locks`,aE=480*1e3,ii={locked:!1,by:null,until:null,isYou:!1},Mp=(s,r)=>`${s}-${r}`,rE=(s,r)=>{const n=g.useRef(s||null),i=g.useRef(r||null),c=g.useRef(s||null),u=g.useRef(r||null);g.useEffect(()=>{s&&(n.current=s,c.current||(c.current=s))},[s]),g.useEffect(()=>{r&&(i.current=r,u.current||(u.current=r))},[r]);const m=g.useCallback((f,x,{preserve:p=!1}={})=>{const b=f??c.current??n.current,j=x??u.current??i.current;return!b||!j?null:(p||(c.current=b,u.current=j),{resourceType:b,resourceId:j})},[]);return{defaultTypeRef:n,defaultIdRef:i,currentTypeRef:c,currentIdRef:u,resolve:m}},zh=(s,r)=>{const[n,i]=g.useState(ii),[c,u]=g.useState(!1),[m,f]=g.useState(null),{resolve:x}=rE(s,r),p=g.useRef(null),b=g.useRef(!1),j=g.useRef(!1),w=g.useCallback(()=>{p.current&&(clearInterval(p.current),p.current=null)},[]),E=g.useCallback(N=>{i(M=>({...M,...N}))},[]),v=g.useCallback((N=!1)=>{!N&&p.current||(w(),p.current=setInterval(async()=>{if(!b.current){w();return}const M=x(null,null,{preserve:!0});if(M)try{(await di(`${Hr}/heartbeat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(M)})).ok||(b.current=!1,w(),E(ii))}catch{}},aE))},[w,x,E]),T=g.useCallback(async(N,M)=>{const A=x(M,N);if(!A)return f("Lock acquisition requires a valid resource target."),!1;u(!0),f(null);try{const D=await di(`${Hr}/acquire`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)}),Y=await D.json().catch(()=>({}));return D.status===200||D.status===201?(b.current=!0,E({locked:!0,by:Y?.lock?.ownerName??Y?.ownerName??Y?.lock?.owner??"You",until:Y?.expiresAt??Y?.lock?.expiresAt??null,isYou:!0}),v(!0),!0):D.status===423?(E({locked:!0,by:Y?.lockedBy??"Another admin",until:Y?.until??null,isYou:!1}),f(Y?.message||"This resource is currently being edited by another admin."),!1):(f(Y?.message||"Failed to acquire lock."),!1)}catch(D){return console.error("Lock acquisition error:",D),f("Network error while acquiring lock."),!1}finally{u(!1)}},[x,v,E]),C=g.useCallback(async(N,M)=>{const A=x(M,N);if(!A)return!1;if(!b.current)return E(ii),!0;w();try{await di(`${Hr}/release`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)})}catch{}return b.current=!1,E(ii),!0},[w,x,E]),k=g.useCallback(async(N,M)=>{const A=x(M,N,{preserve:!0});if(A)try{const Y=await(await di(`${Hr}/${A.resourceId}?resourceType=${A.resourceType}`)).json().catch(()=>({}));Y?.locked?E({locked:!0,by:Y.by,until:Y.until??null,isYou:!!Y.isYou}):E(ii)}catch{}},[x,E]);return g.useEffect(()=>(j.current=!1,()=>{j.current=!0,w(),b.current&&C().catch(()=>{})}),[w,C]),g.useEffect(()=>{const N=()=>{if(!b.current)return;const M=x(null,null,{preserve:!0});if(!M)return;const A=JSON.stringify(M);let D=!1;if(navigator.sendBeacon)try{const Y=new Blob([A],{type:"application/json"});D=navigator.sendBeacon(`${Hr}/release`,Y)}catch{D=!1}if(!D)try{const Y=ma.getAccessToken();if(!Y)return;fetch(`${Hr}/release`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Y}`},body:A,keepalive:!0}).catch(()=>{})}catch{}};return window.addEventListener("beforeunload",N),()=>window.removeEventListener("beforeunload",N)},[x]),{lockStatus:n,acquiring:c,error:m,acquireLock:T,releaseLock:C,checkLockStatus:k,isLocked:n.locked&&!n.isYou,hasLock:n.locked&&n.isYou}},Ph=(s,r=[])=>{const[n,i]=g.useState({}),[c,u]=g.useState(!1),m=g.useCallback(async()=>{if(!s||r.length===0){i({});return}u(!0);try{const p={resources:r.map(w=>({resourceType:s,resourceId:w}))},j=await(await di(`${Hr}/check-batch`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)})).json().catch(()=>({locks:{}}));i(j?.locks||{})}catch(p){console.error("Batch lock check error:",p)}finally{u(!1)}},[s,JSON.stringify(r)]);g.useEffect(()=>{m();const p=setInterval(m,5e3);return()=>clearInterval(p)},[m]);const f=g.useCallback(p=>{const b=Mp(s,p),j=n[b];return!!(j?.locked&&!j?.isYou)},[n,s]),x=g.useCallback(p=>{const b=Mp(s,p);return n[b]?.by||null},[n,s]);return{locks:n,loading:c,isLocked:f,getLockedBy:x,refresh:m}};function nE({onAddClick:s}){return e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"pt-4 sm:pt-6 md:pt-4 lg:pt-6 font-outfit text-[#1E3A5F] text-xl sm:text-2xl lg:text-3xl font-bold",children:"Semester Management"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage academic semesters and terms"})]}),e.jsxs("button",{onClick:s,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(vr,{size:20}),"Add Semester"]})]})}function lE(){return e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}function iE(){return e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx(ns,{className:"mx-auto text-gray-300 mb-4",size:48}),e.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"No semesters found"}),e.jsx("p",{className:"text-gray-500",children:"Get started by adding your first semester"})]})}function oE({semester:s,isLocked:r,lockedBy:n,onEdit:i,onArchive:c}){const u=s._id||s.id,m=r(u);return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(ha,{className:"text-blue-600",size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 text-lg",children:s.schoolYear}),e.jsxs("p",{className:"text-gray-600 text-sm",children:[s.term," Semester"]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[m&&e.jsx("span",{className:"flex gap-1 text-xs font-regular text-red-500 px-2 py-2",title:`Locked by ${n(u)}`,"aria-live":"polite",children:"Locked"}),e.jsx("button",{onClick:()=>i(s),disabled:m,className:`p-2 rounded-lg transition-colors ${m?"text-gray-300 cursor-not-allowed bg-gray-50":"text-gray-400 hover:text-blue-600 hover:bg-blue-50"}`,title:m?`Locked by ${n(u)}`:"Edit semester",children:e.jsx(Nr,{size:16})}),e.jsx("button",{onClick:()=>c(u),disabled:m,className:`p-2 rounded-lg transition-colors ${m?"text-gray-300 cursor-not-allowed bg-gray-50":"text-gray-400 hover:text-red-600 hover:bg-red-50"}`,title:m?`Locked by ${n(u)}`:"Archive semester",children:e.jsx(ft,{size:16})})]})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Created: ",new Date(s.createdAt).toLocaleDateString()]})]})}function cE({id:s,value:r,onChange:n,options:i,placeholder:c="e.g., 2025-2026",required:u}){const[m,f]=g.useState(!1),[x,p]=g.useState(r||""),[b,j]=g.useState(-1);g.useEffect(()=>{(r||"")!==x&&p(r||"")},[r]);const w=i.filter(T=>T.toLowerCase().includes((x||"").toLowerCase())),E=T=>{p(T),n(T),f(!1)},v=T=>{if(!m&&(T.key==="ArrowDown"||T.key==="ArrowUp")){f(!0);return}m&&(T.key==="ArrowDown"?(T.preventDefault(),j(C=>(C+1)%Math.max(w.length,1))):T.key==="ArrowUp"?(T.preventDefault(),j(C=>(C-1+Math.max(w.length,1))%Math.max(w.length,1))):T.key==="Enter"?b>=0&&w[b]?(T.preventDefault(),E(w[b])):E(x):T.key==="Escape"&&f(!1))};return e.jsxs("div",{className:"relative",onBlur:T=>{T.currentTarget.contains(T.relatedTarget)||f(!1)},children:[e.jsxs("div",{className:"flex",children:[e.jsx("input",{id:s,type:"text",value:x,onChange:T=>{const C=T.target.value;p(C),n(C),C.length>=2&&f(!0)},onKeyDown:v,"aria-autocomplete":"list","aria-expanded":m,"aria-controls":`${s}-list`,placeholder:c,autoComplete:"off",autoCorrect:"off",autoCapitalize:"none",className:"w-full px-3 py-2 border border-gray-300 rounded-l-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none",required:u}),e.jsx("button",{type:"button","aria-label":"Toggle suggestions",onMouseDown:T=>T.preventDefault(),onClick:()=>f(T=>!T),className:"px-3 border border-l-0 border-gray-300 rounded-r-lg hover:bg-gray-50 cursor-pointer",children:e.jsx(Vr,{size:18,className:"text-gray-600"})})]}),m&&e.jsx("ul",{id:`${s}-list`,role:"listbox",className:"absolute z-20 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-auto",children:w.length?w.map((T,C)=>e.jsx("li",{role:"option","aria-selected":C===b,children:e.jsx("button",{type:"button",onMouseDown:k=>k.preventDefault(),onClick:()=>E(T),className:`block w-full text-left px-3 py-2 hover:bg-blue-50 cursor-pointer ${C===b?"bg-blue-50":""}`,children:T})},T)):e.jsx("li",{className:"px-3 py-2 text-gray-500",children:"No matches"})})]})}function Dp({formData:s,setFormData:r,onSubmit:n,onCancel:i,submitting:c,isEdit:u=!1,schoolYearOptions:m}){return e.jsxs("form",{onSubmit:n,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:u?"schoolYearEdit":"schoolYearAdd",className:"block text-sm font-medium text-gray-700 mb-2",children:"School Year"}),e.jsx(cE,{id:u?"schoolYearEdit":"schoolYearAdd",value:s.schoolYear,onChange:f=>r({...s,schoolYear:f}),options:m,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:u?"termEdit":"termAdd",className:"block text-sm font-medium text-gray-700 mb-2",children:"Term"}),e.jsxs("select",{id:u?"termEdit":"termAdd",value:s.term,onChange:f=>r({...s,term:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer",required:!0,children:[e.jsx("option",{value:"1st",children:"1st Semester"}),e.jsx("option",{value:"2nd",children:"2nd Semester"}),e.jsx("option",{value:"Summer",children:"Summer"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:i,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:c,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2 cursor-pointer disabled:cursor-not-allowed",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),u?"Updating...":"Adding..."]}):e.jsxs(e.Fragment,{children:[e.jsx(qt,{size:16}),u?"Update Semester":"Add Semester"]})})]})]})}function Op({isOpen:s,onClose:r,title:n,children:i}){return s?e.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:n}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(et,{size:20})})]}),i]})}):null}function dE({isOpen:s,onClose:r,type:n,title:i,message:c}){if(!s)return null;const u=n==="success",m=u?"text-green-500":"text-red-500",f=u?"bg-green-50":"bg-red-50",x=u?"bg-blue-600 hover:bg-blue-700":"bg-red-600 hover:bg-red-700";return e.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`mx-auto flex items-center justify-center h-12 w-12 rounded-full ${f} mb-4`,children:u?e.jsx(ub,{className:m,size:24}):e.jsx(et,{className:m,size:24})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:i}),e.jsx("p",{className:"text-gray-600 mb-6",children:c}),e.jsx("button",{onClick:r,className:`w-full text-white px-4 py-2 rounded-lg transition-colors ${x}`,children:"OK"})]})})})}function uE({isOpen:s,onClose:r,title:n,message:i,onConfirm:c}){return s?e.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-50 mb-4",children:e.jsx(ta,{className:"text-red-500",size:24})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:n}),e.jsx("p",{className:"text-gray-600 mb-6",children:i}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:r,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:c,className:"flex-1 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Confirm"})]})]})})}):null}const mE={},oi=typeof import.meta<"u"&&mE?.VITE_API_BASE_URL||"http://localhost:5000";function hE(){const[s,r]=g.useState([]),[n,i]=g.useState(!0),[c,u]=g.useState(!1),[m,f]=g.useState(!1),[x,p]=g.useState(null),[b,j]=g.useState({schoolYear:"",term:"1st"}),[w,E]=g.useState(!1),[v,T]=g.useState({show:!1,type:"",title:"",message:""}),[C,k]=g.useState({show:!1,title:"",message:"",onConfirm:null}),N=s.map(_=>_._id||_.id),{isLocked:M,getLockedBy:A,refresh:D}=Ph("semester",N),Y=g.useCallback(()=>{D(),setTimeout(()=>D(),5e3)},[D]),Q=zh("semester",x?._id||x?.id),q=Q.acquireLock,ne=Q.releaseLock,re=(_,P,ie)=>T({show:!0,type:_,title:P,message:ie}),B=()=>T({show:!1,type:"",title:"",message:""}),ae=(_,P,ie)=>k({show:!0,title:_,message:P,onConfirm:ie}),ce=()=>k({show:!1,title:"",message:"",onConfirm:null}),J=g.useCallback(async()=>{try{i(!0);try{await ge(`${oi}/api/locks/cleanup`,{method:"POST"}),console.log(" Cleaned up expired locks")}catch(P){console.warn("Failed to cleanup locks:",P)}const _=await ge(`${oi}/api/admin/semesters`);if(_.ok){const P=await _.json();r(P.semesters||[])}else re("error","Error","Failed to fetch semesters")}catch(_){re("error","Error","There was an error processing your request."),console.error(_)}finally{i(!1)}},[]);g.useEffect(()=>{J()},[J]);const $=async _=>{_.preventDefault(),E(!0);try{const P=x?`${oi}/api/admin/semesters/${x._id}`:`${oi}/api/admin/semesters`,L=await ge(P,{method:x?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(L.ok){if(x){const V=x._id||x.id;await ne(V,"semester")}await J(),U(),u(!1),f(!1),Y(),re("success","Success",x?"Semester updated successfully!":"Semester added successfully!")}else{const V=await L.json();re("error","Error",V.message||"Failed to save semester")}}catch(P){re("error","Error","There was an error processing your request."),console.error(P)}finally{E(!1)}},O=async _=>{if(!_){re("error","Error","Invalid semester ID");return}const P=s.find(V=>(V._id||V.id)===_);if(!P){re("error","Error","Semester not found");return}if(!await q(_,"semester")){re("error","Locked","Unable to acquire an edit lock for this semester. Please try again."),Y();return}Y();const L=`${P.schoolYear} - ${P.term} Semester`;ae("Archive Semester",`Are you sure you want to archive "${L}"? This will hide the semester from normal operations but it can be restored later.`,async()=>{try{const V=await ge(`${oi}/api/admin/semesters/${_}/archive`,{method:"PUT"});if(V.ok)r(me=>me.filter(xe=>(xe._id||xe.id)!==_)),re("success","Success",`Semester "${L}" archived successfully!`);else{const me=await V.json().catch(()=>({}));re("error","Error",me.message||"Failed to archive semester.")}}catch(V){console.error("Archive semester error:",V),re("error","Error","There was an error processing your request.")}finally{await ne(_,"semester"),Y()}})},U=()=>{j({schoolYear:"",term:"1st"}),p(null)},I=async _=>{const P=_._id||_.id;if(console.log(` Checking lock status for semester: ${P}`),M(P)){const L=A(P);console.log(` Semester is locked by: ${L}`),re("error","Locked",`This semester is currently being edited by ${L}. Please try again later.`);return}if(console.log(` Attempting to acquire lock for semester: ${P}`),!await q(P,"semester")){console.log(` Failed to acquire lock for semester: ${P}`),Y();return}console.log(` Lock acquired successfully for semester: ${P}`),p(_),j({schoolYear:_.schoolYear,term:_.term}),f(!0)},le=()=>{const _=new Date().getFullYear(),P=[];for(let ie=0;ie<10;ie++){const L=_-2+ie,V=L+1;P.push(`${L}-${V}`)}return P};return e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(Ss,{}),e.jsxs("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-20 mt-10",children:[e.jsx(nE,{onAddClick:()=>{U(),u(!0)}}),n?e.jsx(lE,{}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.map(_=>e.jsx(oE,{semester:_,isLocked:M,lockedBy:A,onEdit:I,onArchive:O},_._id||_.id)),s.length===0&&e.jsx(iE,{})]}),e.jsx(Op,{isOpen:c,onClose:()=>u(!1),title:"Add New Semester",children:e.jsx(Dp,{formData:b,setFormData:j,onSubmit:$,onCancel:()=>u(!1),submitting:w,isEdit:!1,schoolYearOptions:le()})}),e.jsx(Op,{isOpen:m,onClose:async()=>{const _=x?._id||x?.id;_&&(await ne(_,"semester"),Y()),f(!1)},title:"Edit Semester",children:e.jsx(Dp,{formData:b,setFormData:j,onSubmit:$,onCancel:async()=>{const _=x?._id||x?.id;_&&(await ne(_,"semester"),Y()),f(!1)},submitting:w,isEdit:!0,schoolYearOptions:le()})}),e.jsx(dE,{isOpen:v.show,onClose:B,type:v.type,title:v.title,message:v.message}),e.jsx(uE,{isOpen:C.show,onClose:ce,title:C.title,message:C.message,onConfirm:C.onConfirm})]})]})}function fE({onAddClick:s}){return e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 sm:mb-6 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"w-full sm:w-auto",children:[e.jsx("h2",{className:"pt-2 sm:pt-4 md:pt-6 lg:pt-10 font-outfit text-[#1E3A5F] text-xl sm:text-2xl md:text-3xl lg:text-3xl font-bold leading-tight",children:"Subject Management"}),e.jsx("p",{className:"text-gray-600 mt-1 sm:mt-2 text-xs sm:text-sm md:text-base",children:"Manage academic subjects and courses"})]}),e.jsxs("button",{onClick:s,className:"flex items-center justify-center gap-2 bg-blue-600 text-white px-4 sm:px-5 py-2 sm:py-2.5 rounded-lg hover:bg-blue-700 active:bg-blue-800 transition-colors w-full sm:w-auto text-sm sm:text-base shadow-sm hover:shadow-md flex-shrink-0",children:[e.jsx(vr,{size:18,className:"sm:w-5 sm:h-5 flex-shrink-0"}),e.jsx("span",{className:"hidden sm:inline whitespace-nowrap",children:"Add Subject"}),e.jsx("span",{className:"sm:hidden whitespace-nowrap",children:"Add Subject"})]})]})}function xE({searchTerm:s,onSearchChange:r,filterSemester:n,onFilterSemesterChange:i,filterCollege:c,onFilterCollegeChange:u,semesters:m,collegeOptions:f}){return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-3 sm:p-4 md:p-5 mb-4 sm:mb-6 shadow-sm",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"relative order-1",children:[e.jsx(Wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none",size:18}),e.jsx("input",{type:"text",placeholder:"Search subjects...",value:s,onChange:x=>r(x.target.value),autoComplete:"off",className:"w-full pl-10 pr-4 py-2 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none text-sm sm:text-base transition-shadow hover:border-gray-400"})]}),e.jsxs("select",{value:n,onChange:x=>i(x.target.value),className:"px-3 py-2 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none text-sm sm:text-base order-2 transition-shadow hover:border-gray-400 bg-white cursor-pointer",children:[e.jsx("option",{value:"",children:"All Semesters"}),m.map(x=>e.jsxs("option",{value:x._id,children:[x.schoolYear," - ",x.term," Semester"]},x._id))]}),e.jsxs("select",{value:c,onChange:x=>u(x.target.value),className:"px-3 py-2 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none text-sm sm:text-base order-3 sm:col-span-2 lg:col-span-1 transition-shadow hover:border-gray-400 bg-white cursor-pointer",children:[e.jsx("option",{value:"",children:"All Colleges"}),f.map(x=>e.jsx("option",{value:x,children:x},x))]})]})})}function gE(){return e.jsx("div",{className:"flex justify-center items-center py-16 sm:py-20",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 sm:h-12 sm:w-12 border-b-2 border-blue-600"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Loading subjects..."})]})})}function pE({hasFilters:s}){return e.jsxs("div",{className:"text-center py-12 sm:py-16 px-4 sm:px-6",children:[e.jsx(ns,{className:"mx-auto text-gray-300 mb-4",size:48}),e.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-600 mb-2",children:"No subjects found"}),e.jsx("p",{className:"text-gray-500 text-xs sm:text-sm md:text-base max-w-md mx-auto",children:s?"Try adjusting your search or filters":"Get started by adding your first subject"})]})}function bE({subjects:s,isLocked:r,getLockedBy:n,onEdit:i,onArchive:c,getSemesterLabel:u}){return e.jsx("div",{className:"hidden lg:block overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Units"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"College"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Semester"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(m=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg mr-3",children:e.jsx(Ct,{className:"text-blue-600",size:16})}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:m.subjectCode})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-900 font-medium",children:m.subjectName})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[m.units," units"]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-900",children:m.college})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-900",children:m.department})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:u(m.semester)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>i(m),disabled:r(m._id),className:`p-2 rounded-lg transition-colors ${r(m._id)?"text-gray-300 cursor-not-allowed bg-gray-50":"text-gray-400 hover:text-blue-600 hover:bg-blue-50"}`,title:r(m._id)?`Locked by ${n(m._id)}`:"Edit Subject",children:e.jsx(Nr,{size:16})}),e.jsx("button",{onClick:()=>c(m._id),disabled:r(m._id),className:`p-2 rounded-lg transition-colors ${r(m._id)?"text-gray-300 cursor-not-allowed bg-gray-50":"text-gray-400 hover:text-orange-600 hover:bg-orange-50"}`,title:r(m._id)?`Locked by ${n(m._id)}`:"Archive Subject",children:e.jsx(ft,{size:16})}),r(m._id)&&e.jsx("span",{className:"flex gap-1 text-xs font-regular text-red-500 px-2 py-2",title:`Locked by ${n(m._id)}`,"aria-live":"polite",children:"Locked"})]})})]},m._id))})]})})}function yE({subjects:s,isLocked:r,getLockedBy:n,onEdit:i,onArchive:c,getSemesterLabel:u}){return e.jsx("div",{className:"lg:hidden divide-y divide-gray-200",children:s.map(m=>e.jsx("div",{className:"p-4 sm:p-5 md:p-6 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex flex-col space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg mr-2 sm:mr-3 flex-shrink-0",children:e.jsx(Ct,{className:"text-blue-600",size:18})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"text-base sm:text-lg font-semibold text-gray-900 truncate",children:m.subjectCode}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-600 line-clamp-2",children:m.subjectName})]})]}),e.jsxs("div",{className:"flex gap-1 sm:gap-2 flex-shrink-0 items-start",children:[r(m._id)&&e.jsx("span",{className:"flex gap-1 text-[10px] sm:text-xs font-medium text-red-500 px-2 py-1.5 sm:py-2 whitespace-nowrap",title:`Locked by ${n(m._id)}`,"aria-live":"polite",children:"Locked"}),e.jsx("button",{onClick:()=>i(m),disabled:r(m._id),className:`p-2 rounded-lg transition-colors touch-manipulation ${r(m._id)?"text-gray-300 cursor-not-allowed bg-gray-50":"text-gray-400 hover:text-blue-600 hover:bg-blue-50 active:bg-blue-100"}`,title:r(m._id)?`Locked by ${n(m._id)}`:"Edit Subject",children:e.jsx(Nr,{size:18,className:"sm:w-4 sm:h-4"})}),e.jsx("button",{onClick:()=>c(m._id),disabled:r(m._id),className:`p-2 rounded-lg transition-colors touch-manipulation ${r(m._id)?"text-gray-300 cursor-not-allowed bg-gray-50":"text-gray-400 hover:text-orange-600 hover:bg-orange-50 active:bg-orange-100"}`,title:r(m._id)?`Locked by ${n(m._id)}`:"Archive Subject",children:e.jsx(ft,{size:18,className:"sm:w-4 sm:h-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 sm:gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 font-medium text-xs sm:text-sm block",children:"Units:"}),e.jsx("div",{className:"mt-1",children:e.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[m.units," units"]})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("span",{className:"text-gray-500 font-medium text-xs sm:text-sm block",children:"College:"}),e.jsx("div",{className:"mt-1 text-gray-900 text-xs sm:text-sm break-words",children:m.college})]}),e.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[e.jsx("span",{className:"text-gray-500 font-medium text-xs sm:text-sm block",children:"Department:"}),e.jsx("div",{className:"mt-1 text-gray-900 text-xs sm:text-sm break-words",children:m.department})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"text-gray-500 font-medium text-xs sm:text-sm block",children:"Semester:"}),e.jsx("div",{className:"mt-1 text-gray-900 text-xs sm:text-sm break-words",children:u(m.semester)})]})]})]})},m._id))})}const jE={"College of Arts and Science":{undergraduate:["Economics Department","English Language Department","Philosophy Department","Philosophy (Teaching Track) Department","Sociology Department","Biotechnology / Biology Department","Community Development Department","Development Communication Department","Environmental Science Department","Mathematics Department"],postgraduate:["Graduate Studies - English Department","Graduate Studies - Guidance and Counseling","Graduate Studies - Sociology Department"]},"College of Business":{undergraduate:["Accountancy Department","Business Administration Department","Hospitality Management Department"],postgraduate:["Graduate School of Business / MBA Program"]},"College of Education":{undergraduate:["Early Childhood Education Department","Elementary Education Department","Physical Education Department","Secondary Education - English Department","Secondary Education - Filipino Department","Secondary Education - Mathematics Department","Secondary Education - Science Department","Secondary Education - Social Studies Department"],postgraduate:["Graduate Studies - Educational Administration","Graduate Studies - Instructional Systems Design","Graduate Studies - Science Education (Biology)","Graduate Studies - Science Education (Mathematics)","Graduate Studies - English Language Teaching","Graduate Studies - General Science","Graduate Studies - Mathematics Education"]},"College of Nursing":{undergraduate:["Nursing Department"],postgraduate:[]},"College of Law":{undergraduate:[],postgraduate:["Law Department / Juris Doctor Program"]},"College of Technology":{undergraduate:["Automotive Technology Department","Electronics Technology Department","Entertainment & Multimedia / Digital Animation Department","Food Technology Department","Information Technology Department"],postgraduate:[]},"College of Public Administration":{undergraduate:["Public Administration Department"],postgraduate:["Public Administration - Doctoral Program","Public Administration - Master's Program"]}},vE=s=>{const r=jE[s];return r?[...r.undergraduate,...r.postgraduate].map(i=>({value:i,label:i})):[]};function Rp({formData:s,onChange:r,onSubmit:n,onCancel:i,submitting:c,isEdit:u=!1,collegeOptions:m,semesters:f}){const[x,p]=g.useState([]);return g.useEffect(()=>{if(s.college){const b=vE(s.college);p(b)}else p([])},[s.college]),e.jsxs("form",{onSubmit:n,className:"space-y-4 sm:space-y-5",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1.5 sm:mb-2",children:["Subject Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"subjectCode",value:s.subjectCode,onChange:r,autoComplete:"off",className:"w-full px-3 py-2 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none text-sm sm:text-base transition-shadow hover:border-gray-400",placeholder:"e.g. CS101",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1.5 sm:mb-2",children:["Units ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",name:"units",min:"1",max:"6",value:s.units,onChange:r,className:"w-full px-3 py-2 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none text-sm sm:text-base transition-shadow hover:border-gray-400",required:!0})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1.5 sm:mb-2",children:["Subject Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"subjectName",value:s.subjectName,onChange:r,autoComplete:"off",className:"w-full px-3 py-2 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none text-sm sm:text-base transition-shadow hover:border-gray-400",placeholder:"e.g. Introduction to Computer Science",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1.5 sm:mb-2",children:["College ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"college",value:s.college,onChange:r,className:"w-full px-3 py-2 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none text-sm sm:text-base transition-shadow hover:border-gray-400 bg-white cursor-pointer",required:!0,children:[e.jsx("option",{value:"",children:"Select College"}),m.map(b=>e.jsx("option",{value:b,children:b},b))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1.5 sm:mb-2",children:["Department ",e.jsx("span",{className:"text-red-500",children:"*"})]}),s.college&&x.length>0?e.jsxs("select",{name:"department",value:s.department,onChange:r,className:"w-full px-3 py-2 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none text-sm sm:text-base transition-shadow hover:border-gray-400 bg-white cursor-pointer",required:!0,children:[e.jsx("option",{value:"",children:"Select Department"}),x.map(b=>e.jsx("option",{value:b.value,children:b.label},b.value))]}):e.jsx("input",{type:"text",name:"department",value:s.department,onChange:r,autoComplete:"off",placeholder:s.college?"No departments available":"Select a college first",readOnly:!s.college,className:"w-full px-3 py-2 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none text-sm sm:text-base transition-shadow hover:border-gray-400",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1.5 sm:mb-2",children:["Semester ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"semester",value:s.semester,onChange:r,className:"w-full px-3 py-2 sm:py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none text-sm sm:text-base transition-shadow hover:border-gray-400 bg-white cursor-pointer",required:!0,children:[e.jsx("option",{value:"",children:"Select Semester"}),f&&f.length>0?f.map(b=>e.jsxs("option",{value:b._id,children:[b.schoolYear," - ",b.term," Semester"]},b._id)):e.jsx("option",{value:"",disabled:!0,children:"No semesters available"})]}),(!f||f.length===0)&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:"No semesters found. Please add semesters in Semester Management first."})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 pt-3 sm:pt-4 border-t border-gray-200 mt-4 sm:mt-5",children:[e.jsx("button",{type:"button",onClick:i,className:"flex-1 px-4 py-2 sm:py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 active:bg-gray-100 transition-colors text-sm sm:text-base font-medium touch-manipulation cursor-pointer",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:c,className:"flex-1 bg-blue-600 text-white px-4 py-2 sm:py-2.5 rounded-lg hover:bg-blue-700 active:bg-blue-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm sm:text-base font-medium shadow-sm hover:shadow-md touch-manipulation cursor-pointer",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:u?"Updating...":"Adding..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(qt,{size:16,className:"flex-shrink-0"}),e.jsx("span",{children:u?"Update Subject":"Add Subject"})]})})]})]})}function Lp({isOpen:s,onClose:r,title:n,children:i}){return s?e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-white/10 flex items-center justify-center z-50 p-3 sm:p-4 md:p-6",children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-lg w-full max-w-lg mx-auto max-h-[90vh] sm:max-h-[85vh] overflow-y-auto shadow-2xl border border-white/20",children:[e.jsxs("div",{className:"sticky top-0 bg-white/95 backdrop-blur-md flex justify-between items-center p-4 sm:p-5 md:p-6 border-b border-gray-200 z-10",children:[e.jsx("h3",{className:"text-base sm:text-lg md:text-xl font-semibold text-gray-800 pr-2",children:n}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors p-1.5 hover:bg-gray-100 rounded-lg flex-shrink-0 touch-manipulation cursor-pointer","aria-label":"Close modal",children:e.jsx(et,{size:20,className:"sm:w-5 sm:h-5"})})]}),e.jsx("div",{className:"p-4 sm:p-5 md:p-6",children:i})]})}):null}const NE={},gr=typeof import.meta<"u"&&NE?.VITE_API_BASE_URL||"http://localhost:5000";function wE(){const[s,r]=g.useState([]),[n,i]=g.useState([]),[c,u]=g.useState(!0),[m,f]=g.useState(!1),[x,p]=g.useState(!1),[b,j]=g.useState(null),[w,E]=g.useState(""),[v,T]=g.useState(""),[C,k]=g.useState(""),[N,M]=g.useState(1),[A,D]=g.useState(10),[Y,Q]=g.useState({subjectCode:"",subjectName:"",units:"3",college:"",department:"",semester:""}),[q,ne]=g.useState(!1),re=Ys(),{showError:B,showSuccess:ae,showConfirmDialog:ce}=re,J=s.map(he=>he._id),{isLocked:$,getLockedBy:O,refresh:U}=Ph("subject",J),I=g.useCallback(()=>{U(),setTimeout(()=>U(),5e3)},[U]),{acquireLock:le,releaseLock:_}=zh("subject",b?._id),P=["College of Technology","College of Business","College of Education","College of Arts and Science","College of Public Administration","College of Nursing","College of Law"];g.useEffect(()=>{L(),V()},[]),g.useEffect(()=>{console.log(" Semesters state updated:",n),console.log(" Semesters count:",n?.length),n?.length===0?console.log(" No semesters available - Subject form will show empty dropdown"):n?.length>0&&console.log(" Semesters loaded successfully:",n.map(he=>`${he.schoolYear} - ${he.term}`))},[n]),g.useEffect(()=>{console.log(" Subjects state updated:",s),console.log(" Subjects count:",s?.length),console.log(" Loading status:",c),s?.length===0&&!c?console.log(" No subjects in state after loading completed"):s?.length>0&&console.log(" Subjects loaded successfully:",s.map(he=>`${he.subjectCode} - ${he.subjectName}`))},[s,c]);const ie=g.useCallback(()=>{if(!n||n.length===0)return null;const he=new Date,ye=he.getFullYear(),tt=he.getMonth()+1;let gt,mt;tt>=8?(gt=`${ye}-${ye+1}`,mt="1st"):tt>=1&&tt<=5?(gt=`${ye-1}-${ye}`,mt="2nd"):(gt=`${ye-1}-${ye}`,mt="Summer");const Vt=n.find(Es=>Es.schoolYear===gt&&Es.term===mt);return Vt||n.sort((Es,ba)=>{const is=parseInt(Es.schoolYear.split("-")[0]),Tt=parseInt(ba.schoolYear.split("-")[0]);if(is!==Tt)return Tt-is;const os={"1st":1,"2nd":2,Summer:3};return os[ba.term]-os[Es.term]})[0]},[n]),L=g.useCallback(async()=>{try{try{const ye=await ge(`${gr}/api/locks/cleanup`,{method:"POST"});if(ye.ok){const tt=await ye.json();console.log(" Cleaned up expired locks:",tt.message)}}catch(ye){console.error("Cleanup error:",ye)}console.log(" Fetching subjects from:",`${gr}/api/admin/subjects`),console.log(" Authentication check - token exists:",!!localStorage.getItem("token")),u(!0);const he=await ge(`${gr}/api/admin/subjects`);if(console.log(" Fetch subjects response status:",he.status),console.log(" Response headers:",he.headers),he.ok){const ye=await he.json();console.log(" Raw API response:",ye),console.log(" Subjects array:",ye.subjects),console.log(" Subjects fetched:",ye.subjects?.length||0,"items"),ye.subjects?ye.subjects.length===0?(console.log(" No subjects found in database"),r([]),B("No subjects found in the database. Please add some subjects first.")):(console.log(" Setting subjects state with:",ye.subjects.length,"items"),r(ye.subjects)):(console.warn(" No subjects array in response"),r([]),B("No subjects data received from server"))}else if(he.status===401)console.error(" Authentication failed"),B("Session expired. Please log in again.");else if(he.status===403)console.error(" Access forbidden"),B("Access denied. You don't have permission to view subjects.");else if(he.status===500)console.error(" Server error"),B("Server error. Please try again later.");else{const ye=await he.json().catch(()=>({message:"Unknown error"}));console.error(" Failed to fetch subjects:",he.status,ye),B(`Failed to fetch subjects: ${ye.message||"Unknown error"}`)}}catch(he){console.error(" Error fetching subjects:",he),he.name==="TypeError"&&he.message.includes("fetch")?B("Cannot connect to the server. Please ensure the backend is running on http://localhost:5000"):he.message.includes("NetworkError")?B("Network error. Please check your internet connection."):B(`Error fetching subjects: ${he.message}`)}finally{u(!1)}},[B]),V=async()=>{try{console.log(" Fetching semesters from:",`${gr}/api/semesters`);const he=await ge(`${gr}/api/semesters`);if(console.log(" Semesters API response status:",he.status),he.ok){const ye=await he.json();console.log(" Semesters API response data:",ye),i(ye.semesters||[]),console.log(" Semesters set in state:",ye.semesters?.length||0,"items"),(!ye.semesters||ye.semesters.length===0)&&(console.log(" No semesters found in database"),B("No semesters found. Please go to 'Semester Management' and add at least one semester first (e.g., 2024-2025 - 1st Semester)."))}else{console.error(" Failed to fetch semesters:",he.status,he.statusText);const ye=await he.json().catch(()=>({}));console.error(" Error details:",ye),he.status===0||!he.status?B("Cannot connect to server. Please ensure the backend is running."):B(`Failed to fetch semesters: ${ye.message||he.statusText}`)}}catch(he){console.error(" Error fetching semesters:",he),he.name==="TypeError"&&he.message.includes("fetch")?B("Cannot connect to server. Please start the backend server first."):B("Error fetching semesters from server. Check console for details.")}},me=he=>{const{name:ye,value:tt}=he.target;Q(ye==="college"?gt=>({...gt,[ye]:tt,department:""}):gt=>({...gt,[ye]:tt}))},xe=()=>{const he=ie();Q({subjectCode:"",subjectName:"",units:"3",college:"",department:"",semester:he?._id||""}),j(null)},ke=async he=>{const ye=he._id;if($(ye)){const gt=O(ye);B(`This subject is currently being edited by ${gt}. Please try again later.`);return}if(!await le(ye,"subject")){B("Unable to acquire lock for editing. Another admin may have started editing."),I();return}j(he),Q({subjectCode:he?.subjectCode||"",subjectName:he?.subjectName||"",units:String(he?.units??"3"),college:he?.college||"",department:he?.department||"",semester:he?.semester?._id||he?.semester||""}),p(!0)},te=async he=>{he.preventDefault(),ne(!0);try{const ye=b?`${gr}/api/admin/subjects/${b._id}`:`${gr}/api/admin/subjects`,tt=b?"PUT":"POST",gt={...Y,units:parseInt(Y.units,10)};console.log(` ${tt} Request to:`,ye),console.log(" Request data:",gt),console.log(" Selected subject:",b);const mt=await ge(ye,{method:tt,headers:{"Content-Type":"application/json"},body:JSON.stringify(gt)});if(console.log(" Response status:",mt.status),mt.ok){const Vt=await mt.json();console.log(" Response data:",Vt),await L(),b?._id&&await _(b._id,"subject"),xe(),f(!1),p(!1),I(),ae(b?"Subject updated successfully!":"Subject added successfully!")}else{const Vt=await mt.json();console.error(" Error response:",Vt),B(Vt.message||"Failed to save subject")}}catch(ye){console.error(" Submit error:",ye),B("Error saving subject")}finally{ne(!1)}},K=async he=>{if(!he)return;if($(he)){const mt=O(he);B(`This subject is currently being edited by ${mt}. Please try again later.`);return}const ye=s.find(mt=>mt._id===he);if(!ye)return;if(!await le(he,"subject")){B("Unable to acquire lock for archiving. Another admin may have started editing."),I();return}I();const gt=ye.subjectCode||"this subject";ce("Archive Subject",`Are you sure you want to archive "${gt}"? It will be hidden from normal operations but can be restored later.`,async()=>{try{const mt=await ge(`${gr}/api/admin/subjects/${he}/archive`,{method:"PUT"});if(mt.ok)await L(),ae("Subject archived successfully!");else{const Vt=await mt.json();B(Vt.message||"Failed to archive subject")}}catch(mt){console.error(mt),B("Error archiving subject")}finally{await _(he,"subject"),I()}},async()=>{await _(he,"subject"),I()})},ve=he=>{if(!he)return"N/A";if(typeof he=="string"){const ye=n.find(tt=>tt._id===he);return ye?`${ye.schoolYear} - ${ye.term} Semester`:"N/A"}return`${he.schoolYear} - ${he.term} Semester`},se=Gt.useMemo(()=>{if(console.log(" Filtering subjects:",{totalSubjects:s?.length||0,searchTerm:w,filterSemester:v,filterCollege:C}),!s||s.length===0)return console.log(" No subjects to filter"),[];const he=s.filter(ye=>{const tt=(ye?.subjectCode||"").toLowerCase(),gt=(ye?.subjectName||"").toLowerCase(),mt=w.toLowerCase(),Vt=!mt||tt.includes(mt)||gt.includes(mt),Es=ye?.semester?._id||ye?.semester,ba=!v||Es===v,is=!C||ye?.college===C,Tt=Vt&&ba&&is;return Tt||console.log(" Subject filtered out:",{subjectCode:ye.subjectCode,matchesSearch:Vt,matchesSemester:ba,matchesCollege:is,subjSemId:Es,filterSemester:v}),Tt});return console.log(" Filtered subjects result:",{originalCount:s.length,filteredCount:he.length,subjects:he.map(ye=>ye.subjectCode)}),he},[s,w,v,C]);g.useEffect(()=>{M(1)},[w,v,C]);const je=Math.ceil(se.length/A),oe=(N-1)*A,W=oe+A,Ne=se.slice(oe,W);Gt.useEffect(()=>{console.log(" Pagination state:",{filteredCount:se.length,currentPage:N,itemsPerPage:A,totalPages:je,startIndex:oe,endIndex:W,paginatedCount:Ne.length,paginatedSubjects:Ne.map(he=>he.subjectCode)})},[se.length,N,A,je,oe,W,Ne]);const Ce=he=>M(he),Re=he=>{D(he),M(1)};return e.jsx(Bs,{notifications:re,children:e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(Ss,{}),e.jsxs("div",{className:"flex-1 p-3 sm:p-4 md:p-6 lg:p-8 w-full mx-auto ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-20 pt-4 sm:pt-6 md:pt-8 lg:pt-10",children:[e.jsx(fE,{onAddClick:()=>{xe(),f(!0)}}),e.jsx(xE,{searchTerm:w,onSearchChange:E,filterSemester:v,onFilterSemesterChange:T,filterCollege:C,onFilterCollegeChange:k,semesters:n,collegeOptions:P}),c?e.jsx(gE,{}):e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden shadow-sm",children:se.length>0?e.jsxs(e.Fragment,{children:[e.jsx(bE,{subjects:Ne,isLocked:$,getLockedBy:O,onEdit:ke,onArchive:K,getSemesterLabel:ve}),e.jsx(yE,{subjects:Ne,isLocked:$,getLockedBy:O,onEdit:ke,onArchive:K,getSemesterLabel:ve}),e.jsx(Wt,{currentPage:N,totalPages:je,totalItems:se.length,itemsPerPage:A,onPageChange:Ce,onItemsPerPageChange:Re,rowsPerPageOptions:[5,10,25,50]})]}):e.jsx(pE,{hasFilters:!!(w||v||C)})}),e.jsx(Lp,{isOpen:m,onClose:()=>f(!1),title:"Add New Subject",children:e.jsx(Rp,{formData:Y,onChange:me,onSubmit:te,onCancel:()=>f(!1),submitting:q,isEdit:!1,collegeOptions:P,semesters:n,currentSemester:ie()})}),e.jsx(Lp,{isOpen:x,onClose:async()=>{const he=b?._id;he&&await _(he,"subject"),p(!1),I()},title:"Edit Subject",children:e.jsx(Rp,{formData:Y,onChange:me,onSubmit:te,onCancel:async()=>{const he=b?._id;he&&await _(he,"subject"),p(!1),I()},submitting:q,isEdit:!0,collegeOptions:P,semesters:n,currentSemester:ie()})})]})]})})}function vm({isOpen:s,onClose:r,title:n,children:i}){return s?e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-white/10 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto shadow-2xl border border-white/20",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:n}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(et,{size:20})})]}),i]})}):null}function SE({onAddClick:s}){return e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"pt-4 sm:pt-6 md:pt-4 lg:pt-6 font-outfit text-[#1E3A5F] text-xl sm:text-2xl lg:text-3xl font-bold",children:"Section Management"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Create and manage all class sections"})]}),e.jsxs("button",{onClick:s,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(vr,{size:20}),"Add Section"]})]})}function CE({searchTerm:s,onSearchChange:r,filterSemester:n,onSemesterChange:i,filterCollege:c,onCollegeChange:u,semesters:m,collegeOptions:f}){return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-3 sm:p-4 mb-4 sm:mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"relative order-1",children:[e.jsx(Wr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search sections / subjects / instructors...",value:s,onChange:x=>r(x.target.value),autoComplete:"off",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none text-sm sm:text-base"})]}),e.jsxs("select",{value:n,onChange:x=>i(x.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none text-sm sm:text-base order-2 cursor-pointer",children:[e.jsx("option",{value:"",children:"All Semesters"}),m.map(x=>e.jsxs("option",{value:x._id,children:[x.schoolYear," - ",x.term," Semester"]},x._id))]}),e.jsxs("select",{value:c,onChange:x=>u(x.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base order-3 sm:col-span-2 lg:col-span-1 cursor-pointer",children:[e.jsx("option",{value:"",children:"All Colleges"}),f.map(x=>e.jsx("option",{value:x,children:x},x))]})]})})}function kE(){return e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}function EE({section:s,isLocked:r,getLockedBy:n,onEdit:i,onArchive:c,onInviteStudents:u,onViewStudents:m,getSubjectName:f,getInstructorName:x}){const p=s._id||s.id,b=r(p);return e.jsxs("div",{className:"rounded-lg border border-blue-200 bg-blue-50/30 p-6 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100",children:e.jsx(ns,{className:"text-blue-600",size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 text-lg",children:s.sectionName}),e.jsxs("p",{className:"text-gray-600 text-sm",children:[s.schoolYear," - ",s.term," Semester"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[b&&e.jsx("span",{className:"flex items-center gap-1 text-xs font-regular text-red-500 px-2 py-1",title:`Locked by ${n(p)}`,"aria-live":"polite",children:"Locked"}),e.jsx("button",{onClick:()=>i(s),disabled:b,className:`p-2 rounded-lg transition-colors ${b?"text-gray-300 cursor-not-allowed bg-gray-50":"text-gray-400 hover:text-blue-600 hover:bg-blue-50"}`,title:b?`Locked by ${n(p)}`:"Edit Section",children:e.jsx(Nr,{size:16})}),e.jsx("button",{onClick:()=>c(p),disabled:b,className:`p-2 rounded-lg transition-colors ${b?"text-gray-300 cursor-not-allowed bg-gray-50":"text-gray-400 hover:text-red-600 hover:bg-red-50"}`,title:b?`Locked by ${n(p)}`:"Archive Section",children:e.jsx(ft,{size:16})})]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ct,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600",children:f(s.subject?._id||s.subject)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($s,{size:16,className:"text-gray-400"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Instructor:"," ",x(s.instructor?._id||s.instructor)]})]}),s.students&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Lt,{size:16,className:"text-gray-400"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[s.students.length," Students Enrolled"]})]}),s.subject&&e.jsxs("div",{className:"mt-3 p-3 bg-white rounded-lg border border-blue-200",children:[e.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Subject Details:"}),e.jsxs("p",{className:"text-sm text-blue-600",children:["Units: ",s.subject.units||"N/A"," | College:"," ",s.subject.college||"N/A"]})]}),e.jsx("div",{className:"mt-4 pt-3 border-t border-blue-100",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("button",{onClick:()=>u(s),className:"bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center gap-2 text-sm",children:[e.jsx(Lt,{size:16}),"Invite Students"]}),e.jsxs("button",{onClick:()=>m(s._id),className:"bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 text-sm",children:[e.jsx(qa,{size:16}),"View Students"]})]})})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Created: ",new Date(s.createdAt).toLocaleDateString()]})]})}function TE({onAddClick:s}){return e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx(fa,{className:"mx-auto text-gray-300 mb-4",size:48}),e.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"No sections created yet"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first section to get started"}),e.jsx("button",{onClick:s,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Create Your First Section"})]})}function Up({formData:s,filteredSubjects:r,semesters:n,instructors:i,gradingTotal:c,isEdit:u,onSubmit:m,onChange:f,onSchemaChange:x,onCancel:p,submitting:b}){return Gt.useEffect(()=>{u&&console.log(" SectionForm Edit Mode:",{semesterId:s.semesterId,subjectId:s.subjectId,availableSemesters:n?.length||0,filteredSubjects:r?.length||0,selectedSemester:n?.find(j=>j._id===s.semesterId),selectedSubject:r?.find(j=>j._id===s.subjectId)})},[u,s.semesterId,s.subjectId,n,r]),e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Semester *"}),e.jsxs("select",{name:"semesterId",value:s.semesterId,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none cursor-pointer",required:!0,children:[e.jsx("option",{value:"",children:"Select Semester"}),n&&n.length>0?n.map(j=>e.jsxs("option",{value:j._id,children:[j.schoolYear," - ",j.term," Semester"]},j._id)):e.jsx("option",{value:"",disabled:!0,children:"No semesters available"})]}),(!n||n.length===0)&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:"No semesters found. Please add semesters first."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),e.jsxs("select",{name:"subjectId",value:s.subjectId,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none cursor-pointer",required:!0,disabled:!s.semesterId,children:[e.jsx("option",{value:"",children:"Select Subject"}),s.semesterId&&r&&r.length>0?r.map(j=>e.jsxs("option",{value:j._id,children:[j.subjectCode," - ",j.subjectName," (",j.units," ","units)"]},j._id)):s.semesterId?e.jsx("option",{value:"",disabled:!0,children:"No subjects available for this semester"}):e.jsx("option",{value:"",disabled:!0,children:"Select a semester first"})]}),s.semesterId?s.semesterId&&(!r||r.length===0)?e.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"No subjects found for the selected semester. Please add subjects for this semester first."}):null:e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Please select a semester first"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instructor *"}),e.jsxs("select",{name:"instructorId",value:s.instructorId,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none cursor-pointer",required:!0,children:[e.jsx("option",{value:"",children:"Select Instructor"}),i.map(j=>e.jsxs("option",{value:j._id,children:[j.fullName," - ",j.email]},j._id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section Code *"}),e.jsx("input",{type:"text",name:"sectionName",value:s.sectionName,onChange:f,autoComplete:"off",placeholder:"e.g., BSCS 1A, BSIT 2B",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grading Schema (Percentages - must total 100%)"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Class Standing"}),e.jsx("input",{type:"number",name:"classStanding",min:"0",max:"100",value:s.gradingSchema.classStanding,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Laboratory"}),e.jsx("input",{type:"number",name:"laboratory",min:"0",max:"100",value:s.gradingSchema.laboratory,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Major Output"}),e.jsx("input",{type:"number",name:"majorOutput",min:"0",max:"100",value:s.gradingSchema.majorOutput,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none"})]})]}),e.jsxs("p",{className:`text-xs mt-1 ${c===100?"text-green-600":"text-orange-600"}`,children:["Total: ",c,"%"]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:p,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:b,className:"flex-1 bg-blue-600 text-white px-4 py-2 sm:py-2.5 rounded-lg hover:bg-blue-700 active:bg-blue-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm sm:text-base font-medium shadow-sm hover:shadow-md touch-manipulation",children:b?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:u?"Updating...":"Adding..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(qt,{size:16,className:"flex-shrink-0"}),e.jsx("span",{children:u?"Update Section":"Add Section"})]})})]})]})}function _E({selectedSection:s,searchQuery:r,onSearchChange:n,searchResults:i,isSearching:c,selectedStudents:u,onStudentSelection:m,onInvite:f,onCancel:x,getSubjectName:p,getInstructorName:b}){return e.jsxs("div",{className:"space-y-4",children:[s&&e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Section Information:"}),e.jsxs("p",{className:"text-sm text-blue-600",children:[e.jsx("strong",{children:"Subject:"})," ",p(s.subject?._id||s.subject)]}),e.jsxs("p",{className:"text-sm text-blue-600",children:[e.jsx("strong",{children:"Section:"})," ",s.sectionName]}),e.jsxs("p",{className:"text-sm text-blue-600",children:[e.jsx("strong",{children:"Instructor:"})," ",b(s.instructor?._id||s.instructor)]}),e.jsxs("p",{className:"text-sm text-blue-600",children:[e.jsx("strong",{children:"Current Students:"})," ",s.students?.length||0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Students by Student ID or Email:"}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:r,onChange:j=>n(j.target.value),placeholder:"Enter student ID or email (e.g., 2021-001234 or 2301106754@student.buksu.edu.ph)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none pr-10"}),c&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"})})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Type the student's ID number or institutional email address to search"})]}),e.jsx("div",{className:"max-h-64 overflow-y-auto border border-gray-300 rounded-lg",children:r.trim()===""?e.jsxs("div",{className:"p-4 text-center text-gray-500",children:[e.jsx(Lt,{className:"mx-auto mb-2 text-gray-300",size:24}),e.jsx("p",{children:"Enter a student ID or email to search for students"}),e.jsx("p",{className:"text-xs mt-1",children:"Examples: 2021-001234 or 2301106754@student.buksu.edu.ph"})]}):i.length>0?e.jsx("div",{className:"p-2 space-y-2",children:i.map(j=>e.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u.includes(j._id),onChange:()=>m(j._id),className:"mr-3 h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 focus:outline-none"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.fullName}),e.jsxs("div",{className:"text-xs text-gray-500",children:[j.studid,"  ",j.yearLevel,"  ",j.course]}),e.jsxs("div",{className:"text-xs text-blue-600",children:["Email: ",j.email]})]})]},j._id))}):!c&&r.trim()!==""?e.jsxs("div",{className:"p-4 text-center text-gray-500",children:[e.jsx(ta,{className:"mx-auto mb-2 text-orange-400",size:24}),e.jsxs("p",{children:['No students found for: "',r,'"']}),e.jsx("p",{className:"text-xs mt-1",children:"Please check the student ID or email and try again"})]}):null}),u.length>0&&e.jsxs("p",{className:"text-sm text-blue-600 mt-2",children:[u.length," student",u.length!==1?"s":""," selected"]})]}),e.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:e.jsx("p",{className:"text-sm text-green-700",children:" Selected students will receive email invitations with section details and login instructions."})}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:x,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:c,children:"Cancel"}),e.jsxs("button",{onClick:f,disabled:c||u.length===0,className:"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[e.jsx(Lt,{size:16}),"Invite ",u.length," Student",u.length!==1?"s":""]})]})]})}const AE={},Qs=typeof import.meta<"u"&&AE?.VITE_API_BASE_URL||"http://localhost:5000";function ME(){const s=dt(),[r,n]=g.useState([]),[i,c]=g.useState([]),[u,m]=g.useState([]),[f,x]=g.useState([]),[p,b]=g.useState([]),[j,w]=g.useState(!0),[E,v]=g.useState(!1),[T,C]=g.useState(!1),[k,N]=g.useState(!1),[M,A]=g.useState(!1),[D,Y]=g.useState(null),[Q,q]=g.useState(""),[ne,re]=g.useState(""),[B,ae]=g.useState(""),[ce,J]=g.useState({semesterId:"",subjectId:"",instructorId:"",sectionName:"",gradingSchema:{classStanding:"40",laboratory:"30",majorOutput:"30"}}),[$,O]=g.useState(""),[U,I]=g.useState([]),[le,_]=g.useState([]),[P,ie]=g.useState(!1),L=Ys(),{showError:V,showSuccess:me,showConfirmDialog:xe}=L,ke=r.map(pe=>pe._id),{isLocked:te,getLockedBy:K,refresh:ve}=Ph("section",ke),se=g.useCallback(()=>{ve(),setTimeout(()=>ve(),5e3)},[ve]),{acquireLock:je,releaseLock:oe}=zh("section",D?._id);g.useEffect(()=>{(async()=>{try{w(!0);const[pe,Ae,nt,pt]=await Promise.all([ge(`${Qs}/api/admin/sections`),ge(`${Qs}/api/admin/subjects`),ge(`${Qs}/api/admin/instructors`),ge(`${Qs}/api/semesters`)]);if(pe.ok){const Be=await pe.json();n(Be.sections||[])}if(Ae.ok){const Be=await Ae.json();c(Be.subjects||[])}if(nt.ok){const Be=await nt.json();m(Be.instructors||[])}if(pt.ok){const Be=await pt.json();x(Be.semesters||Be||[])}}catch(pe){console.error(pe),V("Failed to load initial data.")}finally{w(!1)}})()},[]);const W=["College of Technology","College of Business","College of Education","College of Arts and Science","College of Public Administration","College of Nursing","College of Law"],Ne=Gt.useMemo(()=>{const pe=Q.trim().toLowerCase();return(r||[]).filter(Ae=>{const nt=pe?[Ae.sectionName,Ae?.subject?.subjectName,Ae?.subject?.subjectCode,Ae?.instructor?.fullName].filter(Boolean).some(lt=>String(lt).toLowerCase().includes(pe)):!0,pt=B?Ae?.subject?.college===B:!0;let Be=!0;if(ne){const lt=Ae?.subject?.semester?._id||Ae?.subject?.semester;if(lt)Be=String(lt)===String(ne);else{const bt=f.find(Fa=>String(Fa._id)===String(ne));Be=bt?Ae.schoolYear===bt.schoolYear&&Ae.term===bt.term:!0}}return nt&&pt&&Be})},[r,Q,B,ne,f]),Ce=g.useCallback(async()=>{try{try{const Ae=await ge(`${Qs}/api/locks/cleanup`,{method:"POST"});if(Ae.ok){const nt=await Ae.json();console.log(" Cleaned up expired locks:",nt.message)}}catch(Ae){console.error("Cleanup error:",Ae)}w(!0);const pe=await ge(`${Qs}/api/admin/sections`);if(pe.ok){const Ae=await pe.json();n(Ae.sections||[])}}catch(pe){console.error("Error fetching sections:",pe)}finally{w(!1)}},[]),Re=pe=>{const{name:Ae,value:nt}=pe.target;J(pt=>{const Be={...pt,[Ae]:nt};if(Ae==="semesterId")if(Be.subjectId="",nt){const lt=i.filter(bt=>bt.semester&&(bt.semester._id||bt.semester)===nt);b(lt)}else b([]);return Be})},he=pe=>{const{name:Ae,value:nt}=pe.target;J(pt=>({...pt,gradingSchema:{...pt.gradingSchema,[Ae]:nt}}))},ye=()=>{J({semesterId:"",subjectId:"",instructorId:"",sectionName:"",gradingSchema:{classStanding:"40",laboratory:"30",majorOutput:"30"}}),b([]),Y(null)},tt=async pe=>{const Ae=pe._id;if(te(Ae)){const lt=K(Ae);V(`This section is currently being edited by ${lt}. Please try again later.`);return}if(!await je(Ae,"section")){V("Unable to acquire lock for editing. Another admin may have started editing."),se();return}Y(pe);let pt="";if(pe.subject?.semester&&(pt=pe.subject.semester._id||pe.subject.semester),!pt&&pe.schoolYear&&pe.term){const lt=f.find(bt=>bt.schoolYear===pe.schoolYear&&bt.term===pe.term);lt&&(pt=lt._id)}console.log(" Edit section - semester detection:",{sectionSchoolYear:pe.schoolYear,sectionTerm:pe.term,subjectSemester:pe.subject?.semester,detectedSemesterId:pt,availableSemesters:f.map(lt=>({id:lt._id,schoolYear:lt.schoolYear,term:lt.term}))});const Be=pt?i.filter(lt=>(lt.semester?._id||lt.semester)===pt):[];console.log(" Filtered subjects:",{semesterId:pt,totalSubjects:i.length,filteredCount:Be.length,selectedSubjectId:pe.subject?._id||pe.subject}),b(Be),J({semesterId:pt,subjectId:pe.subject?._id||pe.subject||"",instructorId:pe.instructor?._id||pe.instructor||"",sectionName:pe.sectionName||"",gradingSchema:{classStanding:String(pe.gradingSchema?.classStanding??"40"),laboratory:String(pe.gradingSchema?.laboratory??"30"),majorOutput:String(pe.gradingSchema?.majorOutput??"30")}}),N(!0)},gt=pe=>{const Ae=i.find(nt=>nt._id===pe);return Ae?`${Ae.subjectCode} - ${Ae.subjectName}`:"Unknown Subject"},mt=pe=>{const Ae=u.find(nt=>nt._id===pe);return Ae?Ae.fullName:"Unassigned"},Vt=async pe=>{if(!pe.trim()){I([]);return}try{ie(!0);const Ae=await ge(`${Qs}/api/admin/students?search=${encodeURIComponent(pe)}&limit=50`);if(Ae.ok){const nt=await Ae.json();I(nt.students||[])}else I([])}catch(Ae){console.error("Error searching students:",Ae),I([])}finally{ie(!1)}};g.useEffect(()=>{if(!M)return;if(!$.trim()){I([]);return}const pe=setTimeout(()=>Vt($),400);return()=>clearTimeout(pe)},[$,M]);const Es=pe=>{_(Ae=>Ae.includes(pe)?Ae.filter(nt=>nt!==pe):[...Ae,pe])},ba=async()=>{if(le.length===0){V("Please select at least one student to invite");return}try{const pe=await ge(`${Qs}/api/admin/sections/${D._id}/invite-students`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({studentIds:le})});if(pe.ok){const Ae=await pe.json();A(!1),_([]),Y(null),await Ce(),me(`Successfully invited ${Ae.invitedStudents?.length||le.length} students to the section!`)}else{const Ae=await pe.json();V(Ae.message||"Failed to invite students")}}catch(pe){console.error(pe),V("Error inviting students")}},is=async pe=>{if(pe.preventDefault(),(parseInt(ce.gradingSchema.classStanding,10)||0)+(parseInt(ce.gradingSchema.laboratory,10)||0)+(parseInt(ce.gradingSchema.majorOutput,10)||0)!==100){V("Grading schema percentages must total 100%");return}const nt=f.find(Be=>Be._id===ce.semesterId);if(!nt){V("Please select a valid semester");return}const pt={subjectId:ce.subjectId,instructorId:ce.instructorId,sectionName:ce.sectionName,schoolYear:nt.schoolYear,term:nt.term,gradingSchema:{classStanding:parseInt(ce.gradingSchema.classStanding,10)||0,laboratory:parseInt(ce.gradingSchema.laboratory,10)||0,majorOutput:parseInt(ce.gradingSchema.majorOutput,10)||0}};v(!0);try{const Be=D?`${Qs}/api/admin/sections/${D._id}`:`${Qs}/api/admin/sections`,bt=await ge(Be,{method:D?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(pt)});if(bt.ok)await Ce(),D?._id&&await oe(D._id,"section"),ye(),C(!1),N(!1),se(),me(D?"Section updated successfully!":"Section created successfully!");else{const Fa=await bt.json();V(Fa.message||"Failed to save section")}}catch(Be){console.error(Be),V("Error saving section")}finally{v(!1)}},Tt=async pe=>{if(!pe){V("Invalid section ID");return}if(te(pe)){const Be=K(pe);V(`This section is currently being edited by ${Be}. Please try again later.`);return}const Ae=r.find(Be=>(Be._id||Be.id)===pe);if(!Ae){V("Section not found");return}if(!await je(pe,"section")){V("Unable to acquire lock for archiving. Another admin may have started editing."),se();return}se();const pt=Ae.sectionName||"this section";xe("Archive Section",`Are you sure you want to archive "${pt}"? This will hide the section from normal operations but it can be restored later.`,async()=>{try{const Be=await ge(`${Qs}/api/admin/sections/${pe}/archive`,{method:"PUT"});if(Be.ok)n(lt=>lt.filter(bt=>(bt._id||bt.id)!==pe)),me(`Section "${pt}" archived successfully!`);else{const lt=await Be.json().catch(()=>({}));V(lt.message||"Failed to archive section.")}}catch(Be){console.error("Archive section error:",Be),V("There was an error processing your request.")}finally{await oe(pe,"section"),se()}},async()=>{await oe(pe,"section"),se()})},os=(parseInt(ce.gradingSchema.classStanding,10)||0)+(parseInt(ce.gradingSchema.laboratory,10)||0)+(parseInt(ce.gradingSchema.majorOutput,10)||0);return e.jsx(Bs,{notifications:L,children:e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(Ss,{}),e.jsxs("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-20 mt-10",children:[e.jsx(SE,{onAddClick:()=>{ye(),C(!0)}}),e.jsx(CE,{searchTerm:Q,onSearchChange:q,filterSemester:ne,onSemesterChange:re,filterCollege:B,onCollegeChange:ae,semesters:f,collegeOptions:W}),j?e.jsx(kE,{}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[Ne.map(pe=>e.jsx(EE,{section:pe,isLocked:te,getLockedBy:K,onEdit:tt,onArchive:Tt,onInviteStudents:Ae=>{Y(Ae),A(!0),O(""),I([]),_([])},onViewStudents:Ae=>s(`/admin/view-invite-student/${Ae}`),getSubjectName:gt,getInstructorName:mt},pe._id)),r.length===0&&e.jsx(TE,{onAddClick:()=>{ye(),C(!0)}})]}),e.jsx(vm,{isOpen:T,onClose:()=>C(!1),title:"Add New Section",children:e.jsx(Up,{formData:ce,filteredSubjects:p,semesters:f,instructors:u,gradingTotal:os,isEdit:!1,onSubmit:is,onChange:Re,onSchemaChange:he,onCancel:()=>C(!1),submitting:E})}),e.jsx(vm,{isOpen:k,onClose:async()=>{const pe=D?._id||D?.id;pe&&(await oe(pe,"section"),se()),N(!1)},title:"Edit Section",children:e.jsx(Up,{formData:ce,filteredSubjects:p,semesters:f,instructors:u,gradingTotal:os,isEdit:!0,onSubmit:is,onChange:Re,onSchemaChange:he,onCancel:async()=>{const pe=D?._id||D?.id;pe&&await oe(pe,"section"),N(!1),se()},submitting:E})}),e.jsx(vm,{isOpen:M,onClose:()=>A(!1),title:"Invite Students to Section",children:e.jsx(_E,{selectedSection:D,searchQuery:$,onSearchChange:O,searchResults:U,isSearching:P,selectedStudents:le,onStudentSelection:Es,onInvite:ba,onCancel:()=>{A(!1),_([]),Y(null),O(""),I([])},getSubjectName:gt,getInstructorName:mt})})]})]})})}function DE(){return e.jsx("h1",{className:"ml-2 pt-2 text-2xl sm:text-3xl font-bold text-[#1E3A5F] mb-4 sm:mb-8 font-outfit max-[880px]:mt-10",children:"Invited Students"})}function OE({sectionDetails:s,invitedStudents:r,getSubjectName:n,getInstructorName:i}){return e.jsxs("div",{className:"mb-10 p-4 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ns,{size:24,className:"text-blue-600"}),e.jsxs("span",{className:"text-base",children:[e.jsx("strong",{children:"Subject:"})," ",n()]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($s,{size:24,className:"text-blue-600"}),e.jsxs("span",{className:"text-base",children:[e.jsx("strong",{children:"Instructor:"})," ",i()]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ft,{size:24,className:"text-blue-600"}),e.jsxs("span",{className:"text-base",children:[e.jsx("strong",{children:"Semester:"})," ",s.schoolYear," -"," ",s.term]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Lt,{size:24,className:"text-blue-600"}),e.jsxs("span",{className:"text-base",children:[e.jsx("strong",{children:"Total:"})," ",r.length," students"]})]})]})}function RE({searchTerm:s,onSearchChange:r}){return e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[e.jsx("h2",{className:"text-lg font-bold text-blue-900 tracking-tight",children:"Student List"}),e.jsx("input",{type:"text",className:"w-fulls sm:w-80 px-5 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-800 transition",placeholder:"Search students",value:s,onChange:n=>r(n.target.value)})]})}function LE(){return e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}function UE({error:s,onRetry:r}){return e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ta,{className:"mx-auto text-red-300 mb-4",size:48}),e.jsx("h3",{className:"text-lg font-medium text-red-600 mb-2",children:"Error Loading Students"}),e.jsx("p",{className:"text-red-500 mb-4",children:s}),e.jsx("button",{onClick:r,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]})}function zE(){return e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Lt,{className:"mx-auto text-gray-300 mb-4",size:48}),e.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"No students invited yet"}),e.jsx("p",{className:"text-gray-500",children:'Use the "Invite Students" button to add students.'})]})}function PE({students:s,submitting:r,onRemoveStudent:n}){return e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm sm:text-base border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ID"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"COURSE"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"YEAR LEVEL"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{children:s.map(i=>e.jsxs("tr",{className:"hover:bg-blue-50 transition",children:[e.jsx("td",{className:"px-4 py-3 text-xs md:text-sm max-w-[80px]",children:i.studid}),e.jsx("td",{className:"px-4 py-3 text-xs md:text-sm truncate max-w-[120px] whitespace-nowrap",children:i.fullName||"Unknown Student"}),e.jsx("td",{className:"px-4 py-3 text-xs md:text-sm text-blue-600 truncate",children:i.email}),e.jsx("td",{className:"px-4 py-3 text-xs md:text-sm truncate max-w-[120px]",children:i.course}),e.jsx("td",{className:"px-4 py-3 text-xs md:text-sm",children:i.yearLevel}),e.jsx("td",{className:"px-3 sm:px-5 py-3",children:e.jsx("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-50 text-green-700 border border-green-200 rounded-full text-xs font-semibold shadow-sm",children:"Invited"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("button",{onClick:()=>n(i._id,i.fullName||"Student"),disabled:r,className:"px-3 py-1 bg-red-500 text-white rounded text-xs hover:bg-red-600",children:"Delete"})})]},i._id))})]})})}function $E(){const{sectionId:s}=vi(),[r,n]=g.useState(null),[i,c]=g.useState([]),[u,m]=g.useState(!0),[f,x]=g.useState(null),[p,b]=g.useState(!1),[j,w]=g.useState(1),[E,v]=g.useState(10),[T,C]=g.useState(""),k=Ys(),{showError:N,showSuccess:M,showConfirmDialog:A}=k,D=g.useCallback(async()=>{try{const J=await ge(`http://localhost:5000/api/admin/sections/${s}`);if(J.ok){const $=await J.json();n($.section)}}catch(J){console.error("Error fetching section details:",J)}},[s]),Y=g.useCallback(async()=>{try{m(!0),x(null);const J=await ge(`http://localhost:5000/api/admin/sections/${s}/students`);if(J.ok){const $=await J.json();c($.students||[])}else{const $=await J.json();x($.message||"Failed to fetch invited students")}}catch(J){console.error("Error fetching invited students:",J),x("Error fetching invited students")}finally{m(!1)}},[s]),Q=async(J,$)=>{A("Remove Student",`Are you sure you want to remove "${$}" from this section?`,async()=>{try{b(!0);const O=await ge(`http://localhost:5000/api/admin/sections/${s}/remove-student`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({studentId:J})}),U=await O.json();O.ok?(await Y(),M(`${$} has been removed successfully!`)):N(U.message||"Failed to remove student")}catch(O){console.error("Error removing student:",O),N("Error removing student: "+O.message)}finally{b(!1)}})};g.useEffect(()=>{s&&(D(),Y())},[s,D,Y]);const q=()=>r?.subject?`${r.subject.subjectCode} - ${r.subject.subjectName}`:"Unknown Subject",ne=()=>r?.instructor?.fullName||"Unassigned",re=i.filter(J=>[J.fullName,J.email,J.studid].filter(Boolean).some($=>$.toLowerCase().includes(T.toLowerCase()))),B=re.length,ae=Math.ceil(B/E),ce=re.slice((j-1)*E,j*E);return e.jsx(Bs,{notifications:k,children:e.jsxs("div",{className:"flex flex-col lg:flex-row h-screen bg-gray-100 overflow-hidden",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Ss,{})}),e.jsxs("div",{className:"flex-1 mt-8 p-2 sm:p-4 md:p-6 w-full mx-auto ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-20 pt-4 sm:pt-6 md:pt-8 lg:pt-10",children:[e.jsx(DE,{}),e.jsx("div",{className:"flex-1 overflow-y-auto p-3 sm:p-6 lg:p-8",children:u?e.jsx(LE,{}):f?e.jsx(UE,{error:f,onRetry:Y}):i.length===0?e.jsx(zE,{}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"overflow-x-auto bg-white rounded-lg shadow border border-gray-100 p-4 sm:p-6 mb-6",children:[e.jsx(OE,{sectionDetails:r,invitedStudents:i,getSubjectName:q,getInstructorName:ne}),e.jsx(RE,{searchTerm:T,onSearchChange:C}),e.jsx(PE,{students:ce,submitting:p,onRemoveStudent:Q})]}),e.jsx(Wt,{currentPage:j,totalPages:ae,totalItems:B,itemsPerPage:E,onPageChange:w,onItemsPerPageChange:v,rowsPerPageOptions:[5,10,25,50]})]})})]})]})})}function $h({children:s,onBack:r}){return e.jsxs("div",{className:"flex min-h-screen max-md:flex-col",children:[e.jsx("div",{className:"flex-1 relative flex flex-col p-6 sm:p-8 lg:p-12 bg-cover bg-right bg-no-repeat overflow-hidden min-h-[40vh] lg:min-h-screen",style:{backgroundImage:`url(${sh})`},children:e.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center pt-4 sm:pt-6 lg:pt-8",children:[e.jsx("div",{className:"mb-4 sm:mb-6 lg:mb-8",children:e.jsx("img",{src:jr,alt:"BUKSU Logo",className:"h-16 w-16 sm:h-20 sm:w-20 lg:h-28 lg:w-28 rounded object-cover mx-auto"})}),e.jsx("h1",{className:"text-white font-extrabold leading-tight text-2xl sm:text-3xl lg:text-5xl tracking-wider uppercase text-shadow-lg font-sans",children:"BUKSU GRADING SYSTEM"})]})}),e.jsxs("div",{className:"w-full lg:w-[500px] xl:w-[480px] flex flex-col justify-center px-6 py-8 sm:px-8 sm:py-12 lg:px-16 lg:py-12 bg-gray-50 relative",children:[r&&e.jsx("button",{onClick:r,className:"absolute top-8 left-8 text-gray-600 hover:text-gray-800 transition-colors","aria-label":"Go back",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),e.jsx("div",{className:"max-w-md mx-auto mt-8",children:s})]})]})}function Yh({title:s,subtitle:r}){return e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"font-bold text-center mb-2 text-gray-900 text-3xl",children:s}),e.jsx("p",{className:"text-center text-gray-600 text-sm mb-8",children:r})]})}function bc({label:s,type:r="text",name:n,id:i,required:c=!1,className:u="",...m}){return e.jsxs("div",{children:[e.jsx("label",{htmlFor:i,className:"block text-sm font-medium text-gray-700 mb-2",children:s}),e.jsx("input",{type:r,name:n,id:i,required:c,className:`w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white ${u}`,...m})]})}function Bh({loading:s,loadingText:r,children:n}){return e.jsx("button",{type:"submit",disabled:s,className:`w-full px-4 py-3 bg-blue-900 text-white font-semibold rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-900 focus:ring-offset-2 ${s?"opacity-70 cursor-not-allowed":"hover:bg-blue-800 cursor-pointer"}`,style:{backgroundColor:"#091057"},children:s?r:n})}function Hh({success:s,error:r}){return!s&&!r?null:e.jsxs(e.Fragment,{children:[s&&e.jsx("p",{className:"text-green-600 text-sm text-center mt-4",children:s}),r&&e.jsx("p",{className:"text-red-600 text-sm text-center mt-4",children:r})]})}function YE(){const s=dt(),[r,n]=g.useState(""),[i,c]=g.useState(""),[u,m]=g.useState(!1),[f,x]=g.useState(()=>sessionStorage.getItem("admin_reset_passcode")||"");g.useEffect(()=>{if(!f){n("Reset code expired. Please request a new one.");const b=setTimeout(()=>s("/admin/adminRequestCode"),3e3);return()=>clearTimeout(b)}},[f,s]);const p=async b=>{b.preventDefault(),n(""),c("");const j=b.target.newPassword.value,w=b.target.confirmPassword.value,E=sessionStorage.getItem("admin_reset_passcode");if(!E){n("Reset code not found. Please request a new one."),x("");return}if(j!==w){n("New passwords do not match.");return}try{m(!0);const v=await ma.resetPassword(E,j);v.success||v.ok?(c("Password successfully updated!"),sessionStorage.removeItem("admin_reset_passcode"),b.target.reset(),s("/admin/adminLogin")):n(v.message||"Failed to reset password.")}catch(v){console.error("Reset password error:",v),n(v.message||"Server error. Please try again.")}finally{m(!1)}};return e.jsxs($h,{onBack:()=>s("/admin/adminLogin"),children:[e.jsx(Yh,{title:"Reset Password",subtitle:"Set a new password for your administrator account"}),e.jsxs("form",{onSubmit:p,className:"space-y-5",children:[e.jsx(bc,{label:"New Password:",type:"password",name:"newPassword",id:"newPassword",required:!0}),e.jsx(bc,{label:"Confirm New Password:",type:"password",name:"confirmPassword",id:"confirmPassword",required:!0}),e.jsx(Bh,{loading:u,loadingText:"Updating...",children:"Update Password"})]}),e.jsx(Hh,{success:i,error:r})]})}function BE(){const s=dt(),[r,n]=g.useState(""),[i,c]=g.useState(""),[u,m]=g.useState(!1),f=async x=>{x.preventDefault(),n(""),c("");const p=x.target.adminEmail.value;try{m(!0);const b=await ma.requestResetCode(p);b.ok?(c("A reset code has been sent to your email."),x.target.reset(),s("/admin/adminVerifyCode")):n(b.message||"Failed to send reset code.")}catch(b){console.error("Request code error:",b),n(b.message||"Server error. Please try again.")}finally{m(!1)}};return e.jsxs($h,{onBack:()=>s("/admin/adminLogin"),children:[e.jsx(Yh,{title:"Request Reset Code",subtitle:"Enter your admin email to receive a reset code"}),e.jsxs("form",{onSubmit:f,className:"space-y-5",children:[e.jsx(bc,{label:"Email:",type:"email",name:"adminEmail",id:"adminEmail",required:!0}),e.jsx(Bh,{loading:u,loadingText:"Sending...",children:"Request Code"})]}),e.jsx(Hh,{success:i,error:r})]})}function HE(){const s=dt(),[r,n]=g.useState(""),[i,c]=g.useState(""),[u,m]=g.useState(!1),f=async x=>{x.preventDefault(),n(""),c("");const p=x.target.passcode.value.trim();if(!p){n("Please enter the code sent to your email.");return}try{m(!0);const b=await ma.verifyResetCode(p);b.ok||b.success?(sessionStorage.setItem("admin_reset_passcode",p),c("Code verified successfully!"),x.target.reset(),s("/admin/reset-password")):n(b.message||"Invalid or expired code.")}catch(b){console.error("Verification error:",b),n(b.message||"Server error. Please try again.")}finally{m(!1)}};return e.jsxs($h,{onBack:()=>s("/admin/adminRequestCode"),children:[e.jsx(Yh,{title:"Verify Code",subtitle:"Enter the 6-digit code sent to your email"}),e.jsxs("form",{onSubmit:f,className:"space-y-5",children:[e.jsx(bc,{label:"Verification Code:",type:"text",name:"passcode",id:"passcode",required:!0,maxLength:6,placeholder:"Enter code",className:"tracking-widest text-center"}),e.jsx(Bh,{loading:u,loadingText:"Verifying...",children:"Verify Code"})]}),e.jsx(Hh,{success:i,error:r})]})}function qE(){return e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-[#1E3A5F] mb-2",children:"Archive Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage archived students, instructors, semesters, subjects, and sections."})]})}function GE(){return e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}function IE({showArchived:s,onShowArchivedChange:r,onRefresh:n,loading:i}){return e.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:s,onChange:c=>r(c.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Show all items (including active)"})]}),e.jsxs("button",{onClick:n,disabled:i,className:"inline-flex items-center px-3 py-1 rounded-md text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 transition-colors disabled:opacity-50",children:[e.jsx(ua,{className:`w-4 h-4 mr-1 ${i?"animate-spin":""}`}),"Refresh"]})]})}function FE({error:s}){return s?e.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md",children:e.jsx("p",{className:"text-red-600",children:s})}):null}const VE=[{id:"students",label:"Students",icon:Lt},{id:"instructors",label:"Instructors",icon:ns},{id:"semesters",label:"Semesters",icon:Ft},{id:"subjects",label:"Subjects",icon:Ct},{id:"sections",label:"Sections",icon:fa}];function QE({activeTab:s,onTabChange:r}){return e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:VE.map(n=>{const i=n.icon;return e.jsxs("button",{onClick:()=>r(n.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${s===n.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(i,{className:"w-4 h-4 mr-2"}),n.label]},n.id)})})})})}function XE({item:s,type:r,onArchive:n,onUnarchive:i}){const c=s.isArchived,u=()=>s.fullName||s.subjectName||s.sectionName||`${s.schoolYear} - ${s.term}`,m=()=>s.email||s.subjectCode||s.instructor?.fullName||s.term;return e.jsx("div",{className:`p-4 rounded-lg border ${c?"bg-gray-100 border-gray-300 opacity-75":"bg-white border-gray-200"} hover:shadow-md transition-shadow`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:u()}),e.jsx("p",{className:"text-sm text-gray-600",children:m()}),s.college&&e.jsx("p",{className:"text-xs text-gray-500",children:s.college}),c&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(ft,{className:"w-3 h-3 mr-1"}),"Archived"]}),s.archivedAt&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Archived on: ",new Date(s.archivedAt).toLocaleDateString()]})]})]}),e.jsx("div",{className:"flex gap-2",children:c?e.jsxs("button",{onClick:()=>i(r,s._id),className:"inline-flex items-center px-3 py-1 rounded-md text-sm font-medium text-green-700 bg-green-100 hover:bg-green-200 transition-colors",children:[e.jsx(J1,{className:"w-4 h-4 mr-1"}),"Unarchive"]}):e.jsxs("button",{onClick:()=>n(r,s._id),className:"inline-flex items-center px-3 py-1 rounded-md text-sm font-medium text-red-700 bg-red-100 hover:bg-red-200 transition-colors",children:[e.jsx(ft,{className:"w-4 h-4 mr-1"}),"Archive"]})})]})})}function ZE({showArchived:s}){return e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:s?"No items found":"No archived items found"})})}function WE(){const[s,r]=g.useState("students"),[n,i]=g.useState({students:[],instructors:[],semesters:[],subjects:[],sections:[]}),[c,u]=g.useState(!1),[m,f]=g.useState(""),[x,p]=g.useState(!1),[b,j]=g.useState(1),[w,E]=g.useState(10),v=g.useCallback(async q=>{u(!0),f("");try{const ne="?includeArchived=true";let re="";switch(q){case"students":re=`/api/admin/students${ne}`;break;case"instructors":re=`/api/admin/instructors${ne}`;break;case"semesters":re=`/api/admin/semesters${ne}`;break;case"subjects":re=`/api/admin/subjects${ne}`;break;case"sections":re=`/api/admin/sections${ne}`;break;default:return}const B=await ge(`http://localhost:5000${re}`);if(B.ok){const ae=await B.json(),ce=ae[q]||ae[q+"s"]||ae.data||[],J=x?ce:ce.filter($=>$.isArchived===!0);i($=>({...$,[q]:J}))}else f(`Failed to fetch ${q}`)}catch(ne){f(`Error fetching ${q}: ${ne.message}`)}finally{u(!1)}},[x]),T=g.useCallback(async(q,ne)=>{try{const re=q.endsWith("s")?q:`${q}s`,B=await ge(`http://localhost:5000/api/admin/${re}/${ne}/archive`,{method:"PUT"});if(B.ok)await v(s);else{const ae=await B.json();f(ae.message||`Failed to archive ${q}`)}}catch(re){f(`Error archiving ${q}: ${re.message}`)}},[s,v]),C=g.useCallback(async(q,ne)=>{try{const re=q.endsWith("s")?q:`${q}s`,B=await ge(`http://localhost:5000/api/admin/${re}/${ne}/unarchive`,{method:"PUT"});if(B.ok)await v(s);else{const ae=await B.json();f(ae.message||`Failed to unarchive ${q}`)}}catch(re){f(`Error unarchiving ${q}: ${re.message}`)}},[s,v]);g.useEffect(()=>{v(s),j(1)},[s,v]);const k=n[s]||[],N=Math.ceil(k.length/w),M=(b-1)*w,A=M+w,D=k.slice(M,A),Y=q=>j(q),Q=q=>{E(q),j(1)};return e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(Ss,{}),e.jsxs("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-20 mt-10",children:[e.jsx(qE,{}),e.jsx(IE,{showArchived:x,onShowArchivedChange:p,onRefresh:()=>v(s),loading:c}),e.jsx(FE,{error:m}),e.jsx(QE,{activeTab:s,onTabChange:r}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:c?e.jsx(GE,{}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4",children:k.length>0?D.map(q=>e.jsx(XE,{item:q,type:s.slice(0,-1),onArchive:T,onUnarchive:C},q._id)):e.jsx(ZE,{showArchived:x})}),k.length>0&&e.jsx(Wt,{currentPage:b,totalPages:N,totalItems:k.length,itemsPerPage:w,onPageChange:Y,onItemsPerPageChange:Q,rowsPerPageOptions:[5,10,25,50]})]})})]})]})}const JE=({filters:s,setFilters:r})=>{const n=Object.entries(s).filter(([c,u])=>c!=="period"&&u&&u!=="").length,i=()=>{r({period:s.period,category:"",userType:"",success:""})};return e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex flex-wrap gap-4 mb-2",children:[e.jsxs("select",{value:s.period,onChange:c=>r({...s,period:c.target.value}),className:"px-3 py-2 border border-gray-300 rounded-md",children:[e.jsx("option",{value:"24h",children:"Last 24 Hours"}),e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"})]}),e.jsxs("select",{value:s.category,onChange:c=>r({...s,category:c.target.value}),className:"px-3 py-2 border border-gray-300 rounded-md",children:[e.jsx("option",{value:"",children:"All Categories"}),e.jsx("option",{value:"AUTHENTICATION",children:"Authentication"}),e.jsx("option",{value:"USER_MANAGEMENT",children:"User Management"}),e.jsx("option",{value:"ACADEMIC_MANAGEMENT",children:"Academic Management"}),e.jsx("option",{value:"GRADE_MANAGEMENT",children:"Grade Management"}),e.jsx("option",{value:"SYSTEM",children:"System"}),e.jsx("option",{value:"SECURITY",children:"Security"}),e.jsx("option",{value:"STUDENT_ACTIVITY",children:"Student Activity"}),e.jsx("option",{value:"INSTRUCTOR_ACTIVITY",children:"Instructor Activity"}),e.jsx("option",{value:"PROFILE_MANAGEMENT",children:"Profile Management"})]}),e.jsxs("select",{value:s.userType,onChange:c=>r({...s,userType:c.target.value}),className:"px-3 py-2 border border-gray-300 rounded-md",children:[e.jsx("option",{value:"",children:"All User Types"}),e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"instructor",children:"Instructor"}),e.jsx("option",{value:"student",children:"Student"})]}),e.jsxs("select",{value:s.success,onChange:c=>r({...s,success:c.target.value}),className:"px-3 py-2 border border-gray-300 rounded-md",children:[e.jsx("option",{value:"",children:"All Results"}),e.jsx("option",{value:"true",children:"Success Only"}),e.jsx("option",{value:"false",children:"Failures Only"})]})]}),n>0&&e.jsxs("div",{className:"flex items-center justify-between bg-blue-50 px-4 py-2 rounded-lg",children:[e.jsxs("span",{className:"text-sm text-blue-700",children:[n," filter",n>1?"s":""," applied"]}),e.jsx("button",{onClick:i,className:"text-sm text-blue-600 hover:text-blue-800 underline",children:"Clear all filters"})]})]})},KE=({activeTab:s,setActiveTab:r})=>{const n=[{key:"overview",label:"Overview",icon:ob},{key:"users",label:"User Statistics",icon:$s},{key:"logs",label:"Activity Logs",icon:qa},{key:"security",label:"Security Events",icon:Qr}];return e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:n.map(({key:i,label:c,icon:u})=>{const m=u;return e.jsxs("button",{onClick:()=>r(i),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm ${s===i?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(m,{size:20}),e.jsx("span",{children:c})]},i)})})})},eT=({stats:s})=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Activities"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.summary?.totalActivities||0})]}),e.jsx(ob,{className:"h-8 w-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Failed Activities"}),e.jsx("p",{className:"text-3xl font-bold text-red-600",children:s.summary?.failedActivities||0})]}),e.jsx(et,{className:"h-8 w-8 text-red-600"})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Security Events"}),e.jsx("p",{className:"text-3xl font-bold text-orange-600",children:s.summary?.securityEvents||0})]}),e.jsx(Qr,{className:"h-8 w-8 text-orange-600"})]})})]}),tT={AUTHENTICATION:"bg-purple-100 text-purple-800",USER_MANAGEMENT:"bg-green-100 text-green-800",ACADEMIC_MANAGEMENT:"bg-blue-100 text-blue-800",GRADE_MANAGEMENT:"bg-indigo-100 text-indigo-800",SYSTEM:"bg-gray-100 text-gray-800",SECURITY:"bg-red-100 text-red-800",STUDENT_ACTIVITY:"bg-cyan-100 text-cyan-800",INSTRUCTOR_ACTIVITY:"bg-emerald-100 text-emerald-800",PROFILE_MANAGEMENT:"bg-pink-100 text-pink-800"},sT=({stats:s})=>e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Activities by Category"}),e.jsx("div",{className:"space-y-3",children:s.breakdown?.categories?.map(r=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:`px-2 py-1 rounded text-sm ${tT[r._id]||"bg-gray-100 text-gray-800"}`,children:r._id}),e.jsxs("div",{className:"flex space-x-4 text-sm",children:[e.jsxs("span",{className:"text-green-600",children:[r.count-r.failureCount," success"]}),e.jsxs("span",{className:"text-red-600",children:[r.failureCount," failed"]})]})]},r._id))})]})}),aT=({stats:s,formatDate:r})=>!s.recentCritical||s.recentCritical.length===0?null:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(wi,{className:"mr-2 text-orange-500"}),"Recent Critical Events"]}),e.jsx("div",{className:"space-y-2",children:s.recentCritical.slice(0,5).map((n,i)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:n.description}),e.jsx("p",{className:"text-xs text-gray-500",children:n.adminEmail})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"SECURITY"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r(n.timestamp)})]})]},i))})]}),rT=({stats:s,formatDate:r})=>e.jsxs("div",{className:"space-y-6",children:[e.jsx(eT,{stats:s}),e.jsx(sT,{stats:s}),e.jsx(aT,{stats:s,formatDate:r})]}),Wo={admin:"bg-red-100 text-red-800",instructor:"bg-blue-100 text-blue-800",student:"bg-green-100 text-green-800"},nT=({userStats:s,formatDate:r,pagination:n})=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Admin Activities"}),e.jsx("p",{className:"text-3xl font-bold text-red-600",children:s.admin?.totalActivities||0}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.admin?.failedActivities||0," failed"]})]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${Wo.admin}`,children:"Admin"})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Instructor Activities"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:s.instructor?.totalActivities||0}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.instructor?.failedActivities||0," failed"]})]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${Wo.instructor}`,children:"Instructor"})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Student Activities"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:s.student?.totalActivities||0}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.student?.failedActivities||0," failed"]})]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${Wo.student}`,children:"Student"})]})})]}),s.activeUsers&&s.activeUsers.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Most Active Users"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"#"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Activity Count"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Activity"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.activeUsers.map((i,c)=>{const u=n?(n.currentPage-1)*n.itemsPerPage+c+1:c+1;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:u}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Wo[i._id.userType]||"bg-gray-100 text-gray-800"}`,children:i._id.userType})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i._id.userEmail}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[i.activityCount," activities"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r(i.lastActivity)})]},`${i._id.userEmail}-${i._id.userType}-${c}`)})})]})}),s.activeUsers.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"No active users found"}),e.jsx("p",{className:"text-xs text-gray-400",children:"User activity data will appear here when available"})]})]})]}),lT={AUTHENTICATION:"bg-purple-100 text-purple-800",USER_MANAGEMENT:"bg-green-100 text-green-800",ACADEMIC_MANAGEMENT:"bg-blue-100 text-blue-800",GRADE_MANAGEMENT:"bg-indigo-100 text-indigo-800",SYSTEM:"bg-gray-100 text-gray-800",SECURITY:"bg-red-100 text-red-800",STUDENT_ACTIVITY:"bg-cyan-100 text-cyan-800",INSTRUCTOR_ACTIVITY:"bg-emerald-100 text-emerald-800",PROFILE_MANAGEMENT:"bg-pink-100 text-pink-800"},iT={admin:"bg-red-100 text-red-800",instructor:"bg-blue-100 text-blue-800",student:"bg-green-100 text-green-800"},oT=({logs:s,loading:r,formatDate:n,totalLogs:i=0,onPageChange:c,onItemsPerPageChange:u,currentPage:m=1,itemsPerPage:f=10})=>{const[x,p]=g.useState(m),[b,j]=g.useState(f);g.useEffect(()=>{p(m)},[m]),g.useEffect(()=>{j(f)},[f]);const w=Math.ceil(i/b),E=(x-1)*b+1,v=Math.min(x*b,i),T=k=>{p(k),c&&c(k)},C=k=>{j(k),p(1),u&&u(k)};return e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Activity Logs"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r?e.jsx("tr",{children:e.jsxs("td",{colSpan:"7",className:"px-6 py-12 text-center",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading activity logs..."})]})}):s.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:"7",className:"px-6 py-12 text-center",children:[e.jsx(qa,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"No activity logs found"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Activity logs will appear here as users interact with the system"})]})}):s.map(k=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n(k.timestamp)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-900",children:k.userEmail||k.adminEmail}),(k.userType||k.adminEmail&&"admin")&&e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${iT[k.userType||"admin"]}`,children:k.userType||"admin"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k.action}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs ${lT[k.category]||"bg-gray-100 text-gray-800"}`,children:k.category})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:k.success?e.jsx(qt,{className:"h-5 w-5 text-green-500"}):e.jsx(et,{className:"h-5 w-5 text-red-500"})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 max-w-xs truncate",title:k.description,children:k.description})]},k._id))})]})}),!r&&s.length>0&&i>0&&e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 px-6 py-4 bg-white border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"Show"}),e.jsxs("select",{value:b,onChange:k=>C(Number(k.target.value)),className:"border border-gray-300 rounded-md px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]}),e.jsx("span",{className:"text-sm text-gray-700",children:"entries"})]}),e.jsxs("div",{className:"text-sm text-gray-700 text-center",children:["Showing ",E," to ",v," of ",i," entries"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>T(x-1),disabled:x===1,className:"p-2 text-gray-400 hover:text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Zn,{className:"h-4 w-4"})}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(w,5)},(k,N)=>{let M;return w<=5||x<=3?M=N+1:x>=w-2?M=w-4+N:M=x-2+N,e.jsx("button",{onClick:()=>T(M),className:`px-3 py-1 text-sm rounded-md ${x===M?"bg-blue-500 text-white":"text-gray-700 hover:bg-gray-100"}`,children:M},M)})}),e.jsx("button",{onClick:()=>T(x+1),disabled:x===w,className:"p-2 text-gray-400 hover:text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Zr,{className:"h-4 w-4"})})]})]})]})},cT={AUTHENTICATION:"bg-purple-100 text-purple-800",USER_MANAGEMENT:"bg-green-100 text-green-800",ACADEMIC_MANAGEMENT:"bg-blue-100 text-blue-800",GRADE_MANAGEMENT:"bg-indigo-100 text-indigo-800",SYSTEM:"bg-gray-100 text-gray-800",SECURITY:"bg-red-100 text-red-800",STUDENT_ACTIVITY:"bg-cyan-100 text-cyan-800",INSTRUCTOR_ACTIVITY:"bg-emerald-100 text-emerald-800",PROFILE_MANAGEMENT:"bg-pink-100 text-pink-800"},dT=({securityEvents:s,formatDate:r})=>e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[e.jsx(Qr,{className:"mr-2 text-red-500"}),"Security Events"]})}),s.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Qr,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No security events"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No security events found for the selected period."})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(n=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r(n.timestamp)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs ${cT[n.category]||"bg-gray-100 text-gray-800"}`,children:n.category})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{children:n.userEmail||n.adminEmail||"Unknown"}),n.ipAddress&&e.jsxs("span",{className:"text-xs text-gray-500",children:["IP: ",n.ipAddress]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n.action}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center space-x-2",children:n.success?e.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"SUCCESS"}):e.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"FAILED"})})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 max-w-xs truncate",title:n.description,children:n.description})]},n._id))})]})})]}),uT=()=>{const[s,r]=g.useState(null),[n,i]=g.useState(null),[c,u]=g.useState([]),[m,f]=g.useState([]),[x,p]=g.useState(!0),[b,j]=g.useState(""),[w,E]=g.useState("overview"),[v,T]=g.useState({currentPage:1,totalPages:1,totalLogs:0,itemsPerPage:20}),[C,k]=g.useState({currentPage:1,totalPages:1,totalEvents:0,itemsPerPage:20}),[N,M]=g.useState({currentPage:1,totalPages:1,totalUsers:0,itemsPerPage:10}),[A,D]=g.useState({period:"7d",category:"",userType:"",success:""}),Y=async()=>{try{p(!0);const $=new URLSearchParams({period:A.period}),O=new URLSearchParams({period:A.period,page:N.currentPage.toString(),limit:N.itemsPerPage.toString()}),U=new URLSearchParams({page:v.currentPage.toString(),limit:v.itemsPerPage.toString(),period:A.period});A.category&&U.append("category",A.category),A.userType&&U.append("userType",A.userType),A.success&&U.append("success",A.success);const I=new URLSearchParams({page:C.currentPage.toString(),limit:C.itemsPerPage.toString(),period:A.period}),[le,_,P,ie]=await Promise.all([ge(`http://localhost:5000/api/monitoring/stats?${$}`),ge(`http://localhost:5000/api/monitoring/user-stats?${O}`),ge(`http://localhost:5000/api/monitoring/logs?${U}`),ge(`http://localhost:5000/api/monitoring/security-events?${I}`)]);if(le.ok){const L=await le.json();r(L.stats)}if(_.ok){const L=await _.json();i(L.stats),L.pagination&&M({currentPage:L.pagination.currentPage,totalPages:L.pagination.totalPages,totalUsers:L.pagination.totalUsers||L.pagination.totalItems,itemsPerPage:N.itemsPerPage})}if(P.ok){const L=await P.json();console.log("Received logs data:",L),console.log("Logs array length:",L.logs?.length),L.logs?.length>0&&console.log("First log sample:",L.logs[0]),u(L.logs),L.pagination&&T({currentPage:L.pagination.currentPage,totalPages:L.pagination.totalPages,totalLogs:L.pagination.totalLogs,itemsPerPage:v.itemsPerPage})}else console.error("Failed to fetch logs:",P.status,P.statusText);if(ie.ok){const L=await ie.json();f(L.events),L.pagination&&k({currentPage:L.pagination.currentPage,totalPages:L.pagination.totalPages,totalEvents:L.pagination.totalEvents,itemsPerPage:C.itemsPerPage})}}catch($){j("Failed to fetch monitoring data"),console.error($)}finally{p(!1)}};g.useEffect(()=>{T($=>({...$,currentPage:1})),k($=>({...$,currentPage:1})),M($=>({...$,currentPage:1}))},[A]),g.useEffect(()=>{Y()},[A,v.currentPage,v.itemsPerPage,C.currentPage,C.itemsPerPage,N.currentPage,N.itemsPerPage]);const Q=async()=>{try{const $=new URLSearchParams({format:"csv",period:A.period});A.category&&$.append("category",A.category),A.userType&&$.append("userType",A.userType),A.success&&$.append("success",A.success);const O=await ge(`http://localhost:5000/api/monitoring/logs/export?${$}`);if(O.ok){const U=await O.blob(),I=window.URL.createObjectURL(U),le=document.createElement("a");le.style.display="none",le.href=I,le.download=`system_logs_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(le),le.click(),window.URL.revokeObjectURL(I)}}catch($){console.error("Export failed:",$)}},q=$=>new Date($).toLocaleString(),ne=$=>{T(O=>({...O,currentPage:$}))},re=$=>{T(O=>({...O,itemsPerPage:$,currentPage:1}))},B=$=>{k(O=>({...O,currentPage:$}))},ae=$=>{k(O=>({...O,itemsPerPage:$,currentPage:1}))},ce=$=>{M(O=>({...O,currentPage:$}))},J=$=>{M(O=>({...O,itemsPerPage:$,currentPage:1}))};return x?e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(Ss,{}),e.jsx("div",{className:"flex-1 p-8 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-20 mt-10",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map(($,O)=>e.jsx("div",{className:"h-24 bg-gray-200 rounded-lg"},O))})]})})]}):e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(Ss,{}),e.jsxs("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-20 mt-10",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"System Monitoring"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:Y,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[e.jsx(ua,{size:20}),e.jsx("span",{children:"Refresh"})]}),e.jsxs("button",{onClick:Q,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center space-x-2",children:[e.jsx(hb,{size:20}),e.jsx("span",{children:"Export"})]})]})]}),e.jsx(JE,{filters:A,setFilters:D}),e.jsx(KE,{activeTab:w,setActiveTab:E})]}),b&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:b}),w==="overview"&&s&&e.jsx(rT,{stats:s,formatDate:q}),w==="users"&&n&&e.jsxs("div",{children:[e.jsx(nT,{userStats:n,formatDate:q,pagination:N}),!x&&n.activeUsers&&n.activeUsers.length>0&&e.jsx(Wt,{currentPage:N.currentPage,totalPages:N.totalPages,totalItems:N.totalUsers,itemsPerPage:N.itemsPerPage,onPageChange:ce,onItemsPerPageChange:J,rowsPerPageOptions:[5,10,20,50]})]}),w==="logs"&&e.jsx(oT,{logs:c,loading:x,formatDate:q,totalLogs:v.totalLogs,currentPage:v.currentPage,itemsPerPage:v.itemsPerPage,onPageChange:ne,onItemsPerPageChange:re}),w==="security"&&e.jsxs("div",{children:[e.jsx(dT,{securityEvents:m,formatDate:q}),!x&&m.length>0&&e.jsx(Wt,{currentPage:C.currentPage,totalPages:C.totalPages,totalItems:C.totalEvents,itemsPerPage:C.itemsPerPage,onPageChange:B,onItemsPerPageChange:ae,rowsPerPageOptions:[10,20,50,100]})]})]})]})};function mT({profile:s,getGoogleProfilePicture:r,handleImageError:n,getStatusColor:i}){return e.jsx("div",{className:"p-6 rounded-lg border border-gray-200 bg-white shadow-sm h-full",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsxs("div",{className:"relative w-32 h-32 rounded-full overflow-hidden bg-blue-100",children:[e.jsx("img",{src:r(s?.email),alt:"Profile",className:"w-full h-full object-cover",onError:n}),e.jsx("div",{className:"w-full h-full bg-blue-600 flex items-center justify-center",style:{display:"none"},children:e.jsx($s,{size:48,className:"text-white"})}),e.jsx("div",{className:"absolute bottom-0 right-0 bg-white rounded-full p-1 shadow-md",children:e.jsx(db,{size:12,className:"text-gray-500"})})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl font-semibold font-outfit text-gray-800",children:s?.fullName}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:s?.email}),e.jsxs("p",{className:"text-sm text-blue-600 mt-1 font-medium",children:["ID: ",s?.studid]}),e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium mt-3 ${i(s?.status)==="green"?"bg-green-100 text-green-800":i(s?.status)==="yellow"?"bg-yellow-100 text-yellow-800":i(s?.status)==="red"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:s?.status})]}),e.jsx("div",{className:"w-full mt-4 p-3 bg-blue-50 rounded-lg",children:e.jsx("p",{className:"text-xs text-blue-600 text-center",children:" Profile picture from Google Workspace"})})]})})}function hT({profile:s}){return e.jsxs("div",{className:"p-6 rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 font-outfit text-gray-700",children:"Personal Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx($s,{size:20,className:"text-gray-500 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Full Name"}),e.jsx("p",{className:"font-medium text-gray-800",children:s?.fullName||"Not specified"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(nh,{size:20,className:"text-gray-500 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Email Address"}),e.jsx("p",{className:"font-medium text-gray-800",children:s?.email})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(cb,{size:20,className:"text-gray-500 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Student ID"}),e.jsx("p",{className:"font-medium text-gray-800",children:s?.studid||"Not specified"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Qr,{size:20,className:"text-gray-500 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Role"}),e.jsx("p",{className:"font-medium text-gray-800",children:s?.role})]})]})]})]})}function fT({profile:s}){return e.jsxs("div",{className:"p-6 rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 font-outfit text-gray-700",children:"Academic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ns,{size:20,className:"text-gray-500 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"College"}),e.jsx("p",{className:"font-medium text-gray-800",children:s?.college||"Not specified"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(fi,{size:20,className:"text-gray-500 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Course"}),e.jsx("p",{className:"font-medium text-gray-800",children:s?.course||"Not specified"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ft,{size:20,className:"text-gray-500 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Year Level"}),e.jsx("p",{className:"font-medium text-gray-800",children:s?.yearLevel||"Not specified"})]})]})]})]})}function xT({profile:s,formatDate:r}){return e.jsxs("div",{className:"p-6 rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 font-outfit text-gray-700",children:"Account Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ft,{size:20,className:"text-gray-500 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Account Created"}),e.jsx("p",{className:"font-medium text-gray-800",children:r(s?.createdAt)})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(qa,{size:20,className:"text-gray-500 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Account Status"}),e.jsx("p",{className:"font-medium text-gray-800",children:s?.status})]})]})]})]})}function gT({profile:s}){return e.jsxs("div",{className:"p-6 rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 font-outfit text-gray-700",children:"Institution Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ns,{className:"text-blue-600",size:20}),e.jsx("span",{className:"font-medium text-blue-800",children:"Institution"})]}),e.jsx("p",{className:"text-sm text-blue-700",children:"Bukidnon State University"})]}),s?.college&&e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(fi,{className:"text-green-600",size:20}),e.jsx("span",{className:"font-medium text-green-800",children:"College"})]}),e.jsx("p",{className:"text-sm text-green-700",children:s.college})]}),s?.course&&e.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(cb,{className:"text-purple-600",size:20}),e.jsx("span",{className:"font-medium text-purple-800",children:"Course"})]}),e.jsx("p",{className:"text-sm text-purple-700",children:s.course})]}),s?.yearLevel&&e.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ft,{className:"text-orange-600",size:20}),e.jsx("span",{className:"font-medium text-orange-800",children:"Year Level"})]}),e.jsx("p",{className:"text-sm text-orange-700",children:s.yearLevel})]})]})]})}const Vy={"College of Arts and Science":{undergraduate:["Bachelor of Arts in Economics","Bachelor of Arts in English Language","Bachelor of Arts in Philosophy Pre-Law","Bachelor of Arts in Philosophy Teaching Track","Bachelor of Arts in Sociology","Bachelor of Science in Biology Major in Biotechnology","Bachelor of Science in Community Development","Bachelor of Science in Development Communication","Bachelor of Science in Environmental Science major in Environmental Heritage Studies","Bachelor of Science in Mathematics"],postgraduate:["Doctor of Philosophy in English Language","Master of Arts in English Language","Master of Arts in Guidance and Counseling","Master of Arts in Sociology"]},"College of Business":{undergraduate:["Bachelor of Science in Accountancy","Bachelor of Science in Business Administration major in Financial Management","Bachelor of Science in Hospitality Management"],postgraduate:["Master of Business Administration"]},"College of Education":{undergraduate:["Bachelor of Early Childhood Education","Bachelor of Elementary Education","Bachelor of Physical Education","Bachelor of Secondary Education Major in English","Bachelor of Secondary Education Major in Filipino","Bachelor of Secondary Education Major in Mathematics","Bachelor of Secondary Education Major in Science","Bachelor of Secondary Education Major in Social Studies"],postgraduate:["Doctor of Philosophy in Education Major in Instructional Systems Design","Doctor of Philosophy in Educational Administration","Doctor of Philosophy in Science Education Major in Biology","Doctor of Philosophy in Science Education Major in Mathematics","Master of Arts in Education Major in Educational Administration","Master of Arts in Education Major in English Language Teaching","Master of Arts in Education Major in General Science","Master of Arts in Education Major in Mathematics Education"]},"College of Nursing":{undergraduate:["Bachelor of Science in Nursing"],postgraduate:[]},"College of Law":{undergraduate:[],postgraduate:["Juris Doctor"]},"College of Technology":{undergraduate:["Bachelor of Science in Automotive Technology","Bachelor of Science in Electronics Technology","Bachelor of Science in Entertainment and Multimedia Computing Major in Digital Animation Technology","Bachelor of Science in Food Technology","Bachelor of Science in Information Technology"],postgraduate:[]},"College of Public Administration":{undergraduate:["Bachelor of Public Administration"],postgraduate:["Doctor of Public Administration","Master of Public Administration"]}},pT=s=>{const r=Vy[s];return r?[...r.undergraduate,...r.postgraduate].map(i=>({value:i,label:i})):[]};function bT({isOpen:s,onClose:r,editForm:n,setEditForm:i,onSubmit:c,submitting:u}){return s?e.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Edit Profile"}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors cursor-pointer",children:e.jsx(et,{size:20})})]}),e.jsx("form",{onSubmit:c,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",placeholder:"Enter your full name",value:n.fullName,onChange:m=>i({...n,fullName:m.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"College"}),e.jsxs("select",{value:n.college||"",onChange:m=>i({...n,college:m.target.value,course:""}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer",children:[e.jsx("option",{value:"",children:"Select College"}),Object.keys(Vy).map(m=>e.jsx("option",{value:m,children:m},m))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course"}),e.jsxs("select",{value:n.course||"",onChange:m=>i({...n,course:m.target.value}),disabled:!n.college,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 cursor-pointer disabled:cursor-not-allowed",children:[e.jsx("option",{value:"",children:"Select Course"}),pT(n.college||"").map(m=>e.jsx("option",{value:m.value,children:m.label},m.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year Level"}),e.jsxs("select",{value:n.yearLevel,onChange:m=>i({...n,yearLevel:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer",children:[e.jsx("option",{value:"",children:"Select Year Level"}),e.jsx("option",{value:"1st Year",children:"1st Year"}),e.jsx("option",{value:"2nd Year",children:"2nd Year"}),e.jsx("option",{value:"3rd Year",children:"3rd Year"}),e.jsx("option",{value:"4th Year",children:"4th Year"}),e.jsx("option",{value:"5th Year",children:"5th Year"})]})]}),e.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:e.jsx("p",{className:"text-xs text-blue-600",children:" Your student ID and email are managed through your Google Workspace account and cannot be changed here."})}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer",disabled:u,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:u,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2 cursor-pointer disabled:cursor-not-allowed",children:u?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(mb,{size:16}),"Save Changes"]})})]})]})})]})}):null}function yT({alert:s,onClose:r}){return s.show?e.jsxs("div",{className:`p-4 mb-6 rounded-md border flex items-center justify-between ${s.type==="success"?"bg-green-50 border-green-200 text-green-800":s.type==="error"?"bg-red-50 border-red-200 text-red-800":"bg-blue-50 border-blue-200 text-blue-800"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[s.type==="success"?e.jsx(qt,{size:16}):e.jsx(et,{size:16}),e.jsx("span",{children:s.message})]}),e.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 cursor-pointer",children:e.jsx(et,{size:16})})]}):null}function jT({onEditClick:s}){return e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h1",{className:"pt-4 sm:pt-6 md:pt-4 lg:pt-6 font-outfit text-[#1E3A5F] text-2xl sm:text-3xl lg:text-3xl font-bold",children:"Student Profile"}),e.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg font-medium transition-colors",children:[e.jsx(Nr,{size:16}),"Edit Profile"]})]})}function vT(){return e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(It,{}),e.jsx("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 flex justify-center items-center ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-20",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),e.jsx("span",{className:"text-gray-600",children:"Loading profile..."})]})})]})}const NT=s=>s?`https://lh3.googleusercontent.com/a/default-user=s96-c?email=${encodeURIComponent(s)}`:null,wT=s=>{s.target.style.display="none",s.target.nextSibling.style.display="flex"},ST=s=>s?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",CT=s=>{switch(s){case"Approved":return"green";case"Pending":return"yellow";case"Rejected":return"red";default:return"gray"}};function kT(){const[s,r]=g.useState(null),[n,i]=g.useState(!0),[c,u]=g.useState(!1),[m,f]=g.useState({show:!1,type:"",message:""}),[x,p]=g.useState(!1),[b,j]=g.useState({fullName:"",college:"",course:"",yearLevel:""}),w=async()=>{try{const T=await ge("http://localhost:5000/api/student/profile");if(T.ok){const C=await T.json();C.success?(r(C.student),j({fullName:C.student.fullName||"",college:C.student.college||"",course:C.student.course||"",yearLevel:C.student.yearLevel||""})):E("error",C.message||"Failed to fetch profile")}else E("error","Failed to fetch profile")}catch(T){console.error("Error fetching profile:",T),E("error","Network error occurred")}finally{i(!1)}};g.useEffect(()=>{w()},[]);const E=(T,C)=>{f({show:!0,type:T,message:C}),setTimeout(()=>f({show:!1,type:"",message:""}),5e3)},v=async T=>{if(T.preventDefault(),!b.fullName.trim()){E("error","Full name is required");return}p(!0);try{const C=await ge("http://localhost:5000/api/student/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)}),k=await C.json();C.ok&&k.success?(r(k.student),E("success","Profile updated successfully"),u(!1)):E("error",k.message||"Failed to update profile")}catch(C){console.error("Error updating profile:",C),E("error","Network error occurred")}finally{p(!1)}};return n?e.jsx(vT,{}):e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(It,{}),e.jsxs("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-20 mt-10",children:[e.jsx(yT,{alert:m,onClose:()=>f({show:!1,type:"",message:""})}),e.jsx(jT,{onEditClick:()=>u(!0)}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx(mT,{profile:s,getGoogleProfilePicture:NT,handleImageError:wT,getStatusColor:CT})}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx(hT,{profile:s}),e.jsx(fT,{profile:s}),e.jsx(xT,{profile:s,formatDate:ST}),e.jsx(gT,{profile:s})]})]}),e.jsx(bT,{isOpen:c,onClose:()=>u(!1),editForm:b,setEditForm:j,onSubmit:v,submitting:x})]})]})}const Xe=({children:s,role:r})=>{const n=sessionStorage.getItem("sessionToken")||sessionStorage.getItem("accessToken");if(!n)return e.jsx(ui,{to:"/login",replace:!0});try{const i=JSON.parse(atob(n.split(".")[1])),c=i.role||i.userType;return r==="Admin"&&c==="Admin"||r==="student"&&c==="student"||r==="instructor"&&c==="instructor"?s:(console.warn(`Role mismatch: expected ${r}, got ${c}`),e.jsx(ui,{to:"/login",replace:!0}))}catch(i){return console.error("Invalid token:",i),e.jsx(ui,{to:"/login",replace:!0})}},Nm=[{link:"/instructor",label:"Dashboard",icon:lh,type:"single"},{label:"Class Management",icon:ns,type:"dropdown",children:[{link:"/instructor/my-sections",label:"My Sections",icon:Lt},{link:"/instructor/activity-management",label:"Activity Management",icon:Nc},{link:"/instructor/grades",label:"Manage Grades",icon:ah},{link:"/instructor/students",label:"Students",icon:xi}]},{label:"Schedule & Semesters",icon:Ft,type:"dropdown",children:[{link:"/instructor/semester-view",label:"Semester View",icon:ha},{link:"/instructor/schedule",label:"Activity Schedule",icon:vc}]},{link:"/instructor/archive",label:"Archived Management",icon:ft,type:"single"}];function as(){const s=rs(),r=dt(),[n,i]=g.useState(()=>{const N={"Class Management":!1,"Schedule Management":!1};return(s.pathname.startsWith("/instructor/my-sections")||s.pathname.startsWith("/instructor/sections/")||s.pathname.startsWith("/instructor/activity-management")||s.pathname.startsWith("/instructor/grades")||s.pathname.startsWith("/instructor/students"))&&(N["Class Management"]=!0),(s.pathname.startsWith("/instructor/semester-view")||s.pathname.startsWith("/instructor/schedule"))&&(N["Schedule Management"]=!0),N}),[c,u]=g.useState(()=>{const N=[];Nm.forEach(A=>{A.type==="single"?N.push(A):A.type==="dropdown"&&A.children&&N.push(...A.children)}),N.push({link:"/instructor/profile",label:"Profile"});let M=N.find(A=>A.link===s.pathname);return M||(s.pathname.match(/^\/instructor\/sections\/[^/]+\/activities/)?M=N.find(A=>A.link==="/instructor/my-sections"):s.pathname.match(/^\/instructor\/sections\/[^/]+\/activities\/[^/]+\/scores/)&&(M=N.find(A=>A.link==="/instructor/my-sections")),M||(M=N.find(A=>!!(A.link!=="/instructor"&&s.pathname.startsWith(A.link))))),M?M.label:Nm[0].label}),[m]=g.useState(!1),[f,x]=g.useState(!1),[p,b]=g.useState(!1),[j,w]=g.useState({show:!1,message:"",type:""}),E=N=>{i(M=>({...M,[N]:!M[N]}))},v=N=>{u(N.label),r(N.link),x(!1)},T=async()=>{try{const N=localStorage.getItem("token");await fetch("http://localhost:5000/api/logout",{method:"POST",headers:{"Content-Type":"application/json",...N?{Authorization:`Bearer ${N}`}:{}},credentials:"include"}),localStorage.removeItem("token"),sessionStorage.clear(),document.cookie="token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",b(!1),w({show:!0,message:"You have been successfully logged out.",type:"success"}),r("/login")}catch(N){console.error("Logout error:",N),w({show:!0,message:"Logout failed. Please try again.",type:"error"})}},C=N=>{if(N.type==="single")return e.jsxs("a",{className:`flex items-center gap-3 px-4 py-3 text-white/90 no-underline rounded-lg transition-all duration-150 text-sm cursor-pointer hover:bg-white/20 ${c===N.label?"bg-white/30 text-white font-semibold":""}`,href:N.link,onClick:M=>{M.preventDefault(),v(N)},"aria-current":c===N.label?"page":void 0,children:[e.jsx(N.icon,{className:"w-5 h-5 flex-shrink-0",stroke:1.5}),e.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis",children:N.label})]},N.label);if(N.type==="dropdown"){const M=n[N.label];return e.jsxs("div",{children:[e.jsxs("button",{className:"w-full flex items-center justify-between px-4 py-3 text-white/90 rounded-lg transition-all duration-150 text-sm cursor-pointer hover:bg-white/20",onClick:()=>E(N.label),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(N.icon,{className:"w-5 h-5 flex-shrink-0",stroke:1.5}),e.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis",children:N.label})]}),M?e.jsx(Vr,{className:"w-4 h-4 flex-shrink-0",stroke:1.5}):e.jsx(Zr,{className:"w-4 h-4 flex-shrink-0",stroke:1.5})]}),M&&e.jsx("div",{className:"ml-4 mt-1 space-y-1",children:N.children?.map(A=>e.jsxs("a",{className:`flex items-center gap-3 px-4 py-2 text-white/80 no-underline rounded-lg transition-all duration-150 text-sm cursor-pointer hover:bg-white/20 ${c===A.label?"bg-white/30 text-white font-semibold":""}`,href:A.link,onClick:D=>{D.preventDefault(),v(A)},"aria-current":c===A.label?"page":void 0,children:[e.jsx(A.icon,{className:"w-4 h-4 flex-shrink-0",stroke:1.5}),e.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis",children:A.label})]},A.label))})]},N.label)}return null},k=Nm.map(C);return e.jsxs(e.Fragment,{children:[!f&&e.jsx("div",{className:"hidden max-[880px]:block fixed top-3 left-3 z-[2001] rounded-md shadow-sm p-1",style:{backgroundColor:"#091057"},children:e.jsxs("button",{onClick:()=>x(!0),"aria-label":"Open navigation",className:"flex flex-col gap-1 p-2  rounded transition-colors cursor-pointer",children:[e.jsx("div",{className:"w-5 h-0.5 bg-white"}),e.jsx("div",{className:"w-5 h-0.5 bg-white"}),e.jsx("div",{className:"w-5 h-0.5 bg-white"})]})}),e.jsxs("nav",{className:`w-65 min-w-65 flex flex-col justify-between h-screen shadow-lg transition-all duration-200 overflow-hidden p-0 box-border fixed top-0 bottom-0 left-0 z-[1000] max-[880px]:transform max-[880px]:transition-transform max-[880px]:duration-300 max-[880px]:z-[2000] ${m?"w-16 min-w-16":""} ${f?"max-[880px]:translate-x-0":"max-[880px]:-translate-x-full"}`,style:{backgroundColor:"#091057"},"aria-label":"Instructor sidebar",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"px-6 py-8 flex flex-col items-center justify-center border-b border-white/20",style:{backgroundColor:"#091057"},children:[e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("img",{src:jr,alt:"BUKSU Logo",className:"h-20 w-20 object-cover rounded-half  shadow-sm"}),!m&&e.jsx("span",{className:"font-bold text-xl text-white tracking-wide text-center",children:"INSTRUCTOR PANEL"})]}),f?e.jsx("button",{className:"absolute top-4 right-4 p-2 rounded-md hover:bg-white/20 transition-colors",onClick:()=>x(!1),"aria-label":"Close sidebar",children:e.jsx(et,{stroke:1.5,className:"w-5 h-5 text-white"})}):null]}),e.jsx("div",{className:"p-4 flex flex-col gap-2",children:k})]}),e.jsxs("div",{className:"p-4 flex flex-col gap-2 border-t border-white/20",children:[e.jsxs("a",{href:"#",className:`flex items-center gap-3 px-4 py-3 text-white/90 no-underline rounded-lg transition-all duration-150 text-sm cursor-pointer hover:bg-white/20 ${c==="Profile"?"bg-white/30 text-white font-semibold":""}`,onClick:N=>{N.preventDefault(),u("Profile"),r("/instructor/profile"),x(!1)},title:m?"Profile":void 0,children:[e.jsx(ih,{className:"w-5 h-5 flex-shrink-0",stroke:1.5}),!m&&e.jsx("span",{children:"Profile"})]}),e.jsxs("a",{href:"#",className:"flex items-center gap-3 px-4 py-3 text-white/90 no-underline rounded-lg transition-all duration-150 text-sm cursor-pointer hover:bg-white/20",onClick:N=>{N.preventDefault(),b(!0)},title:m?"Logout":void 0,children:[e.jsx(rh,{className:"w-5 h-5 flex-shrink-0",stroke:1.5}),!m&&e.jsx("span",{children:"Logout"})]}),p&&e.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-[9999]",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg max-w-sm w-full",children:[e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx(wi,{className:"w-12 h-12 text-red-600",stroke:1.5})}),e.jsx("h3",{className:"text-xl font-semibold mb-2 text-center",children:"Logout"}),e.jsx("p",{className:"mb-4 text-center",children:"Are you sure you want to log out?"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",onClick:()=>b(!1),children:"Cancel"}),e.jsx("button",{className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",onClick:T,children:"Confirm"})]})]})}),j.show&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[9999]",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg max-w-sm w-full text-center",children:[e.jsx("p",{className:`mb-2 ${j.type==="success"?"text-green-600":"text-red-600"}`,children:j.message}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",onClick:()=>w({show:!1,message:"",type:""}),children:"OK"})]})})]})]}),f&&e.jsx("div",{className:"fixed top-0 left-0 right-0 bottom-0 bg-black/50 z-[1999]",onClick:()=>x(!1)})]})}function Jo({icon:s,title:r,value:n,color:i,bgColor:c}){return e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:r}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:n})]}),e.jsx("div",{className:`p-3 rounded-lg ${c}`,children:e.jsx(s,{className:`w-6 h-6 ${i}`})})]})})}function Br({icon:s,title:r,description:n,action:i,color:c,bgColor:u}){return e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:i,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`p-3 rounded-lg ${u}`,children:e.jsx(s,{className:`w-6 h-6 ${c}`})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:r}),e.jsx("p",{className:"text-sm text-gray-600",children:n})]})]})})}function ET(){return e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"pt-4 sm:pt-6 md:pt-4 lg:pt-6 font-outfit text-[#1E3A5F] text-xl sm:text-2xl lg:text-3xl font-bold",children:"Instructor Dashboard"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Welcome back! Here's an overview of your teaching activities."})]})}function TT({stats:s}){return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(Jo,{icon:fa,title:"Active Sections",value:s.totalSections,color:"text-blue-600",bgColor:"bg-blue-100"}),e.jsx(Jo,{icon:Lt,title:"Total Students",value:s.totalStudents,color:"text-green-600",bgColor:"bg-green-100"}),e.jsx(Jo,{icon:Ct,title:"Subjects Teaching",value:s.totalSubjects,color:"text-purple-600",bgColor:"bg-purple-100"}),e.jsx(Jo,{icon:vc,title:"Upcoming Schedules",value:s.totalSchedules,color:"text-orange-600",bgColor:"bg-orange-100"})]})}function _T(){return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Br,{icon:Lt,title:"My Sections",description:"View and manage your class sections",action:()=>window.location.href="/instructor/my-sections",color:"text-blue-600",bgColor:"bg-blue-100"}),e.jsx(Br,{icon:Nc,title:"Activity Management",description:"Create and manage student activities",action:()=>window.location.href="/instructor/activity-management",color:"text-green-600",bgColor:"bg-green-100"}),e.jsx(Br,{icon:ah,title:"Manage Grades",description:"Input and update student grades",action:()=>window.location.href="/instructor/grades",color:"text-purple-600",bgColor:"bg-purple-100"}),e.jsx(Br,{icon:xi,title:"Students",description:"View and manage student enrollments",action:()=>window.location.href="/instructor/students",color:"text-indigo-600",bgColor:"bg-indigo-100"}),e.jsx(Br,{icon:ha,title:"Semester View",description:"View sections across semesters",action:()=>window.location.href="/instructor/semester-view",color:"text-orange-600",bgColor:"bg-orange-100"}),e.jsx(Br,{icon:vc,title:"Set Schedule",description:"Create and manage class schedules",action:()=>window.location.href="/instructor/schedule",color:"text-teal-600",bgColor:"bg-teal-100"}),e.jsx(Br,{icon:ft,title:"Archived Management",description:"Access archived sections and data",action:()=>window.location.href="/instructor/archive",color:"text-gray-600",bgColor:"bg-gray-100"})]})]})}function AT({sections:s}){return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Sections"}),s.length>0?e.jsx("div",{className:"space-y-4",children:s.map(r=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(fa,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:r.sectionName}),e.jsxs("p",{className:"text-sm text-gray-600",children:[r.subject?.subjectCode," - ",r.schoolYear," ",r.term]})]})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[r.students?.length||0," students"]})]},r._id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(fa,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"No sections created yet"})]})]})}function MT({schedules:s}){const r={class:"bg-blue-50 border-blue-200 text-blue-600",exam:"bg-red-50 border-red-200 text-red-600",quiz:"bg-yellow-50 border-yellow-200 text-yellow-600",meeting:"bg-purple-50 border-purple-200 text-purple-600",event:"bg-green-50 border-green-200 text-green-600"};return e.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Upcoming Schedules"}),s.length>0?e.jsx("div",{className:"space-y-3",children:s.map(n=>{const i=new Date(n.startDateTime),c=new Date(n.endDateTime),u=r[n.eventType]||"bg-gray-50 border-gray-200 text-gray-600";return e.jsxs("div",{className:`flex items-start gap-3 p-4 border rounded-lg ${u}`,children:[e.jsx(ha,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:n.title}),e.jsxs("p",{className:"text-sm text-gray-700 mt-0.5",children:[n.subject?.subjectCode," -"," ",n.section?.sectionName]})]}),e.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-full bg-white/50",children:n.eventType.toUpperCase()})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Cs,{className:"w-4 h-4"}),e.jsxs("span",{children:[i.toLocaleDateString()," ",i.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," - ",c.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),n.location&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ci,{className:"w-4 h-4"}),e.jsx("span",{children:n.location})]})]})]})]},n._id)})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ha,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"No upcoming schedules"}),e.jsx("button",{onClick:()=>window.location.href="/instructor/schedule",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Create Schedule"})]})]})}function DT({message:s}){return s?e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:e.jsx("span",{className:"text-red-700",children:s})}):null}function OT(){return e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(as,{}),e.jsx("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-20 mt-10",children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})})]})}function RT(){const[s,r]=g.useState({totalSections:0,totalStudents:0,totalSubjects:0,totalSchedules:0}),[n,i]=g.useState([]),[c,u]=g.useState([]),[m,f]=g.useState(!0),[x,p]=g.useState("");return g.useEffect(()=>{(async()=>{try{f(!0);const j=await ge("http://localhost:5000/api/instructor/dashboard/stats"),w=await ge("http://localhost:5000/api/instructor/sections"),E=await ge("http://localhost:5000/api/schedule/upcoming?limit=5");if(j.ok){const v=await j.json();r(T=>v.stats||T)}if(w.ok){const v=await w.json();i((v.sections||[]).slice(0,5))}if(E.ok){const v=await E.json();u(v.schedules||[]),r(T=>({...T,totalSchedules:v.count||(v.schedules||[]).length}))}}catch(j){p("Error fetching dashboard data"),console.error(j)}finally{f(!1)}})()},[]),m?e.jsx(OT,{}):e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(as,{}),e.jsxs("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-20 mt-10",children:[e.jsx(ET,{}),e.jsx(DT,{message:x}),e.jsx(TT,{stats:s}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx(_T,{}),e.jsx(AT,{sections:n})]}),e.jsx(MT,{schedules:c})]})]})}function LT({onRefresh:s,loading:r}){return e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"pt-4 sm:pt-6 md:pt-4 lg:pt-6 font-outfit text-[#1E3A5F] text-xl sm:text-2xl lg:text-3xl font-bold",children:"My Assigned Sections"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"View and manage your assigned class sections"})]}),e.jsxs("button",{onClick:s,disabled:r,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 cursor-pointer disabled:cursor-not-allowed",children:[e.jsx(ua,{size:20,className:r?"animate-spin":""}),"Refresh"]})]})}function UT({searchTerm:s,onSearchChange:r,selectedYear:n,onYearChange:i,selectedSemester:c,onSemesterChange:u,academicYears:m,semesters:f}){return e.jsxs("div",{className:"flex flex-wrap items-center justify-between mb-8 gap-5",children:[e.jsx("input",{type:"text",placeholder:"Search Class",value:s,onChange:x=>r(x.target.value),className:"flex-1 max-w-sm px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent"}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Academic Year"}),e.jsx("select",{value:n,onChange:x=>i(x.target.value),className:"min-w-[150px] px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent cursor-pointer",children:m.map(x=>e.jsx("option",{value:x.value,children:x.label},x.value))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Semester"}),e.jsx("select",{value:c,onChange:x=>u(x.target.value),className:"min-w-[150px] px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent cursor-pointer",children:f.map(x=>e.jsx("option",{value:x.value,children:x.label},x.value))})]})]})]})}function zT({message:s}){return s?e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 flex items-center gap-2",children:[e.jsx(ta,{className:"text-red-500",size:20}),e.jsx("span",{className:"text-red-700",children:s})]}):null}function PT(){return e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}function $T({section:s,onClick:r,onArchive:n}){return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer overflow-hidden border border-gray-100",onClick:()=>r(s),children:[e.jsx("div",{className:"h-48 bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:e.jsxs("div",{className:"text-white text-center",children:[e.jsx("div",{className:"text-3xl font-bold mb-2",children:s?.subject?.subjectCode||"SUBJ"}),e.jsx("div",{className:"text-sm opacity-90",children:s.sectionName})]})}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:s?.subject?.subjectName||"Untitled Subject"}),e.jsxs("p",{className:"text-gray-600 font-medium text-sm mb-3",children:[s?.subject?.subjectCode," - ",s.sectionName]}),e.jsxs("div",{className:"space-y-1 mb-4 text-sm",children:[e.jsxs("p",{className:"text-gray-500",children:[s.term," Semester"]}),e.jsxs("p",{className:"text-gray-500",children:["A.Y. ",s.schoolYear]}),s?.subject?.units!=null&&e.jsxs("p",{className:"text-gray-500",children:[s.subject.units," ",s.subject.units===1?"Unit":"Units"]})]}),e.jsx("p",{className:"text-gray-900 font-semibold text-sm",children:s.instructor?.fullName||"Assigned to You"}),e.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:s?.subject?.college||"College"}),Array.isArray(s.students)&&e.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[e.jsx(Lt,{size:14})," ",s.students.length]})]}),e.jsx("button",{onClick:i=>n(s,i),className:"p-2 text-gray-400 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-colors cursor-pointer",title:"Archive Section",children:e.jsx(ft,{size:18})})]})]})]})}function YT({searchTerm:s,selectedYear:r,selectedSemester:n}){const i=s||r!=="all"||n!=="all";return e.jsx("div",{className:"col-span-full text-center py-12",children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-8 shadow-sm",children:[e.jsx(fa,{className:"mx-auto text-gray-300 mb-4",size:48}),e.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:i?"No sections match your filters":"No sections assigned to you yet"}),e.jsx("p",{className:"text-gray-500 mb-2",children:i?"Try adjusting your search or filter selections.":"Contact your admin to get assigned to sections."})]})})}function zp({isOpen:s,onClose:r,title:n,children:i}){return s?e.jsx("div",{className:"fixed inset-0 bg-black/20 bg-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:n}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors cursor-pointer",children:e.jsx(et,{size:20})})]}),i]})}):null}function BT({selectedSection:s,activityForm:r,onFormChange:n,onSubmit:i,onCancel:c,submitting:u,getSubjectName:m}){return e.jsxs("form",{onSubmit:i,className:"space-y-4",children:[s&&e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-4",children:[e.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Section & Subject:"}),e.jsxs("p",{className:"text-sm text-blue-600",children:[e.jsx("strong",{children:"Section:"})," ",s.sectionName]}),e.jsxs("p",{className:"text-sm text-blue-600",children:[e.jsx("strong",{children:"Subject:"})," ",m(s)]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Activity Title *"}),e.jsx("input",{type:"text",value:r.title,onChange:f=>n({...r,title:f.target.value}),placeholder:"e.g., Quiz 1, Assignment 2, Lab Exercise 3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:r.description,onChange:f=>n({...r,description:f.target.value}),placeholder:"Brief description of the activity...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),e.jsx("textarea",{value:r.notes,onChange:f=>n({...r,notes:f.target.value}),placeholder:"Additional notes (optional)...",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Activity Type *"}),e.jsxs("select",{value:r.category,onChange:f=>n({...r,category:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer",required:!0,children:[e.jsx("option",{value:"classStanding",children:"Class Standing"}),e.jsx("option",{value:"laboratory",children:"Laboratory"}),e.jsx("option",{value:"majorOutput",children:"Major Output"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Score *"}),e.jsx("input",{type:"number",value:r.maxScore,onChange:f=>n({...r,maxScore:f.target.value}),placeholder:"100",min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Type *"}),e.jsxs("select",{value:r.eventType,onChange:f=>n({...r,eventType:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer",required:!0,children:[e.jsx("option",{value:"quiz",children:"Quiz"}),e.jsx("option",{value:"laboratory",children:"Laboratory"}),e.jsx("option",{value:"exam",children:"Exam"}),e.jsx("option",{value:"assignment",children:"Assignment"}),e.jsx("option",{value:"project",children:"Project"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),e.jsx("input",{type:"text",value:r.location,onChange:f=>n({...r,location:f.target.value}),placeholder:"e.g., Room 101, Online",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date & Time *"}),e.jsx("input",{type:"datetime-local",value:r.startDateTime,onChange:f=>n({...r,startDateTime:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date & Time *"}),e.jsx("input",{type:"datetime-local",value:r.endDateTime,onChange:f=>n({...r,endDateTime:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:!!r.syncToGoogleCalendar,onChange:f=>n({...r,syncToGoogleCalendar:f.target.checked}),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Sync to Google Calendar"})]}),e.jsx("div",{className:"bg-yellow-50 p-3 rounded-lg",children:e.jsxs("p",{className:"text-sm text-yellow-700",children:[" ",e.jsx("strong",{children:"Note:"})," The activity will be available for all students in this section. A schedule will be automatically created with the provided date/time."]})}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:c,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:u,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:u||!r.title.trim()||!r.startDateTime||!r.endDateTime,className:"flex-1 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:u?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(qt,{size:16}),"Add Activity"]})})]})]})}function HT({selectedSection:s,activities:r,loading:n,activityFilter:i,onFilterChange:c,onAddActivity:u,getSubjectName:m,getCategoryColor:f,getCategoryLabel:x}){const p=r.filter(b=>i==="all"?!0:b.category===i);return e.jsxs("div",{className:"space-y-4",children:[s&&e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-4",children:[e.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Section Information:"}),e.jsxs("p",{className:"text-sm text-blue-600",children:[e.jsx("strong",{children:"Section:"})," ",s.sectionName]}),e.jsxs("p",{className:"text-sm text-blue-600",children:[e.jsx("strong",{children:"Subject:"})," ",m(s)]}),e.jsxs("p",{className:"text-sm text-blue-600",children:[e.jsx("strong",{children:"Students:"})," ",s.students?.length||0," ","enrolled"]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"flex gap-2 bg-gray-100 p-1 rounded-lg",children:[{key:"all",label:"All"},{key:"classStanding",label:"Class Standing"},{key:"laboratory",label:"Laboratory Activities"},{key:"majorOutput",label:"Major Output"}].map(b=>e.jsx("button",{onClick:()=>c(b.key),className:`px-3 py-1.5 text-sm rounded-md transition-colors cursor-pointer ${i===b.key?"bg-white shadow text-gray-900":"text-gray-600 hover:text-gray-900"}`,children:b.label},b.key))}),e.jsxs("button",{onClick:u,className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2 cursor-pointer",children:[e.jsx(vr,{size:16}),"Add Activity"]})]}),n?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):p.length>0?e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:p.map(b=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"flex items-start justify-between mb-2",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-lg mb-1",children:b.title}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f(b.category)}`,children:x(b.category)}),e.jsxs("span",{className:"text-sm text-gray-500",children:["Max Score: ",b.maxScore]})]})]})}),b.description&&e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:b.description}),b.instructions&&e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg mb-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Instructions:"}),e.jsx("p",{className:"text-sm text-gray-600",children:b.instructions})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[b.dueDate&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ft,{size:14}),e.jsxs("span",{children:["Due: ",new Date(b.dueDate).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Cs,{size:14}),e.jsxs("span",{children:["Created:"," ",new Date(b.createdAt).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(gb,{size:14}),e.jsx("span",{children:b.isActive?"Active":"Inactive"})]})]})]},b._id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ah,{className:"mx-auto text-gray-300 mb-4",size:48}),e.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"No activities found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:i==="all"?"This section has no activities yet.":`No ${x(i).toLowerCase()} activities found.`}),e.jsxs("button",{onClick:u,className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2 mx-auto cursor-pointer",children:[e.jsx(vr,{size:16}),"Create First Activity"]})]}),e.jsx("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:e.jsx("button",{onClick:()=>{},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer",children:"Close"})})]})}function qT({isOpen:s,section:r,onClose:n,onConfirm:i,loading:c}){return!s||!r?null:e.jsx("div",{className:"fixed inset-0 bg-black/20 bg-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Archive Section"}),e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 cursor-pointer",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-orange-50 rounded-lg mb-4",children:[e.jsx(ft,{className:"w-8 h-8 text-orange-600 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:r.sectionName}),e.jsxs("p",{className:"text-sm text-gray-600",children:[r.subject?.subjectCode," - ",r.schoolYear," ",r.term]})]})]}),e.jsx("p",{className:"text-gray-600 mb-2",children:"Are you sure you want to archive this section? It will be moved to your archived sections and hidden from the active list."}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Students enrolled: ",r.students?.length||0]}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"You can restore it later from the Archive Management page."})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:n,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer disabled:cursor-not-allowed",disabled:c,children:"Cancel"}),e.jsx("button",{onClick:i,disabled:c,className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 cursor-pointer",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Archiving..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(ft,{size:16}),e.jsx("span",{children:"Archive Section"})]})})]})]})})}function GT(){const s=dt(),r=Ys(),[n,i]=g.useState([]),[c,u]=g.useState(!0),[m,f]=g.useState(""),[x,p]=g.useState(!1),[b,j]=g.useState(!1),[w,E]=g.useState(null),[v,T]=g.useState(!1),[C,k]=g.useState(null),[N,M]=g.useState(""),[A,D]=g.useState("all"),[Y,Q]=g.useState("all"),[q,ne]=g.useState(!1),[re,B]=g.useState(!1),[ae,ce]=g.useState([]),[J,$]=g.useState(!1),[O,U]=g.useState("all"),[I,le]=g.useState({title:"",description:"",notes:"",category:"classStanding",maxScore:100,eventType:"quiz",location:"",startDateTime:"",endDateTime:"",syncToGoogleCalendar:!1});g.useEffect(()=>{_()},[]);const _=async()=>{try{u(!0);const oe=await ge("http://localhost:5000/api/instructor/sections");if(oe.ok){const W=await oe.json();i(W.sections||[]),f("")}else{const W=await oe.json();f(W.message||"Failed to fetch assigned sections")}}catch(oe){console.error("Error fetching assigned sections:",oe),f("Error fetching assigned sections")}finally{u(!1)}},P=g.useMemo(()=>{const oe=new Set((n||[]).map(Ne=>Ne.schoolYear).filter(Boolean)),W=Array.from(oe).sort((Ne,Ce)=>Ne>Ce?-1:1);return[{value:"all",label:"All Years"}].concat(W.map(Ne=>({value:Ne,label:Ne})))},[n]),ie=g.useMemo(()=>[{value:"all",label:"All Semesters"},{value:"1st",label:"1st Semester"},{value:"2nd",label:"2nd Semester"},{value:"Summer",label:"Summer Semester"}],[]),L=g.useMemo(()=>{const oe=N.trim().toLowerCase();return(n||[]).filter(W=>{const Ne=oe?[W.sectionName,W?.subject?.subjectName,W?.subject?.subjectCode].filter(Boolean).some(he=>String(he).toLowerCase().includes(oe)):!0,Ce=A==="all"||W.schoolYear===A,Re=Y==="all"||W.term===Y;return Ne&&Ce&&Re})},[n,N,A,Y]),V=oe=>oe.subject&&typeof oe.subject=="object"?`${oe.subject.subjectCode} - ${oe.subject.subjectName}`:"Unknown Subject",me=oe=>{E(oe),p(!0),le({title:"",description:"",instructions:"",category:"classStanding",maxScore:100,dueDate:""})},xe=oe=>{s(`/instructor/sections/${oe._id}/activities`,{state:{section:oe}})},ke=(oe,W)=>{W.stopPropagation(),k(oe),T(!0)},te=async()=>{if(C)try{B(!0);const oe=await ge(`http://localhost:5000/api/section/${C._id}/archive`,{method:"PUT"});if(oe.ok)r.showSuccess("Section archived successfully!"),T(!1),k(null),await _();else{const W=await oe.json();r.showError(W.message||"Failed to archive section")}}catch(oe){console.error("Error archiving section:",oe),r.showError("Error archiving section")}finally{B(!1)}},K=async oe=>{try{$(!0);const W=await ge(`http://localhost:5000/api/instructor/sections/${oe}/activities`);if(W.ok){const Ne=await W.json();ce(Ne.activities||[])}else{const Ne=await W.json();f(Ne.message||"Failed to fetch activities"),ce([])}}catch(W){console.error("Error fetching activities:",W),f("Error fetching activities"),ce([])}finally{$(!1)}},ve=async oe=>{if(oe.preventDefault(),!w)return;if(!I.startDateTime||!I.endDateTime){r.showError("Start and end date/time are required");return}const W=new Date(I.startDateTime),Ne=new Date(I.endDateTime);if(isNaN(W.getTime())||isNaN(Ne.getTime())){r.showError("Invalid date/time format");return}if(W>=Ne){r.showError("End date/time must be after start date/time");return}try{ne(!0);const Ce=await ge(`http://localhost:5000/api/instructor/subjects/${w.subject._id}/activities`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:I.title,description:I.description,notes:I.notes||"",category:I.category,maxScore:parseInt(I.maxScore),eventType:I.eventType||"quiz",location:I.location||"",startDateTime:I.startDateTime,endDateTime:I.endDateTime,syncToGoogleCalendar:I.syncToGoogleCalendar||!1,sectionId:w._id})});if(Ce.ok)p(!1),r.showSuccess("Activity created successfully!"),le({title:"",description:"",notes:"",category:"classStanding",maxScore:100,eventType:"quiz",location:"",startDateTime:"",endDateTime:"",syncToGoogleCalendar:!1}),b&&await K(w._id);else{const Re=await Ce.json();f(Re.message||"Failed to create activity")}}catch(Ce){f("Error creating activity"),console.error(Ce)}finally{ne(!1)}},se=oe=>{switch(oe){case"classStanding":return"bg-blue-100 text-blue-800";case"laboratory":return"bg-green-100 text-green-800";case"majorOutput":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},je=oe=>{switch(oe){case"classStanding":return"Class Standing";case"laboratory":return"Laboratory";case"majorOutput":return"Major Output";default:return oe}};return e.jsx(Bs,{notifications:r,children:e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(as,{}),e.jsxs("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-20 mt-10",children:[e.jsx(LT,{onRefresh:_,loading:c}),e.jsx(UT,{searchTerm:N,onSearchChange:M,selectedYear:A,onYearChange:D,selectedSemester:Y,onSemesterChange:Q,academicYears:P,semesters:ie}),e.jsx(zT,{message:m}),c?e.jsx(PT,{}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[L.map(oe=>e.jsx($T,{section:oe,onClick:xe,onArchive:ke},oe._id)),L.length===0&&e.jsx(YT,{searchTerm:N,selectedYear:A,selectedSemester:Y})]}),e.jsx(zp,{isOpen:x,onClose:()=>p(!1),title:"Add New Activi ty",children:e.jsx(BT,{selectedSection:w,activityForm:I,onFormChange:le,onSubmit:ve,onCancel:()=>p(!1),submitting:q,getSubjectName:V})}),e.jsx(zp,{isOpen:b,onClose:()=>j(!1),title:"Section Activities",children:e.jsx(HT,{selectedSection:w,activities:ae,loading:J,activityFilter:O,onFilterChange:U,onAddActivity:()=>me(w),getSubjectName:V,getCategoryColor:se,getCategoryLabel:je})}),e.jsx(qT,{isOpen:v,section:C,onClose:()=>{T(!1),k(null)},onConfirm:te,loading:re})]})]})})}function IT({onRefresh:s,onExport:r,onExportFinalGrade:n,loading:i,disabled:c}){return e.jsx("div",{className:"hidden lg:block",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h2",{className:"pt-4 sm:pt-6 md:pt-4 lg:pt-6 font-outfit text-[#1E3A5F] text-xl sm:text-2xl lg:text-3xl font-bold",children:"Grade Management"}),e.jsx("p",{className:"text-gray-600 mt-1 text-sm md:text-base",children:"Manage student grades and generate reports"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:s,disabled:i,className:"flex items-center gap-2 bg-gray-700 text-white px-4 py-2 rounded-lg hover:bg-gray-800 disabled:opacity-50 transition-colors text-sm font-medium cursor-pointer disabled:cursor-not-allowed",children:[i?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):e.jsx(ua,{size:18}),"Refresh"]}),e.jsxs("button",{onClick:n,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors text-sm font-medium cursor-pointer disabled:cursor-not-allowed",disabled:c,children:[e.jsx(cc,{size:18}),"Export Final Grade"]}),e.jsxs("button",{onClick:r,className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors text-sm font-medium cursor-pointer disabled:cursor-not-allowed",disabled:c,children:[e.jsx(cc,{size:18}),"Export to Google Sheets"]})]})]})})}function FT(){return e.jsxs("div",{className:"lg:hidden px-4",children:[e.jsx("h2",{className:"font-outfit text-[#1E3A5F] text-2xl font-bold sm:text-2xl lg:text-4xl",children:"Grade Management"}),e.jsx("p",{className:"text-gray-600 mt-1 text-sm md:text-base",children:"Manage student grades and generate reports"})]})}function VT({onRefresh:s,onExport:r,loading:n,disabled:i}){return e.jsxs("div",{className:"lg:hidden flex flex-col xs:flex-row gap-2",children:[e.jsxs("button",{onClick:s,disabled:n,className:"flex-1 flex items-center justify-center gap-2 bg-gray-700 text-white px-4 py-2 rounded-lg hover:bg-gray-800 disabled:opacity-50 transition-colors text-sm font-medium",children:[n?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):e.jsx(ua,{size:16}),e.jsx("span",{children:"Refresh"})]}),e.jsxs("button",{onClick:r,className:"flex-1 flex items-center justify-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors text-sm font-medium",disabled:i,children:[e.jsx(cc,{size:16}),e.jsx("span",{children:"Export to Sheets"})]})]})}function QT({sections:s,selectedSection:r,onSectionChange:n,filterTerm:i,onFilterChange:c,selectedTerm:u,onTermChange:m}){const f=x=>{const p=x.target.value,b=s.find(j=>j._id===p)||null;n(b)};return e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 sm:p-4 md:p-6 mb-4 sm:mb-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Select Section"}),e.jsxs("select",{value:r?._id||"",onChange:f,className:"w-full px-3 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none bg-white cursor-pointer",children:[e.jsx("option",{value:"",children:"Select a section"}),s.map(x=>e.jsxs("option",{value:x._id,children:[x.subject?.subjectCode," - ",x.sectionName," (",x.schoolYear," ",x.term," Semester)"]},x._id))]})]}),r&&e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Filter by Term"}),e.jsxs("select",{value:u||"",onChange:x=>m(x.target.value),className:"w-full px-3 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none bg-white cursor-pointer",children:[e.jsx("option",{value:"",children:"All Terms"}),e.jsx("option",{value:"Midterm",children:"Mid Term"}),e.jsx("option",{value:"Finalterm",children:"Final Term"})]})]}),r&&e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Search Students"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search by name or student ID...",value:i,onChange:x=>c(x.target.value),className:"w-full px-3 py-2 pl-10 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none"}),e.jsx(Wn,{className:"absolute left-3 top-2.5 text-gray-400",size:16})]})]})]})})}function XT({section:s,studentCount:r}){return e.jsxs("div",{className:"mt-4 p-3 sm:p-4 bg-blue-50 rounded-lg border border-blue-100",children:[e.jsxs("h3",{className:"font-medium text-blue-800 mb-3 text-sm sm:text-base flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),"Section Details"]}),e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2",children:[e.jsx("span",{className:"text-blue-600 font-medium text-xs sm:text-sm whitespace-nowrap",children:"Subject:"}),e.jsxs("span",{className:"text-gray-700 text-xs sm:text-sm break-words",children:[s.subject?.subjectCode," - ",s.subject?.subjectName]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-blue-600 font-medium text-xs sm:text-sm",children:"Section:"}),e.jsx("span",{className:"text-gray-700 text-xs sm:text-sm",children:s.sectionName})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-blue-600 font-medium text-xs sm:text-sm",children:"Students:"}),e.jsx("span",{className:"text-gray-700 text-xs sm:text-sm font-semibold",children:r})]})]}),e.jsx("div",{className:"pt-2 border-t border-blue-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2",children:[e.jsx("span",{className:"text-blue-600 font-medium text-xs sm:text-sm whitespace-nowrap",children:"Grading Schema:"}),e.jsxs("div",{className:"flex flex-wrap gap-1 sm:gap-2 text-xs sm:text-sm text-gray-700",children:[e.jsxs("span",{className:"px-2 py-1 bg-white rounded border",children:["CS: ",s.gradingSchema?.classStanding,"%"]}),e.jsxs("span",{className:"px-2 py-1 bg-white rounded border",children:["Lab: ",s.gradingSchema?.laboratory,"%"]}),e.jsxs("span",{className:"px-2 py-1 bg-white rounded border",children:["MO: ",s.gradingSchema?.majorOutput,"%"]})]})]})})]})]})}const ZT=[{key:"classStanding",label:"Class Standing",shortLabel:"Class Standing"},{key:"laboratory",label:"Laboratory Activity",shortLabel:"Laboratory Activity"},{key:"majorOutput",label:"Major Output",shortLabel:"Major Output"}],wm=[{key:"midtermGrade",label:"Midterm Grade",shortLabel:"Midterm Grade",availableFor:["Midterm"]},{key:"finalTermGrade",label:"Final Term Grade",shortLabel:"Final Term Grade",availableFor:["Finalterm"]},{key:"finalGrade",label:"Final Grade",shortLabel:"Final Grade",availableFor:[""]}];function WT({activeTab:s,onTabChange:r,selectedTerm:n}){const c=(()=>{let u=[];return n==="Midterm"?u=wm.filter(m=>m.key==="midtermGrade"):n==="Finalterm"?u=wm.filter(m=>m.key==="finalTermGrade"):(!n||n==="")&&(u=wm.filter(m=>m.key==="finalGrade")),[...ZT,...u]})();return e.jsx("div",{className:"mb-4 sm:mb-6",children:e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 mb-4",children:e.jsx("div",{className:"-mx-3 px-3 sm:mx-0 sm:px-0 overflow-x-auto",children:e.jsx("div",{className:"flex gap-2 sm:gap-3 w-max sm:w-auto",children:c.map(u=>e.jsxs("button",{onClick:()=>r(u.key),className:["flex-shrink-0 px-3 sm:px-4 py-2 rounded-lg border transition-all duration-200 text-sm sm:text-base font-medium cursor-pointer",s===u.key?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 hover:border-gray-400"].join(" "),children:[e.jsx("span",{className:"xs:hidden",children:u.shortLabel}),e.jsx("span",{className:"hidden xs:inline",children:u.label})]},u.key))})})})})}const JT={classStanding:{bg:"bg-blue-50",line:"text-blue-600",cell:"bg-blue-100",num:"text-blue-700"},laboratory:{bg:"bg-green-50",line:"text-green-600",cell:"bg-green-100",num:"text-green-700"},majorOutput:{bg:"bg-purple-50",line:"text-purple-600",cell:"bg-purple-100",num:"text-purple-700"}};function KT({weight:s}){return e.jsxs("div",{className:"flex-shrink-0 rounded-full px-2 sm:px-3 py-1 text-xs font-semibold bg-gray-900/80 text-white",children:[s,"%"]})}function Yn({category:s,title:r,activities:n,students:i,weight:c,getCategoryAverage:u,getEquivalent:m,getActivityScore:f,showGrades:x=!1,gradeType:p=null,getWeight:b=null}){const j=JT[s],w=v=>{if(!x||!p||!b)return null;b("classStanding");const T=b("laboratory")||0;b("majorOutput");const C=T>0,k=u(v,"classStanding")||0,N=u(v,"laboratory")||0,M=u(v,"majorOutput")||0;let A=0;return C?A=k*.3+N*.3+M*.4:A=k*.6+M*.4,A},E=()=>p==="midterm"?"Midterm Grade":p==="finalTerm"?"Final Term Grade":p==="final"?"Final Grade":"Grade";return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:`p-3 sm:p-4 border-b border-gray-200 ${j.bg}`,children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("h3",{className:"text-sm sm:text-base lg:text-lg font-semibold text-gray-900 truncate",children:[r," Scores"]}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:["Weighted at ",e.jsxs("span",{className:"font-semibold",children:[c,"%"]})," of final grade"]})]}),e.jsx(KT,{weight:c})]})}),e.jsx("div",{className:"hidden lg:block overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 z-10 bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border border-gray-200 px-2 py-2 text-left w-12 text-xs",children:"#"}),e.jsx("th",{className:"border border-gray-200 px-2 py-2 text-left w-24 text-xs",children:"ID"}),e.jsx("th",{className:"border border-gray-200 px-3 py-2 text-left min-w-[180px] text-xs",children:"Name"}),n.map(v=>e.jsxs("th",{className:`border border-gray-200 px-2 py-2 text-center w-20 ${j.cell}`,children:[e.jsx("div",{className:"font-medium truncate text-xs",title:v.title,children:v.title.length>8?v.title.substring(0,8)+"...":v.title}),e.jsxs("div",{className:`text-xs ${j.line}`,children:["/",v.maxScore??100]})]},v._id)),e.jsx("th",{className:`border border-gray-200 px-2 py-2 text-center w-16 ${j.cell} text-xs`,children:"Avg"}),e.jsx("th",{className:`border border-gray-200 px-2 py-2 text-center w-16 ${j.cell} text-xs`,children:"Grade"}),x&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"border border-gray-200 px-2 py-2 text-center w-20 bg-blue-100 text-xs",children:E()}),e.jsx("th",{className:"border border-gray-200 px-2 py-2 text-center w-16 bg-blue-100 text-xs",children:"Equiv"}),e.jsx("th",{className:"border border-gray-200 px-2 py-2 text-center w-16 bg-blue-100 text-xs",children:"Remarks"})]})]})}),e.jsx("tbody",{children:i.map((v,T)=>{const C=u(v,s),k=m(C);return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"border border-gray-200 px-2 py-4 text-center text-xs",children:T+1}),e.jsx("td",{className:"border border-gray-200 px-2 py-4 text-xs truncate",children:v.studid}),e.jsx("td",{className:"border border-gray-200 px-2 py-4 font-medium text-xs",children:v.fullName}),n.map(N=>{const M=f(v,N);return e.jsx("td",{className:"border border-gray-200 px-2 py-4 text-center",children:e.jsx("div",{className:`font-semibold text-xs ${j.num}`,children:Math.round(M)})},`${v._id}-${N._id}`)}),e.jsx("td",{className:`border border-gray-200 px-1 py-4 text-center font-semibold text-xs ${j.cell}`,children:C?`${C.toFixed(1)}%`:"0%"}),e.jsx("td",{className:`border border-gray-200 px-1 py-4 text-center font-semibold text-xs ${j.cell}`,children:s==="laboratory"&&c===0?"0.00":k}),x&&(()=>{const N=w(v),M=N?m(N):"0.00",A=N&&N>=50?"Passed":"Failed";return e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"border border-gray-200 px-1 py-4 text-center font-semibold text-xs bg-blue-50",children:N?`${N.toFixed(1)}%`:"0%"}),e.jsx("td",{className:"border border-gray-200 px-1 py-4 text-center font-semibold text-xs bg-blue-50",children:e.jsx("span",{className:N&&N>=50?"text-green-600":"text-red-600",children:M})}),e.jsx("td",{className:"border border-gray-200 px-1 py-4 text-center text-xs bg-blue-50",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${N&&N>=50?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:A})})]})})()]},v._id)})})]})}),e.jsx("div",{className:"lg:hidden",children:i.length>0?e.jsx("div",{className:"divide-y divide-gray-200",children:i.map((v,T)=>{const C=u(v,s),k=m(C);return e.jsxs("div",{className:"p-3 sm:p-4",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"text-xs text-gray-500",children:["#",T+1,"  ",v.studid]}),e.jsx("div",{className:"font-semibold text-gray-900 text-sm sm:text-base truncate",children:v.fullName})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Average"}),e.jsx("div",{className:"text-sm sm:text-base font-bold text-gray-900",children:C?`${C.toFixed(1)}%`:"0%"}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Grade: ",s==="laboratory"&&c===0?"0.00":k]}),x&&(()=>{const N=w(v),M=N?m(N):"0.00",A=N&&N>=50?"Passed":"Failed";return e.jsxs("div",{className:"mt-2 p-2 bg-blue-50 rounded border",children:[e.jsx("div",{className:"text-xs text-blue-600 font-medium",children:E()}),e.jsx("div",{className:"text-sm font-bold text-blue-900",children:N?`${N.toFixed(1)}%`:"0%"}),e.jsxs("div",{className:"text-xs",children:[e.jsx("span",{className:N&&N>=50?"text-green-600":"text-red-600",children:M}),e.jsx("span",{className:"mx-1",children:""}),e.jsx("span",{className:N&&N>=50?"text-green-600":"text-red-600",children:A})]})]})})()]})]}),e.jsx("div",{className:"grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-3 gap-2",children:n.map(N=>{const M=f(v,N),A=N.maxScore??100;return e.jsxs("div",{className:`rounded-lg border p-2 sm:p-3 ${j.cell}`,children:[e.jsx("div",{className:"text-xs text-gray-600 truncate",title:N.title,children:N.title}),e.jsxs("div",{className:`text-sm font-semibold mt-1 ${j.num}`,children:[Math.round(M),"/",A]})]},`${v._id}-${N._id}`)})})]},v._id)})}):e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(Lt,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),e.jsx("p",{className:"text-sm",children:"No students found"})]})})]})}function e_({filterTerm:s}){return e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Lt,{className:"mx-auto text-gray-300 mb-4",size:48}),e.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:s?"No students match your search":"No students in this section"}),e.jsx("p",{className:"text-gray-500",children:s?"Try adjusting your search terms":"Invite students to this section to start grading"})]})})}function t_({isOpen:s,scheduleForm:r,onScheduleChange:n,onClose:i,onExport:c,loading:u}){return s?e.jsx("div",{className:"fixed inset-0 bg-black/20 bg-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 rounded-t-lg",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Class Schedule Information"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Please provide the class schedule details before exporting to Google Sheets"})]}),e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Day ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:r.day,onChange:m=>n({...r,day:m.target.value}),placeholder:"e.g., MWF, TTH, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent focus:outline-none "})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Time ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:r.time,onChange:m=>n({...r,time:m.target.value}),placeholder:"e.g., 7:30 AM - 10:00 AM",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent focus:outline-none "})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Room ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:r.room,onChange:m=>n({...r,room:m.target.value}),placeholder:"e.g., Lab 3, Room 205, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent focus:outline-none "})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Chairperson ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:r.chairperson,onChange:m=>n({...r,chairperson:m.target.value}),placeholder:"e.g., Dr. Juan Dela Cruz",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent focus:outline-none "})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Dean ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:r.dean,onChange:m=>n({...r,dean:m.target.value}),placeholder:"e.g., Dr. Maria Santos",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent focus:outline-none "})]})]})}),e.jsxs("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 rounded-b-lg flex flex-col-reverse sm:flex-row gap-3 sm:justify-end",children:[e.jsx("button",{onClick:i,disabled:u,className:"w-full sm:w-auto px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:c,disabled:u,className:"w-full sm:w-auto flex items-center justify-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors font-medium",children:u?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Exporting..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(cc,{size:18}),e.jsx("span",{children:"Export to Google Sheets"})]})})]})]})}):null}function Pp(){return e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}function s_(s){const r=g.useRef(s.showError),n=g.useRef(s.showSuccess);return g.useEffect(()=>{r.current=s.showError,n.current=s.showSuccess},[s]),{showErrorRef:r,showSuccessRef:n}}function a_(){const[s,r]=g.useState([]),[n,i]=g.useState(null),[c,u]=g.useState([]),[m,f]=g.useState({}),[x,p]=g.useState({classStanding:[],laboratory:[],majorOutput:[]}),[b,j]=g.useState(!0),[w,E]=g.useState(""),[v,T]=g.useState(""),[C,k]=g.useState("classStanding"),[N,M]=g.useState(!1),[A,D]=g.useState({day:"",time:"",room:"",chairperson:"",dean:""}),Y=Ys(),{showErrorRef:Q,showSuccessRef:q}=s_(Y),ne=(L,V)=>{const me=Array.isArray(L)?L.slice(0,V):[];for(;me.length<V;)me.push(0);return me},re=g.useCallback(async()=>{try{j(!0);const L=await ge("http://localhost:5000/api/instructor/sections");if(!L.ok){const xe=await L.json();return Q.current(xe.message||"Failed to fetch sections")}const me=(await L.json()).sections||[];r(xe=>(xe.length===0&&me.length>0&&i(me[0]),me))}catch(L){Q.current("Error fetching sections"),console.error(L)}finally{j(!1)}},[Q]),B=g.useCallback(async()=>{if(!n?._id)return null;try{const L=await ge(`http://localhost:5000/api/instructor/sections/${n._id}/activities`);if(!L.ok)return null;const me=(await L.json()).activities||[],xe=v?me.filter(te=>te.term===v):me,ke={classStanding:xe.filter(te=>te.category==="classStanding")||[],laboratory:xe.filter(te=>te.category==="laboratory")||[],majorOutput:xe.filter(te=>te.category==="majorOutput")||[]};return p(ke),ke}catch(L){return console.error("Error fetching activities:",L),null}},[n?._id,v]),ae=g.useCallback(async L=>{if(n?._id)try{j(!0);const V=await ge(`http://localhost:5000/api/instructor/sections/${n._id}/students`);if(!V.ok){const oe=await V.json().catch(()=>({}));Q.current(oe.message||"Failed to fetch students");return}const xe=(await V.json()).students||[],ke=[...L?.classStanding||[],...L?.laboratory||[],...L?.majorOutput||[]];if(ke.length===0){u(xe.map(oe=>({...oe,activityScores:[]}))),f({});return}const te=await Promise.allSettled(ke.map(oe=>ge(`http://localhost:5000/api/activityScores/activities/${oe._id}/scores?sectionId=${n._id}`))),K=new Map;let ve=!1;await Promise.all(te.map(async(oe,W)=>{const Ne=ke[W];if(oe.status!=="fulfilled"){ve||(Q.current("Failed to load some activity scores."),ve=!0),K.set(String(Ne._id),[]);return}const Ce=oe.value;if(Ce.ok){const Re=await Ce.json().catch(()=>({rows:[]}));K.set(String(Ne._id),Re.rows||[]);return}if(Ce.status===404){K.set(String(Ne._id),[]);return}if(!ve){ve=!0;try{const Re=await Ce.json();Q.current(Re?.message||"Error loading activity scores.")}catch{Q.current("Error loading activity scores.")}}K.set(String(Ne._id),[])}));const se=xe.map(oe=>{const W=ke.map(Ne=>{const Re=(K.get(String(Ne._id))||[]).find(he=>he.studentId===oe._id);return{activity_id:Ne._id,score:Number(Re?.score||0),maxScore:Number(Re?.maxScore||Ne.maxScore||100)}});return{...oe,activityScores:W}});u(se);const je={};for(const oe of se){const W=oe.grade||{};je[oe._id]={classStandingScores:Array.isArray(W.classStandingScores)?W.classStandingScores:[],classStandingAverage:W.classStanding||0,classStandingEquivalent:W.classStandingEquivalent||0,laboratoryScores:Array.isArray(W.laboratoryScores)?W.laboratoryScores:[],laboratoryAverage:W.laboratory||0,laboratoryEquivalent:W.laboratoryEquivalent||0,majorOutputScores:Array.isArray(W.majorOutputScores)?W.majorOutputScores:[],majorOutputAverage:W.majorOutput||0,majorOutputEquivalent:W.majorOutputEquivalent||0,midtermGrade:W.midtermGrade||0,finalGrade:W.finalGrade||0,remarks:W.remarks||"No Grade"}}f(je)}catch(V){console.error("Error fetching students and grades:",V),Q.current("Error fetching students and grades")}finally{j(!1)}},[n?._id,Q]);g.useEffect(()=>{re()},[re]),g.useEffect(()=>{(async()=>{if(!n?._id)return;const V=await B();V&&await ae(V)})()},[n?._id,v,B,ae]),g.useEffect(()=>{if(!c.length)return;const L=x.classStanding.length||3,V=x.laboratory.length||3,me=x.majorOutput.length||3;f(xe=>{const ke={...xe};for(const te of c){const K=ke[te._id]||{};ke[te._id]={...K,classStandingScores:ne(K.classStandingScores,L),laboratoryScores:ne(K.laboratoryScores,V),majorOutputScores:ne(K.majorOutputScores,me)}}return ke})},[c,x.classStanding.length,x.laboratory.length,x.majorOutput.length]);const ce=g.useRef(null);g.useEffect(()=>(ce.current&&(clearInterval(ce.current),ce.current=null),n?._id&&(ce.current=setInterval(async()=>{const L=await B();L&&await ae(L)},3e4)),()=>ce.current&&clearInterval(ce.current)),[n?._id,B,ae]);const J=g.useCallback(async()=>{try{j(!0),await re();const L=await B();L&&await ae(L),q.current("Data refreshed successfully!")}catch{Q.current("Failed to refresh data")}finally{j(!1)}},[re,B,ae,Q,q]),$=()=>{n&&(D({day:n.schedule?.day||"",time:n.schedule?.time||"",room:n.schedule?.room||"",chairperson:n.chairperson||"",dean:n.dean||""}),M(!0))},O=async()=>{if(!n)return;const L="1kzlYesJutCqHSMa3WEf8sq7CrUoMixXi",V=me=>{if(!me)return`Sheet_${Date.now()}`;const xe=(se,je=[])=>{if(!se)return"";if(typeof se=="string")return se.trim();if(typeof se=="number")return String(se);if(typeof se=="object"){for(const oe of je)if(se[oe])return String(se[oe])}return""},ke=xe(me.subject,["code","subjectCode","subjectName","name"])||xe(me,["subjectCode","subject"])||"",te=xe(me,["sectionCode","code","sectionName","section"])||xe(me,["code","section"])||"",K=xe(me.semester,["term","name"])||xe(me,["term","semester"])||"",ve=[ke,te,K].map(se=>se&&String(se).replace(/\s+/g,"")).filter(Boolean);return ve.length?ve.join("_"):`Section_${me._id}`};if(!A.day||!A.time||!A.room||!A.chairperson||!A.dean){Q.current("Please fill in all schedule information");return}try{console.log("[gradeManagement] export payload preview:",{schedule:{day:A.day,time:A.time,room:A.room},chairperson:A.chairperson,dean:A.dean,parentFolderId:L,sheetName:V(n)}),j(!0),M(!1),q.current("Exporting to Google Sheets...");const me=await ge(`http://localhost:5000/api/export/google-sheets/${n._id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({schedule:{day:A.day,time:A.time,room:A.room},chairperson:A.chairperson,dean:A.dean,parentFolderId:L,sheetName:V(n),term:v||void 0})});if(!me.ok){const ke=await me.json();throw new Error(ke.message||"Failed to export to Google Sheets")}const xe=await me.json();q.current("Successfully exported to Google Sheets!"),xe.spreadsheetUrl&&window.open(xe.spreadsheetUrl,"_blank")}catch(me){console.error("Export error:",me),Q.current(me.message||"Failed to export to Google Sheets")}finally{j(!1)}},U=async()=>{if(!n)return;const L="1kzlYesJutCqHSMa3WEf8sq7CrUoMixXi",V=te=>{if(!te)return`FinalGrade_${Date.now()}`;const K=(W,Ne=[])=>{if(!W)return"";if(typeof W=="string")return W.trim();if(typeof W=="number")return String(W);if(typeof W=="object"){for(const Ce of Ne)if(W[Ce])return String(W[Ce])}return""},ve=K(te.subject,["code","subjectCode","subjectName","name"])||K(te,["subjectCode","subject"])||"",se=K(te,["sectionCode","code","sectionName","section"])||K(te,["code","section"])||"",je=K(te.semester,["term","name"])||K(te,["term","semester"])||"",oe=[ve,se,"FinalGrade",je].map(W=>W&&String(W).replace(/\s+/g,"")).filter(Boolean);return oe.length?oe.join("_"):`FinalGrade_${te._id}`},me={day:n.schedule?.day||"TBA",time:n.schedule?.time||"TBA",room:n.schedule?.room||"TBA"},xe=n.chairperson||"TBA",ke=n.dean||"TBA";try{console.log("[gradeManagement] final grade export payload preview:",{schedule:me,chairperson:xe,dean:ke,parentFolderId:L,sheetName:V(n),term:"Final Grade"}),j(!0),q.current("Exporting Final Grade to Google Sheets...");const te=await ge(`http://localhost:5000/api/export/google-sheets/${n._id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({schedule:me,chairperson:xe,dean:ke,parentFolderId:L,sheetName:V(n),term:"Final Grade"})});if(!te.ok){const ve=await te.json();throw new Error(ve.message||"Failed to export final grade to Google Sheets")}const K=await te.json();q.current("Final Grade successfully exported to Google Sheets!"),K.spreadsheetUrl&&window.open(K.spreadsheetUrl,"_blank")}catch(te){console.error("Final grade export error:",te),Q.current(te.message||"Failed to export final grade to Google Sheets")}finally{j(!1)}},I=L=>{const V=[0,1.1251,1.3751,1.6251,1.8751,2.1251,2.3751,2.6251,2.8751,3.1251,3.3751,3.6251],me=["1.00","1.25","1.50","1.75","2.00","2.25","2.50","2.75","3.00","3.25","3.50","5.00"];if(L===""||L===null||L===void 0||isNaN(Number(L)))return"5.00";const ke=(100-Number(L))/100*4;let te=0;for(let K=0;K<V.length;K++)ke>=V[K]&&(te=K);return me[te]},le=L=>{const V=n?.gradingSchema||{};return L==="classStanding"?V.classStanding??0:L==="laboratory"?V.laboratory??0:V.majorOutput??0},_=(L,V)=>{const me=x?.[V]??[];if(!me.length)return 0;let xe=0,ke=0;return me.forEach(te=>{const K=L.activityScores?.find(je=>String(je.activity_id)===String(te._id))||L.grades?.find(je=>String(je.activity_id)===String(te._id)),ve=Number(K?.score??0),se=Number(K?.maxScore??te?.maxScore??100);xe+=ve,ke+=se}),ke>0?xe/ke*100:0},P=c.filter(L=>L.fullName?.toLowerCase().includes(w.toLowerCase())||L.studid?.toLowerCase().includes(w.toLowerCase())),ie=(L,V)=>{const me=L.activityScores?.find(xe=>String(xe.activity_id)===String(V._id))||L.grades?.find(xe=>String(xe.activity_id)===String(V._id));return Number(me?.score??0)};return b&&!n?e.jsx(Pp,{}):e.jsx(Bs,{notifications:Y,children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"hidden lg:block fixed inset-y-0 left-0 z-50",children:e.jsx(as,{})}),e.jsx("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-20 mt-10",children:e.jsxs("div",{className:"min-h-screen",children:[e.jsx("div",{className:"lg:hidden px-4 py-3",children:e.jsx(as,{})}),e.jsx(FT,{}),e.jsx("div",{className:"p-3 sm:p-4 md:p-6 lg:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsx(IT,{onRefresh:J,onExport:$,onExportFinalGrade:U,loading:b,disabled:!n||!c.length}),e.jsx(VT,{onRefresh:J,onExport:$,loading:b,disabled:!n||!c.length}),e.jsx(QT,{selectedSection:n,sections:s,onSectionChange:L=>{i(L),f({})},filterTerm:w,onFilterChange:E,selectedTerm:v,onTermChange:T}),n&&e.jsx(XT,{section:n,studentCount:c.length}),n&&e.jsxs(e.Fragment,{children:[e.jsx(WT,{activeTab:C,onTabChange:k,selectedTerm:v}),b?e.jsx(Pp,{}):P.length?e.jsxs(e.Fragment,{children:[C==="classStanding"&&e.jsx(Yn,{category:"classStanding",title:"Class Standing",activities:x.classStanding||[],students:P,weight:le("classStanding"),getCategoryAverage:_,getEquivalent:I,getActivityScore:ie}),C==="laboratory"&&e.jsx(Yn,{category:"laboratory",title:"Laboratory Activity",activities:x.laboratory||[],students:P,weight:le("laboratory"),getCategoryAverage:_,getEquivalent:I,getActivityScore:ie}),C==="majorOutput"&&e.jsx(Yn,{category:"majorOutput",title:"Major Output",activities:x.majorOutput||[],students:P,weight:le("majorOutput"),getCategoryAverage:_,getEquivalent:I,getActivityScore:ie}),C==="midtermGrade"&&e.jsx(Yn,{category:"classStanding",title:"Midterm Grade Summary",activities:[],students:P,weight:100,getCategoryAverage:_,getEquivalent:I,getActivityScore:ie,showGrades:!0,gradeType:"midterm",getWeight:le}),C==="finalTermGrade"&&e.jsx(Yn,{category:"laboratory",title:"Final Term Grade Summary",activities:[],students:P,weight:100,getCategoryAverage:_,getEquivalent:I,getActivityScore:ie,showGrades:!0,gradeType:"finalTerm",getWeight:le}),C==="finalGrade"&&e.jsx(Yn,{category:"majorOutput",title:"Final Grade Summary",activities:[],students:P,weight:100,getCategoryAverage:_,getEquivalent:I,getActivityScore:ie,showGrades:!0,gradeType:"final",getWeight:le})]}):e.jsx(e_,{hasFilter:!!w})]})]})})]})}),e.jsx(t_,{isOpen:N,scheduleForm:A,onScheduleChange:D,onClose:()=>M(!1),onExport:O,loading:b})]})})}function r_({onRefresh:s,loading:r}){return e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"pt-4 sm:pt-6 md:pt-4 lg:pt-6 font-outfit text-[#1E3A5F] text-xl sm:text-2xl lg:text-3xl font-bold",children:"Semester Overview"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"View your sections across different semesters"})]}),e.jsxs("button",{onClick:s,disabled:r,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[e.jsx(ua,{size:20,className:r?"animate-spin":""}),"Refresh"]})]})}function n_({message:s}){return s?e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 flex items-center gap-2",children:[e.jsx(ta,{className:"text-red-500",size:20}),e.jsx("span",{className:"text-red-700",children:s})]}):null}function l_(){return e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}function i_({semesters:s,selectedSemester:r,onSelectSemester:n}){return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Available Semesters"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Select a semester to view details"})]}),e.jsx("div",{className:"p-4",children:s.length>0?e.jsx("div",{className:"space-y-3",children:s.map(i=>{const c=r?._id===i._id;return e.jsx("div",{onClick:()=>n(i),className:`p-4 rounded-lg border cursor-pointer transition-all hover:shadow-sm ${c?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:i.schoolYear}),e.jsxs("p",{className:"text-sm text-gray-600",children:[i.term," Semester"]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(Zr,{size:16,className:`transition-transform ${c?"rotate-90":""}`})})]})},i._id)})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ft,{className:"mx-auto text-gray-300 mb-3",size:48}),e.jsx("p",{className:"text-gray-500",children:"No semesters available"})]})})]})}function o_({sections:s}){const r=s.reduce((i,c)=>i+(c.students?.length||0),0),n=new Set(s.map(i=>i.subject?._id)).size;return e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ct,{className:"text-blue-600",size:20}),e.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Sections"})]}),e.jsx("div",{className:"text-2xl font-bold text-blue-900",children:s.length})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Lt,{className:"text-green-600",size:20}),e.jsx("span",{className:"text-sm font-medium text-green-800",children:"Students"})]}),e.jsx("div",{className:"text-2xl font-bold text-green-900",children:r})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ns,{className:"text-purple-600",size:20}),e.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Subjects"})]}),e.jsx("div",{className:"text-2xl font-bold text-purple-900",children:n})]})]})}function c_({section:s,onManageGrades:r,onViewActivities:n}){return e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-gray-300 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900",children:s.sectionName}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.subject?.subjectCode," - ",s.subject?.subjectName]}),s.subject?.isArchived&&e.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 text-xs rounded-full bg-gray-100 text-gray-600",children:"Archived Subject"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[s.students?.length||0," Students"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[s.subject?.units," Units"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-xs text-gray-500",children:["Created: ",new Date(s.createdAt).toLocaleDateString()]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>r(s._id),className:"text-xs bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 transition-colors",children:"Manage Grades"}),e.jsx("button",{onClick:()=>n(s._id),className:"text-xs bg-gray-600 text-white px-3 py-1 rounded hover:bg-gray-700 transition-colors",children:"View Activities"})]})]})]})}function d_({sections:s,onManageGrades:r,onViewActivities:n}){return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Your Sections"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Sections you're teaching in this semester"})]}),e.jsx("div",{className:"p-4",children:s.length>0?e.jsx("div",{className:"space-y-4",children:s.map(i=>e.jsx(c_,{section:i,onManageGrades:r,onViewActivities:n},i._id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ct,{className:"mx-auto text-gray-300 mb-3",size:48}),e.jsx("p",{className:"text-gray-500 mb-2",children:"No sections for this semester"}),e.jsx("p",{className:"text-sm text-gray-400",children:"You haven't been assigned any sections for this semester yet."})]})})]})}function u_({selectedSemester:s,sections:r,onManageGrades:n,onViewActivities:i}){return s?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[s.schoolYear," - ",s.term," Semester"]})}),e.jsx(o_,{sections:r})]}),e.jsx(d_,{sections:r,onManageGrades:n,onViewActivities:i})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ft,{className:"mx-auto text-gray-300 mb-4",size:64}),e.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"Select a Semester"}),e.jsx("p",{className:"text-gray-500",children:"Choose a semester from the list to view your sections and details."})]})})}function m_(){const[s,r]=g.useState([]),[n,i]=g.useState(null),[c,u]=g.useState([]),[m,f]=g.useState(!0),[x,p]=g.useState("");g.useEffect(()=>{b()},[]),g.useEffect(()=>{n&&(async()=>{if(n)try{const v=await ge(`http://localhost:5000/api/instructor/sections?schoolYear=${n.schoolYear}&term=${n.term}&includeArchived=true`);if(v.ok){const T=await v.json();u(T.sections||[])}}catch(v){console.error("Error fetching sections for semester:",v)}})()},[n]);const b=async()=>{try{f(!0);const E=await ge("http://localhost:5000/api/semesters");if(E.ok){const v=await E.json();r(v.semesters||[]),v.semesters&&v.semesters.length>0&&i(v.semesters[0])}else p("Failed to fetch semesters")}catch(E){p("Error fetching semesters"),console.error(E)}finally{f(!1)}},j=E=>{window.location.href=`/instructor/grades?section=${E}`},w=E=>{window.location.href=`/instructor/sections/${E}/activities`};return e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(as,{}),e.jsx("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-20 mt-10",children:m?e.jsx(l_,{}):e.jsxs(e.Fragment,{children:[e.jsx(r_,{onRefresh:b,loading:m}),e.jsx(n_,{message:x}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(i_,{semesters:s,selectedSemester:n,onSelectSemester:i}),e.jsx("div",{className:"lg:col-span-2",children:e.jsx(u_,{selectedSemester:n,sections:c,onManageGrades:j,onViewActivities:w})})]})]})})]})}function h_({show:s,type:r,message:n,onClose:i}){return s?e.jsxs("div",{className:`p-4 mb-6 rounded-md border flex items-center justify-between ${r==="success"?"bg-green-50 border-green-200 text-green-800":r==="error"?"bg-red-50 border-red-200 text-red-800":"bg-blue-50 border-blue-200 text-blue-800"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[r==="success"?e.jsx(qt,{size:16}):e.jsx(et,{size:16}),e.jsx("span",{children:n})]}),e.jsx("button",{onClick:i,className:"text-gray-500 hover:text-gray-700",children:e.jsx(et,{size:16})})]}):null}function f_({onEditClick:s}){return e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h1",{className:"pt-4 sm:pt-6 md:pt-4 lg:pt-6 font-outfit text-[#1E3A5F] text-xl sm:text-2xl lg:text-3xl font-bold",children:"Instructor Profile"}),e.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg font-medium transition-colors",children:[e.jsx(Nr,{size:16}),"Edit Profile"]})]})}const x_=s=>s?`https://lh3.googleusercontent.com/a/default-user=s96-c?email=${encodeURIComponent(s)}`:null,g_=s=>{s.target.style.display="none",s.target.nextSibling.style.display="flex"},$p=s=>{switch(s){case"Active":return"green";case"Inactive":return"red";default:return"gray"}};function p_({profile:s}){return e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"p-6 rounded-lg border border-gray-200 bg-white shadow-sm h-full",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsxs("div",{className:"relative w-32 h-32 rounded-full overflow-hidden bg-blue-100",children:[e.jsx("img",{src:x_(s?.email),alt:"Profile",className:"w-full h-full object-cover",onError:g_}),e.jsx("div",{className:"w-full h-full bg-blue-600 flex items-center justify-center",style:{display:"none"},children:e.jsx($s,{size:48,className:"text-white"})}),e.jsx("div",{className:"absolute bottom-0 right-0 bg-white rounded-full p-1 shadow-md",children:e.jsx(db,{size:12,className:"text-gray-500"})})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl font-semibold font-outfit text-gray-800",children:s?.fullName}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:s?.email}),e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium mt-3 ${$p(s?.status)==="green"?"bg-green-100 text-green-800":$p(s?.status)==="red"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:s?.status})]}),e.jsx("div",{className:"w-full mt-4 p-3 bg-blue-50 rounded-lg",children:e.jsx("p",{className:"text-xs text-blue-600 text-center",children:" Profile picture from Google Workspace"})})]})})})}function b_({profile:s}){return e.jsxs("div",{className:"p-6 rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 font-outfit text-gray-700",children:"Personal Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx($s,{size:20,className:"text-gray-500 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Full Name"}),e.jsx("p",{className:"font-medium text-gray-800",children:s?.fullName||"Not specified"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(nh,{size:20,className:"text-gray-500 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Email Address"}),e.jsx("p",{className:"font-medium text-gray-800",children:s?.email})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ns,{size:20,className:"text-gray-500 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"College"}),e.jsx("p",{className:"font-medium text-gray-800",children:s?.college||"Not specified"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(fi,{size:20,className:"text-gray-500 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Department"}),e.jsx("p",{className:"font-medium text-gray-800",children:s?.department||"Not specified"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Qr,{size:20,className:"text-gray-500 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Role"}),e.jsx("p",{className:"font-medium text-gray-800",children:s?.role})]})]})]})]})}const Yp=s=>s?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never";function y_({profile:s}){return e.jsxs("div",{className:"p-6 rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 font-outfit text-gray-700",children:"Account Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ft,{size:20,className:"text-gray-500 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Account Created"}),e.jsx("p",{className:"font-medium text-gray-800",children:Yp(s?.createdAt)})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(qa,{size:20,className:"text-gray-500 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Last Login"}),e.jsx("p",{className:"font-medium text-gray-800",children:Yp(s?.lastLogin)})]})]})]})]})}function j_({profile:s}){return!s?.college&&!s?.department?null:e.jsxs("div",{className:"p-6 rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 font-outfit text-gray-700",children:"Academic Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ns,{className:"text-blue-600",size:20}),e.jsx("span",{className:"font-medium text-blue-800",children:"Institution"})]}),e.jsx("p",{className:"text-sm text-blue-700",children:"Bukidnon State University"})]}),s?.college&&e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(fi,{className:"text-green-600",size:20}),e.jsx("span",{className:"font-medium text-green-800",children:"College"})]}),e.jsx("p",{className:"text-sm text-green-700",children:s.college})]}),s?.department&&e.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(fi,{className:"text-purple-600",size:20}),e.jsx("span",{className:"font-medium text-purple-800",children:"Department"})]}),e.jsx("p",{className:"text-sm text-purple-700",children:s.department})]})]})]})}const Qy={"College of Arts and Science":{undergraduate:["Economics Department","English Language Department","Philosophy Department","Philosophy (Teaching Track) Department","Sociology Department","Biotechnology / Biology Department","Community Development Department","Development Communication Department","Environmental Science Department","Mathematics Department"],postgraduate:["Graduate Studies - English Department","Graduate Studies - Guidance and Counseling","Graduate Studies - Sociology Department"]},"College of Business":{undergraduate:["Accountancy Department","Business Administration Department","Hospitality Management Department"],postgraduate:["Graduate School of Business / MBA Program"]},"College of Education":{undergraduate:["Early Childhood Education Department","Elementary Education Department","Physical Education Department","Secondary Education - English Department","Secondary Education - Filipino Department","Secondary Education - Mathematics Department","Secondary Education - Science Department","Secondary Education - Social Studies Department"],postgraduate:["Graduate Studies - Educational Administration","Graduate Studies - Instructional Systems Design","Graduate Studies - Science Education (Biology)","Graduate Studies - Science Education (Mathematics)","Graduate Studies - English Language Teaching","Graduate Studies - General Science","Graduate Studies - Mathematics Education"]},"College of Nursing":{undergraduate:["Nursing Department"],postgraduate:[]},"College of Law":{undergraduate:[],postgraduate:["Law Department / Juris Doctor Program"]},"College of Technology":{undergraduate:["Automotive Technology Department","Electronics Technology Department","Entertainment & Multimedia / Digital Animation Department","Food Technology Department","Information Technology Department"],postgraduate:[]},"College of Public Administration":{undergraduate:["Public Administration Department"],postgraduate:["Public Administration - Doctoral Program","Public Administration - Master's Program"]}},v_=s=>{const r=Qy[s];return r?[...r.undergraduate,...r.postgraduate].map(i=>({value:i,label:i})):[]};function N_({isOpen:s,editForm:r,submitting:n,onClose:i,onSubmit:c,onChange:u}){const m=g.useMemo(()=>Object.keys(Qy),[]),f=g.useMemo(()=>v_(r.college||""),[r.college]);return s?e.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Edit Profile"}),e.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-600 transition-colors cursor-pointer",children:e.jsx(et,{size:20})})]}),e.jsx("form",{onSubmit:c,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",placeholder:"Enter your full name",value:r.fullName,onChange:x=>u({...r,fullName:x.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"College"}),e.jsxs("select",{value:r.college||"",onChange:x=>{u({...r,college:x.target.value,department:""})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer",children:[e.jsx("option",{value:"",children:"Select college (or leave blank)"}),m.map(x=>e.jsx("option",{value:x,children:x},x))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),e.jsxs("select",{value:r.department||"",onChange:x=>u({...r,department:x.target.value}),disabled:!r.college,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 cursor-pointer disabled:cursor-not-allowed",children:[e.jsx("option",{value:"",children:"Select department"}),f.map(x=>e.jsx("option",{value:x.value,children:x.label},x.value))]})]}),e.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:e.jsx("p",{className:"text-xs text-blue-600",children:" Your email and profile picture are managed through your Google Workspace account and cannot be changed here."})}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:i,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer",disabled:n,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:n,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2 cursor-pointer disabled:cursor-not-allowed",children:n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(mb,{size:16}),"Save Changes"]})})]})]})})]})}):null}function w_(){return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),e.jsx("span",{className:"text-gray-600",children:"Loading profile..."})]})}function S_(){const[s,r]=g.useState({connected:!1,connectedAt:null,loading:!0}),[n,i]=g.useState(!1),[c,u]=g.useState(!1),[m,f]=g.useState({show:!1,type:"",message:""});g.useEffect(()=>{x();const v=new URLSearchParams(window.location.search).get("googleCalendar");v==="connected"?(p("success","Google Calendar connected successfully!"),window.history.replaceState({},"",window.location.pathname),setTimeout(()=>x(),500)):v==="error"&&(p("error","Failed to connect Google Calendar. Please try again."),window.history.replaceState({},"",window.location.pathname))},[]);const x=async()=>{try{const E=await ge("http://localhost:5000/api/google-calendar/status");if(E.ok){const v=await E.json();r({connected:v.connected,connectedAt:v.connectedAt,loading:!1})}}catch(E){console.error("Error checking connection status:",E),r(v=>({...v,loading:!1}))}},p=(E,v)=>{f({show:!0,type:E,message:v}),setTimeout(()=>f({show:!1,type:"",message:""}),5e3)},b=async()=>{i(!0);try{const E=await ge("http://localhost:5000/api/google-calendar/auth-url");if(E.ok){const v=await E.json();v.success&&v.authUrl&&(window.location.href=v.authUrl)}else p("error","Failed to get authorization URL"),i(!1)}catch(E){console.error("Error connecting Google Calendar:",E),p("error","Failed to connect Google Calendar"),i(!1)}},j=async()=>{if(window.confirm("Are you sure you want to disconnect Google Calendar? This will not delete past synced events, but future schedules won't be synced automatically.")){u(!0);try{(await ge("http://localhost:5000/api/google-calendar/disconnect",{method:"POST"})).ok?(p("success","Google Calendar disconnected successfully"),r({connected:!1,connectedAt:null,loading:!1})):p("error","Failed to disconnect Google Calendar")}catch(E){console.error("Error disconnecting Google Calendar:",E),p("error","Failed to disconnect Google Calendar")}finally{u(!1)}}},w=E=>E?new Date(E).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"";return s.loading?e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(ua,{className:"w-6 h-6 animate-spin text-blue-600"})})}):e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[m.show&&e.jsxs("div",{className:`mb-4 p-4 rounded-lg flex items-start gap-3 ${m.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[e.jsx(ta,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-sm",children:m.message})]}),e.jsx("div",{className:"flex items-start justify-between mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-3 rounded-lg ${s.connected?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600"}`,children:e.jsx(Ft,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Google Calendar Integration"}),e.jsx("div",{className:"flex items-center gap-2 mt-1",children:s.connected?e.jsxs(e.Fragment,{children:[e.jsx(qt,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Connected"})]}):e.jsxs(e.Fragment,{children:[e.jsx(et,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"Not Connected"})]})})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:s.connected?e.jsx(e.Fragment,{children:'Your Google Calendar is connected. When you create schedules with "Sync to Google Calendar" enabled, they will automatically appear in your personal Google Calendar with reminders.'}):e.jsx(e.Fragment,{children:"Connect your Google Calendar to automatically sync your teaching schedules. Events will appear in your personal calendar with automatic reminders."})}),s.connected&&s.connectedAt&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide mb-1",children:"Connected Since"}),e.jsx("p",{className:"text-sm text-gray-900",children:w(s.connectedAt)})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Features:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(qt,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Automatic sync of schedules to your Google Calendar"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(qt,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Email reminders 1 day before events"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(qt,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Pop-up notifications 1 hour before"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(qt,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Color-coded events by type (Quiz, Exam, etc.)"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(qt,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Updates and deletions sync automatically"})]})]})]}),e.jsx("div",{className:"pt-4",children:s.connected?e.jsx("button",{onClick:j,disabled:c,className:"w-full bg-red-600 text-white px-4 py-2.5 rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium flex items-center justify-center gap-2",children:c?e.jsxs(e.Fragment,{children:[e.jsx(ua,{className:"w-4 h-4 animate-spin"}),"Disconnecting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(et,{className:"w-4 h-4"}),"Disconnect Google Calendar"]})}):e.jsx("button",{onClick:b,disabled:n,className:"w-full bg-blue-600 text-white px-4 py-2.5 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium flex items-center justify-center gap-2",children:n?e.jsxs(e.Fragment,{children:[e.jsx(ua,{className:"w-4 h-4 animate-spin"}),"Connecting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ft,{className:"w-4 h-4"}),"Connect Google Calendar"]})})})]})]})}function C_(){const[s,r]=g.useState(null),[n,i]=g.useState(!0),[c,u]=g.useState(!1),[m,f]=g.useState({show:!1,type:"",message:""}),[x,p]=g.useState(!1),[b,j]=g.useState({fullName:"",college:"",department:""}),w=async()=>{try{const T=await ge("http://localhost:5000/api/instructor/profile");if(T.ok){const C=await T.json();C.success?(r(C.instructor),j({fullName:C.instructor.fullName||"",college:C.instructor.college||"",department:C.instructor.department||""})):E("error",C.message||"Failed to fetch profile")}else E("error","Failed to fetch profile")}catch(T){console.error("Error fetching profile:",T),E("error","Network error occurred")}finally{i(!1)}};g.useEffect(()=>{w()},[]);const E=(T,C)=>{f({show:!0,type:T,message:C}),setTimeout(()=>f({show:!1,type:"",message:""}),5e3)},v=async T=>{if(T.preventDefault(),!b.fullName.trim()){E("error","Full name is required");return}p(!0);try{const C=await ge("http://localhost:5000/api/instructor/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)}),k=await C.json();C.ok&&k.success?(r(k.instructor),E("success","Profile updated successfully"),u(!1)):E("error",k.message||"Failed to update profile")}catch(C){console.error("Error updating profile:",C),E("error","Network error occurred")}finally{p(!1)}};return n?e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(as,{}),e.jsx("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 flex justify-center items-center ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-20",children:e.jsx(w_,{})})]}):e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(as,{}),e.jsxs("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-20 mt-10",children:[e.jsx(h_,{show:m.show,type:m.type,message:m.message,onClose:()=>f({show:!1,type:"",message:""})}),e.jsx(f_,{onEditClick:()=>u(!0)}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(p_,{profile:s}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx(b_,{profile:s}),e.jsx(y_,{profile:s}),e.jsx(j_,{profile:s}),e.jsx(S_,{})]})]}),e.jsx(N_,{isOpen:c,editForm:b,submitting:x,onClose:()=>u(!1),onSubmit:v,onChange:j})]})]})}function k_(){return e.jsxs("div",{className:"mb-3 sm:mb-4",children:[e.jsx("h1",{className:"font-outfit text-[#1E3A5F] text-xl sm:text-2xl md:text-3xl lg:text-4xl font-bold mt-2 sm:mt-4 md:mt-6",children:"Students"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Select a section, review students in a table, and add more."})]})}function E_({sections:s,selectedSection:r,onSectionChange:n,onRefresh:i,onAddStudents:c,loading:u,sectionLabel:m}){return e.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl shadow-sm border border-gray-200 p-3 sm:p-4 flex flex-col sm:flex-row sm:items-end gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1.5 sm:mb-2",children:"Section"}),e.jsx("select",{className:"w-full rounded-lg border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-xs sm:text-sm p-2 sm:p-2.5 border truncate focus:outline-none cursor-pointer disabled:cursor-not-allowed",value:r?._id||"",onChange:f=>{const x=s.find(p=>p._id===f.target.value);n(x||null)},disabled:u||s.length===0,children:s.length===0?e.jsx("option",{value:"",children:"No sections"}):s.map(f=>e.jsx("option",{value:f._id,children:m(f)},f._id))})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsxs("button",{onClick:i,disabled:u,className:"inline-flex items-center justify-center gap-1.5 sm:gap-2 px-2.5 sm:px-3 py-2 rounded-lg border text-xs sm:text-sm bg-white hover:bg-gray-50 border-gray-300 disabled:opacity-50 whitespace-nowrap flex-1 sm:flex-initial cursor-pointer disabled:cursor-not-allowed",children:[e.jsx(ua,{className:`h-3.5 w-3.5 sm:h-4 sm:w-4 ${u?"animate-spin":""}`}),e.jsx("span",{className:"hidden xs:inline",children:"Refresh"})]}),e.jsxs("button",{onClick:c,disabled:!r,className:"inline-flex items-center justify-center gap-1.5 sm:gap-2 px-2.5 sm:px-3 py-2 rounded-lg text-xs sm:text-sm bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50 whitespace-nowrap flex-1 sm:flex-initial cursor-pointer disabled:cursor-not-allowed",children:[e.jsx(xw,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),e.jsx("span",{children:"Add Students"})]})]})]})}function T_(){return e.jsx("div",{className:"flex justify-center items-center py-16",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}function Bp({type:s}){return s==="no-sections"?e.jsxs("div",{className:"mt-4 sm:mt-6 bg-white rounded-lg sm:rounded-xl border border-gray-200 p-6 sm:p-8 md:p-10 text-center",children:[e.jsx(Ct,{className:"h-10 w-10 sm:h-12 sm:w-12 text-gray-300 mx-auto mb-2 sm:mb-3"}),e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"No Sections Assigned"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-500 mt-1",children:"You don't have any sections yet."})]}):s==="no-selection"?e.jsxs("div",{className:"mt-4 sm:mt-6 bg-white rounded-lg sm:rounded-xl border border-gray-200 p-6 sm:p-8 md:p-10 text-center",children:[e.jsx(fa,{className:"h-10 w-10 sm:h-12 sm:w-12 text-gray-300 mx-auto mb-2 sm:mb-3"}),e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Choose a section"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-500 mt-1",children:"Use the dropdown above to view students."})]}):null}function __({selectedSection:s,totalStudents:r,filteredStudentsCount:n,searchQuery:i,onSearchChange:c,onClearSearch:u}){return e.jsxs("div",{className:"px-3 sm:px-4 py-3 border-b border-gray-200",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-0 mb-3",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-sm sm:text-base md:text-lg font-semibold text-gray-900 truncate",children:s.sectionName||s.section_name}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 truncate",children:[s.subject?.subjectName||s.subject?.subject_name||"No Subject"," ",""," ",s.term||s.semester?.semester_name||"No Term"," ",s.schoolYear||s.semester?.academic_year||""]})]}),e.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 flex items-center gap-1 flex-shrink-0",children:[e.jsx(Lt,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),i.trim()?`${n} of ${r}`:r]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsxs("div",{className:"flex-1 sm:max-w-xs relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-2.5 sm:pl-3 flex items-center pointer-events-none",children:e.jsx(Wr,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-gray-400"})}),e.jsx("input",{type:"text",placeholder:"Search students...",value:i,onChange:m=>c(m.target.value),className:"w-full pl-8 sm:pl-10 pr-2.5 sm:pr-3 py-1.5 sm:py-2 text-xs sm:text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.trim()&&e.jsx("button",{onClick:u,className:"text-xs sm:text-sm text-gray-500 hover:text-gray-700 whitespace-nowrap",children:"Clear"})]})]})}function A_({students:s,filteredStudents:r,onRemoveStudent:n,onClearSearch:i}){return e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-2 sm:px-4 py-2 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student ID"}),e.jsx("th",{scope:"col",className:"px-2 sm:px-4 py-2 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),e.jsx("th",{scope:"col",className:"hidden md:table-cell px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),e.jsx("th",{scope:"col",className:"px-2 sm:px-4 py-2 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:4,className:"px-3 sm:px-4 py-6 sm:py-8 text-center text-xs sm:text-sm text-gray-500",children:["No students yet. Click"," ",e.jsx("span",{className:"font-medium",children:"Add Students"})," to invite."]})}):r.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:4,className:"px-3 sm:px-4 py-6 sm:py-8 text-center text-xs sm:text-sm text-gray-500",children:["No students match your search criteria."," ",e.jsx("button",{onClick:i,className:"text-blue-600 hover:underline font-medium",children:"Clear search"})]})}):r.map(c=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-2 sm:px-4 py-2 sm:py-3 text-xs sm:text-sm text-gray-600 whitespace-nowrap",children:c.student_id||""}),e.jsx("td",{className:"px-2 sm:px-4 py-2 sm:py-3 text-xs sm:text-sm text-gray-900 font-medium",children:e.jsxs("div",{className:"max-w-[150px] sm:max-w-none",children:[e.jsx("div",{className:"truncate",children:`${c.first_name} ${c.last_name}`.trim()||""}),c.email&&e.jsx("a",{href:`mailto:${c.email}`,className:"md:hidden text-xs text-blue-600 hover:underline truncate block mt-0.5",children:c.email})]})}),e.jsx("td",{className:"hidden md:table-cell px-4 py-3 text-sm",children:c.email?e.jsx("a",{href:`mailto:${c.email}`,className:"text-blue-600 hover:underline",children:c.email}):e.jsx("span",{className:"text-gray-600",children:""})}),e.jsx("td",{className:"px-2 sm:px-4 py-2 sm:py-3 text-xs sm:text-sm",children:e.jsx("button",{onClick:()=>n(c._id),className:"inline-flex items-center px-2 sm:px-3 py-1 bg-red-500 text-white rounded text-xs hover:bg-red-600 whitespace-nowrap",children:"Remove"})})]},c._id))})]})})}function M_({isOpen:s,selectedSection:r,totalStudents:n,searchQuery:i,onSearchChange:c,searchResults:u,isSearching:m,selectedStudents:f,onStudentSelection:x,onInvite:p,onClose:b,submitting:j}){return s?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-3 sm:p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl w-full max-w-2xl shadow-xl max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-start sm:items-center justify-between p-3 sm:p-4 md:p-6 border-b border-gray-200 flex-shrink-0",children:[e.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[e.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-gray-900 truncate",children:"Add Students"}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 mt-1 truncate",children:[r?.sectionName||r?.section_name," "," ",r?.subject?.subjectName||r?.subject?.subject_name]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Current students: ",n]})]}),e.jsx("button",{onClick:b,className:"text-gray-400 hover:text-gray-600 flex-shrink-0 p-1 cursor-pointer",children:e.jsx(et,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),e.jsxs("div",{className:"p-3 sm:p-4 md:p-6 space-y-3 sm:space-y-4 overflow-y-auto flex-1",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Search by name, ID, or email"}),e.jsx("input",{type:"text",value:i,onChange:w=>c(w.target.value),placeholder:"Start typing",className:"w-full px-2.5 sm:px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-xs sm:text-sm"})]}),e.jsx("div",{className:"max-h-40 sm:max-h-48 overflow-y-auto border border-gray-200 rounded-lg",children:i.trim()===""?e.jsxs("div",{className:"p-4 sm:p-6 text-center text-gray-500",children:[e.jsx(Lt,{className:"h-8 w-8 sm:h-10 sm:w-10 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-xs sm:text-sm",children:"Enter a query to find students"})]}):m?e.jsx("div",{className:"p-4 text-center text-xs sm:text-sm text-gray-500",children:"Searching"}):u.length===0?e.jsx("div",{className:"p-4 text-center text-xs sm:text-sm text-gray-500",children:"No students found"}):e.jsx("ul",{className:"divide-y divide-gray-100",children:u.map(w=>e.jsxs("li",{className:"p-2.5 sm:p-3 flex items-center gap-2 sm:gap-3 hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",checked:f.includes(w._id),onChange:()=>x(w._id),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-xs sm:text-sm font-medium text-gray-900 truncate",children:[w.first_name," ",w.last_name]}),e.jsxs("p",{className:"text-xs text-gray-500 truncate",children:[w.student_id,"  ",w.email]})]})]},w._id))})}),f.length>0&&e.jsxs("p",{className:"text-xs sm:text-sm text-blue-600 font-medium",children:[f.length," selected"]}),e.jsx("div",{className:"bg-green-50 p-2.5 sm:p-3 rounded-lg text-xs sm:text-sm text-green-700",children:" Selected students will be added and will receive an email with section details and login instructions."}),e.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-2 pt-2 sm:pt-3 border-t border-gray-200",children:[e.jsx("button",{onClick:b,className:"w-full sm:w-auto px-3 sm:px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 text-xs sm:text-sm cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:p,disabled:f.length===0||j,className:"w-full sm:w-auto px-3 sm:px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 text-xs sm:text-sm cursor-pointer disabled:cursor-not-allowed",children:j?"Adding":`Add ${f.length} student${f.length!==1?"s":""}`})]})]})]})}):null}function D_(){const[s,r]=g.useState([]),[n,i]=g.useState(!0),[c,u]=g.useState(null),[m,f]=g.useState(!1),[x,p]=g.useState(""),[b,j]=g.useState([]),[w,E]=g.useState(!1),[v,T]=g.useState([]),[C,k]=g.useState(!1),[N,M]=g.useState(""),[A,D]=g.useState(1),[Y,Q]=g.useState(10),q=Ys(),{showError:ne,showSuccess:re,showConfirmDialog:B}=q;g.useEffect(()=>{ae({setDefault:!0})},[]),g.useEffect(()=>{const K=setTimeout(()=>{ce(x)},300);return()=>clearTimeout(K)},[x]);const ae=async({keepSelected:K=!1,setDefault:ve=!1}={})=>{try{i(!0);const se=await ge("http://localhost:5000/api/instructor/sections");if(!se.ok){const W=await se.json();ne(W.message||"Failed to fetch sections"),console.error("Sections fetch error:",W),r([]);return}const je=await se.json();console.log("Fetched sections data:",je);const oe=Array.isArray(je.sections)?je.sections:[];if(r(oe),K&&c){const W=oe.find(Ne=>Ne._id===c._id)||null;u(W)}else ve&&!c&&oe.length>0?u(oe[0]):oe.length===0&&u(null)}catch(se){console.error("Error fetching sections",se),ne("Error fetching sections"),r([]),u(null)}finally{i(!1)}},ce=async K=>{if(!K.trim()){j([]);return}try{E(!0);const ve=await ge(`http://localhost:5000/api/instructor/search-students?q=${encodeURIComponent(K)}`);if(ve.ok){const se=await ve.json();j(se.students||[])}else j([])}catch(ve){console.error("Error searching students",ve),j([])}finally{E(!1)}},J=K=>{T(ve=>ve.includes(K)?ve.filter(se=>se!==K):[...ve,K])},$=async()=>{if(!(!c||v.length===0))try{k(!0);const K=await ge(`http://localhost:5000/api/instructor/sections/${c._id}/invite-students`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({studentIds:v})});if(K.ok)re("Students invited successfully!"),f(!1),T([]),p(""),j([]),await ae({keepSelected:!0});else{const ve=await K.json();ne(ve.message||"Failed to invite students")}}catch(K){console.error("Error inviting students",K),ne("Error inviting students")}finally{k(!1)}},O=()=>{c&&(f(!0),T([]),p(""),j([]))},U=K=>{if(!c||!K)return;const ve=I.find(je=>je._id===K),se=ve?`${ve.first_name} ${ve.last_name}`.trim():"this student";B("Remove Student",`Are you sure you want to remove ${se} from this section? This action cannot be undone.`,async()=>{try{const je=await ge(`http://localhost:5000/api/instructor/sections/${c._id}/students/${K}`,{method:"DELETE"});if(je.ok)re("Student removed successfully!"),await ae({keepSelected:!0});else{const oe=await je.json();ne(oe.message||"Failed to remove student")}}catch(je){console.error("Error removing student",je),ne("Error removing student")}})},I=g.useMemo(()=>c?Array.isArray(c.students)?(console.log("Processing students:",c.students),c.students.map(K=>({_id:K._id,first_name:K.fullName?K.fullName.split(" ")[0]:K.first_name||K.firstName||"",last_name:K.fullName?K.fullName.split(" ").slice(1).join(" "):K.last_name||K.lastName||"",student_id:K.studid||K.student_id||K.studentId||"",email:K.email||"",status:K.status||"Active"}))):(console.warn("selectedSection.students is not an array",c.students),[]):[],[c]),le=g.useMemo(()=>{if(!N.trim())return I;const K=N.toLowerCase();return I.filter(ve=>{const se=`${ve.first_name} ${ve.last_name}`.toLowerCase(),je=ve.student_id.toLowerCase(),oe=ve.email.toLowerCase();return se.includes(K)||je.includes(K)||oe.includes(K)})},[I,N]),_=I.length,P=le.length,ie=Math.ceil(le.length/Y),L=(A-1)*Y,V=L+Y,me=le.slice(L,V);g.useEffect(()=>{D(1)},[N,c]);const xe=K=>{D(K)},ke=K=>{Q(K),D(1)},te=K=>{const ve=K.subject?.subjectName||K.subject?.subject_name||"No Subject",se=K.schoolYear||K.semester?.academic_year||"N/A",je=K.term||K.semester?.semester_name||"No Term";return`${K.sectionName||K.section_name}  ${ve}  ${je} ${se}`};return e.jsx(Bs,{notifications:q,children:e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(as,{}),e.jsx("div",{className:"flex-1 p-3 sm:p-4 md:p-6 lg:p-8 max-w-7xl mx-auto ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-16 sm:max-[880px]:pt-20 mt-6 sm:mt-8 md:mt-10",children:e.jsxs("div",{className:"max-w-7xl mx-auto w-full",children:[e.jsx(k_,{}),e.jsx(E_,{sections:s,selectedSection:c,onSectionChange:u,onRefresh:()=>ae({keepSelected:!0}),onAddStudents:O,loading:n,sectionLabel:te}),n?e.jsx(T_,{}):s.length===0?e.jsx(Bp,{type:"no-sections"}):c?e.jsxs("div",{className:"mt-4 sm:mt-6 bg-white rounded-lg sm:rounded-xl border border-gray-200 overflow-hidden",children:[e.jsx(__,{selectedSection:c,totalStudents:_,filteredStudentsCount:P,searchQuery:N,onSearchChange:M,onClearSearch:()=>M("")}),e.jsx(A_,{students:I,filteredStudents:me,onRemoveStudent:U,onClearSearch:()=>M("")}),e.jsx(Wt,{currentPage:A,totalPages:ie,totalItems:le.length,itemsPerPage:Y,onPageChange:xe,onItemsPerPageChange:ke,rowsPerPageOptions:[5,10,25,50]})]}):e.jsx(Bp,{type:"no-selection"})]})}),e.jsx(M_,{isOpen:m,selectedSection:c,totalStudents:_,searchQuery:x,onSearchChange:p,searchResults:b,isSearching:w,selectedStudents:v,onStudentSelection:J,onInvite:$,onClose:()=>f(!1),submitting:C})]})})}function O_({onBack:s,onAddActivity:r,onEditGradingSchema:n}){return e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("button",{onClick:s,className:"inline-flex items-center gap-2 text-sm text-gray-700 hover:text-gray-900 cursor-pointer",children:[e.jsx(Zn,{size:18})," Back"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:n,className:"inline-flex items-center gap-2 rounded-md bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700 cursor-pointer",children:"Edit Grading Schema"}),e.jsxs("button",{onClick:r,className:"inline-flex items-center gap-2 rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 cursor-pointer",children:[e.jsx(vr,{size:16})," Add Activity"]})]})]})}function R_({section:s}){return e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:s?`${s?.subject?.subjectCode||""} ${s?.subject?.subjectName||""}  ${s?.sectionName||""}`:"Activities"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage activities by category."})]})}const L_=[{key:"all",label:"All"},{key:"classStanding",label:"Class Standing"},{key:"laboratory",label:"Laboratory Activities"},{key:"majorOutput",label:"Major Output"}],U_=[{key:"all",label:"All Terms"},{key:"Midterm",label:"Midterm"},{key:"Finalterm",label:"Finalterm"},{key:"Summer",label:"Summer"}];function z_({activeTab:s,onTabChange:r,activeTerm:n,onTermChange:i}){return e.jsxs("div",{className:"mt-4 sm:mt-6 flex flex-col gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-600 whitespace-nowrap",children:"Term:"}),e.jsx("select",{value:n||"all",onChange:c=>i(c.target.value),className:"flex-1 sm:flex-none sm:w-auto px-2.5 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-medium rounded-md border border-gray-300 bg-white text-gray-700 hover:border-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-colors cursor-pointer",children:U_.map(c=>e.jsx("option",{value:c.key,children:c.label},c.key))})]}),e.jsx("div",{className:"flex gap-1 sm:gap-2 bg-white p-1 sm:p-1.5 rounded-md border border-gray-300 overflow-x-auto scrollbar-hide",children:e.jsx("div",{className:"flex gap-1 sm:gap-2 min-w-max",children:L_.map(c=>e.jsx("button",{onClick:()=>r(c.key),className:`px-2.5 sm:px-4 py-1.5 sm:py-2 text-[10px] sm:text-sm font-medium rounded transition-colors duration-200 whitespace-nowrap cursor-pointer ${s===c.key?"bg-gray-200 text-blue-600":"text-gray-600 hover:text-blue-600 hover:bg-gray-100"}`,children:c.label},c.key))})})]})}const P_=s=>s==="classStanding"?"bg-blue-100 text-blue-800":s==="laboratory"?"bg-green-100 text-green-800":s==="majorOutput"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800",$_=s=>{switch(s){case"classStanding":return"Class Standing";case"laboratory":return"Laboratory";case"majorOutput":return"Major Output";default:return s}};function Y_({activity:s,onEdit:r,onDelete:n,onClick:i}){return e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-sm transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("button",{onClick:()=>i(s),className:"flex-1 text-left cursor-pointer",title:"Open scores",children:[e.jsx("h3",{className:"font-semibold text-gray-900 underline-offset-2 hover:underline",children:s.title}),e.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${P_(s.category)}`,children:$_(s.category)}),s.term&&e.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:s.term}),e.jsxs("span",{className:"text-xs text-gray-500",children:["Max: ",s.maxScore]})]}),s.description&&e.jsx("p",{className:"mt-2 text-sm text-gray-700",children:s.description}),e.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-gray-500",children:e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx(Cs,{size:14})," Created:"," ",new Date(s.createdAt).toLocaleDateString()]})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:c=>{c.stopPropagation(),r(s)},className:"inline-flex items-center gap-1 px-3 py-1.5 text-xs rounded bg-gray-100 hover:bg-gray-200 cursor-pointer",children:[e.jsx(V2,{size:14})," Edit"]}),e.jsxs("button",{onClick:c=>{c.stopPropagation(),n(s._id)},className:"inline-flex items-center gap-1 px-3 py-1.5 text-xs rounded bg-red-600 text-white hover:bg-red-700 cursor-pointer",children:[e.jsx(wc,{size:14})," Delete"]})]})]})})}function B_({isOpen:s,isEdit:r,form:n,saving:i,onClose:c,onSubmit:u,onChange:m}){return s?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-xl mx-4 max-h-[80vh] overflow-y-auto",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:r?"Edit Activity":"Add Activity"}),e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 ",children:["Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:n.title,onChange:f=>m({...n,title:f.target.value}),required:!0,placeholder:r?"":"e.g., Quiz 1, Lab Exercise 2",className:"w-full px-3 py-2 rounded focus:ring-2 focus:ring-blue-600 focus:border-transparent focus:outline-none border border-gray-300 "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (optional)"}),e.jsx("textarea",{rows:3,value:n.description,onChange:f=>m({...n,description:f.target.value}),className:"w-full px-3 py-2 rounded focus:ring-2 focus:ring-blue-600 focus:border-transparent focus:outline-none border border-gray-300",placeholder:r?"":"Brief details or instructions"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (optional)"}),e.jsx("textarea",{rows:2,value:n.notes||"",onChange:f=>m({...n,notes:f.target.value}),placeholder:r?"":"Additional notes (optional)",className:"w-full px-3 py-2 rounded focus:ring-2 focus:ring-blue-600 focus:border-transparent focus:outline-none border border-gray-300"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Term ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"term",value:n.term||"Midterm",onChange:f=>m({...n,term:f.target.value}),required:!0,className:"w-full px-3 py-2 rounded focus:ring-2 focus:ring-blue-600 focus:border-transparent focus:outline-none border border-gray-300 cursor-pointer",children:[e.jsx("option",{value:"Midterm",children:"Mid Term"}),e.jsx("option",{value:"Finalterm",children:"Final Term"}),e.jsx("option",{value:"Summer",children:"Summer"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Category ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:n.category,onChange:f=>m({...n,category:f.target.value}),className:"w-full px-3 py-2  rounded focus:ring-2 focus:ring-blue-600 focus:border-transparent focus:outline-none border border-gray-300 cursor-pointer",children:[e.jsx("option",{value:"classStanding",children:"Class Standing"}),e.jsx("option",{value:"laboratory",children:"Laboratory"}),e.jsx("option",{value:"majorOutput",children:"Major Output"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Max Score ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",min:1,value:n.maxScore,onChange:f=>m({...n,maxScore:f.target.value}),className:"w-full px-3 py-2  rounded focus:ring-2 focus:ring-blue-600 focus:border-transparent focus:outline-none border border-gray-300"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-2",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Event Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:n.eventType||"quiz",onChange:f=>m({...n,eventType:f.target.value}),required:!0,className:"w-full px-3 py-2 rounded focus:ring-2 focus:ring-blue-600 focus:border-transparent focus:outline-none border border-gray-300 cursor-pointer",children:[e.jsx("option",{value:"quiz",children:"Quiz"}),e.jsx("option",{value:"laboratory",children:"Laboratory"}),e.jsx("option",{value:"exam",children:"Exam"}),e.jsx("option",{value:"assignment",children:"Assignment"}),e.jsx("option",{value:"project",children:"Project"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),e.jsx("input",{type:"text",value:n.location||"",onChange:f=>m({...n,location:f.target.value}),placeholder:"e.g., Room 101, Online",className:"w-full px-3 py-2 rounded focus:ring-2 focus:ring-blue-600 focus:border-transparent focus:outline-none border border-gray-300"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-2",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Start Date & Time ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"datetime-local",value:n.startDateTime||"",onChange:f=>m({...n,startDateTime:f.target.value}),required:!0,className:"w-full px-3 py-2 rounded focus:ring-2 focus:ring-blue-600 focus:border-transparent focus:outline-none border border-gray-300"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["End Date & Time ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"datetime-local",value:n.endDateTime||"",onChange:f=>m({...n,endDateTime:f.target.value}),required:!0,className:"w-full px-3 py-2 rounded focus:ring-2 focus:ring-blue-600 focus:border-transparent focus:outline-none border border-gray-300"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:!!n.syncToGoogleCalendar,onChange:f=>m({...n,syncToGoogleCalendar:f.target.checked}),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Sync to Google Calendar"})]}),e.jsxs("div",{className:"mt-2 flex gap-2",children:[e.jsx("button",{type:"button",onClick:c,className:"flex-1 px-4 py-2 rounded focus:ring-blue-600 focus:border-transparent focus:outline-none border border-gray-300 cursor-pointer disabled:cursor-not-allowed",disabled:i,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:i||!n.title.trim()||!n.startDateTime||!n.endDateTime,className:"flex-1 px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",children:i?"Saving...":r?"Update":"Create"})]})]})]})}):null}function H_({isOpen:s,onClose:r,section:n,onSubmit:i,submitting:c}){const[u,m]=g.useState({classStanding:40,laboratory:30,majorOutput:30});g.useEffect(()=>{n?.gradingSchema&&m({classStanding:n.gradingSchema.classStanding||40,laboratory:n.gradingSchema.laboratory||30,majorOutput:n.gradingSchema.majorOutput||30})},[n]);const f=b=>{const{name:j,value:w}=b.target,E=parseInt(w,10)||0;m(v=>({...v,[j]:E}))},x=b=>{b.preventDefault(),u.classStanding+u.laboratory+u.majorOutput===100&&i(u)},p=u.classStanding+u.laboratory+u.majorOutput;return s?e.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Edit Grading Schema"}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(et,{size:20})})]}),e.jsx("div",{className:"p-6",children:e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Semester *"}),e.jsx("select",{value:n?`${n.schoolYear} - ${n.term} Semester`:"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-500 cursor-not-allowed focus:outline-none",children:e.jsx("option",{value:n?`${n.schoolYear} - ${n.term} Semester`:"",children:n?`${n.schoolYear} - ${n.term} Semester`:"Select Semester"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),e.jsx("select",{value:n?.subject?`${n.subject.subjectCode} - ${n.subject.subjectName} (${n.subject.units} units)`:"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-500 cursor-not-allowed focus:outline-none",children:e.jsx("option",{value:n?.subject?`${n.subject.subjectCode} - ${n.subject.subjectName} (${n.subject.units} units)`:"",children:n?.subject?`${n.subject.subjectCode} - ${n.subject.subjectName} (${n.subject.units} units)`:"Select Subject"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instructor *"}),e.jsx("select",{value:n?.instructor?`${n.instructor.fullName} - ${n.instructor.email}`:"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-500 cursor-not-allowed focus:outline-none",children:e.jsx("option",{value:n?.instructor?`${n.instructor.fullName} - ${n.instructor.email}`:"",children:n?.instructor?`${n.instructor.fullName} - ${n.instructor.email}`:"Select Instructor"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section Code *"}),e.jsx("input",{type:"text",value:n?.sectionName||"",disabled:!0,placeholder:"e.g., BSCS 1A, BSIT 2B",className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-500 cursor-not-allowed focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grading Schema (Percentages - must total 100%)"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Class Standing"}),e.jsx("input",{type:"number",name:"classStanding",min:"0",max:"100",value:u.classStanding,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Laboratory"}),e.jsx("input",{type:"number",name:"laboratory",min:"0",max:"100",value:u.laboratory,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Major Output"}),e.jsx("input",{type:"number",name:"majorOutput",min:"0",max:"100",value:u.majorOutput,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none"})]})]}),e.jsxs("p",{className:`text-xs mt-1 ${p===100?"text-green-600":"text-orange-600"}`,children:["Total: ",p,"%"]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:c,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:c||p!==100,className:"flex-1 bg-blue-600 text-white px-4 py-2 sm:py-2.5 rounded-lg hover:bg-blue-700 active:bg-blue-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm sm:text-base font-medium shadow-sm hover:shadow-md touch-manipulation",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Updating..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(qt,{size:16,className:"flex-shrink-0"}),e.jsx("span",{children:"Update"})]})})]})]})})]})}):null}function q_(){const{sectionId:s}=vi(),{state:r}=rs(),n=dt(),[i,c]=g.useState(r?.section||null),[u,m]=g.useState([]),[f,x]=g.useState(!0),[p,b]=g.useState(!1),[j,w]=g.useState(""),[E,v]=g.useState("all"),[T,C]=g.useState("all"),[k,N]=g.useState(1),[M,A]=g.useState(5),[D,Y]=g.useState(!1),[Q,q]=g.useState(!1),[ne,re]=g.useState(!1),[B,ae]=g.useState(null),[ce,J]=g.useState({title:"",description:"",notes:"",category:"classStanding",maxScore:100,term:"Midterm",eventType:"quiz",location:"",startDateTime:"",endDateTime:"",syncToGoogleCalendar:!1}),$=Ys(),{showError:O,showSuccess:U,showConfirmDialog:I}=$;g.useEffect(()=>{(async()=>{try{if(x(!0),!i){const Ce=await ge("http://localhost:5000/api/instructor/sections"),Re=await Ce.json();if(!Ce.ok)throw new Error(Re?.message||"Failed to fetch sections");const he=(Re.sections||[]).find(ye=>String(ye._id)===String(s));c(he||null)}const W=await ge(`http://localhost:5000/api/instructor/sections/${s}/activities`),Ne=await W.json();if(!W.ok)throw new Error(Ne?.message||"Failed to fetch activities");m(Ne.activities||[]),w("")}catch(W){console.error(W),w(W.message||"Error loading activities"),O(W.message||"Error loading activities")}finally{x(!1)}})()},[s]);const le=g.useMemo(()=>{let W=u;return E!=="all"&&(W=W.filter(Ne=>Ne.category===E)),T!=="all"&&(W=W.filter(Ne=>Ne.term===T)),W},[u,E,T]);g.useEffect(()=>{N(1)},[E,T]);const _=Math.ceil(le.length/M),P=(k-1)*M,ie=P+M,L=le.slice(P,ie),V=W=>N(W),me=W=>{A(W),N(1)},xe=()=>{ae(null),J({title:"",description:"",notes:"",category:"classStanding",maxScore:100,term:"Midterm",eventType:"quiz",location:"",startDateTime:"",endDateTime:"",syncToGoogleCalendar:!1}),Y(!0)},ke=()=>{q(!0)},te=W=>{ae(W._id);const Ne=Ce=>{if(!Ce)return"";const Re=new Date(Ce);return isNaN(Re.getTime())?"":Re.toISOString().slice(0,16)};J({title:W.title||"",description:W.description||"",notes:W.notes||"",category:W.category||"classStanding",maxScore:W.maxScore||100,term:W.term||"Midterm",eventType:W.eventType||"quiz",location:W.location||"",startDateTime:Ne(W.startDateTime),endDateTime:Ne(W.endDateTime),syncToGoogleCalendar:W.syncToGoogleCalendar||!1}),Y(!0)},K=async W=>{if(W.preventDefault(),!i)return;if(!ce.startDateTime||!ce.endDateTime){O("Start date/time and end date/time are required");return}const Ne=new Date(ce.startDateTime),Ce=new Date(ce.endDateTime);if(isNaN(Ne.getTime())||isNaN(Ce.getTime())){O("Invalid date/time format");return}if(Ne>=Ce){O("End date/time must be after start date/time");return}try{if(b(!0),B){const ye=await ge(`http://localhost:5000/api/instructor/activities/${B}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...ce,maxScore:Number(ce.maxScore)})});if(!ye.ok){const tt=await ye.json();throw new Error(tt?.message||"Failed to update activity")}}else{const ye=await ge(`http://localhost:5000/api/instructor/subjects/${i?.subject?._id}/activities`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...ce,maxScore:Number(ce.maxScore),sectionId:s})});if(!ye.ok){const tt=await ye.json();throw new Error(tt?.message||"Failed to create activity")}}const he=await(await ge(`http://localhost:5000/api/instructor/sections/${s}/activities`)).json();m(he.activities||[]),Y(!1)}catch(Re){console.error(Re),O(Re.message||"Save failed")}finally{b(!1)}},ve=async W=>{I("Delete Activity","Are you sure you want to delete this activity? This action cannot be undone.",async()=>{try{const Ne=await ge(`http://localhost:5000/api/instructor/activities/${W}`,{method:"DELETE"});if(!Ne.ok){const Ce=await Ne.json();throw new Error(Ce?.message||"Failed to delete")}m(Ce=>Ce.filter(Re=>Re._id!==W)),U("Activity deleted")}catch(Ne){console.error(Ne),O(Ne.message||"Delete failed")}})},se=W=>{n(`/instructor/sections/${s}/activities/${W._id}/scores`,{state:{section:i,activity:W}})},je=async W=>{if(W.classStanding+W.laboratory+W.majorOutput!==100){O("Grading schema percentages must total 100%");return}try{re(!0);const Ce=await ge(`http://localhost:5000/api/instructor/sections/${s}/grading-schema`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({gradingSchema:W})});if(!Ce.ok){const he=await Ce.json();throw new Error(he?.message||"Failed to update grading schema")}const Re=await Ce.json();c(he=>({...he,gradingSchema:W})),q(!1),U(Re.message||"Grading schema updated successfully!")}catch(Ce){console.error(Ce),O(Ce.message||"Failed to update grading schema")}finally{re(!1)}},oe=()=>{r?.fromArchive?n("/instructor/archive"):n(-1)};return e.jsx(Bs,{notifications:$,children:e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(as,{}),e.jsxs("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-20 mt-10",children:[e.jsx(O_,{onBack:oe,onAddActivity:xe,onEditGradingSchema:ke}),e.jsx(R_,{section:i}),e.jsx(z_,{activeTab:E,onTabChange:v,activeTerm:T,onTermChange:C}),e.jsxs("div",{className:"mt-4",children:[j&&e.jsx("div",{className:"mb-3 text-sm text-red-600",children:j}),f?e.jsx("div",{className:"flex justify-center py-10",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):le.length===0?e.jsx("div",{className:"text-gray-500 text-sm py-10 text-center",children:"No activities found."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-3",children:L.map(W=>e.jsx(Y_,{activity:W,onEdit:te,onDelete:ve,onClick:se},W._id))}),le.length>0&&e.jsx(Wt,{currentPage:k,totalPages:_,totalItems:le.length,itemsPerPage:M,onPageChange:V,onItemsPerPageChange:me,rowsPerPageOptions:[5,10,15,20,30,50]})]})]}),e.jsx(B_,{isOpen:D,isEdit:!!B,form:ce,saving:p,onClose:()=>Y(!1),onSubmit:K,onChange:J}),e.jsx(H_,{isOpen:Q,onClose:()=>q(!1),section:i,onSubmit:je,submitting:ne})]})]})})}function G_({activity:s,section:r,onBack:n,onUploadAll:i,isUploadingAll:c}){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-6 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:e.jsxs("button",{onClick:n,className:"mt-9 inline-flex items-center gap-2 text-sm text-gray-700 hover:text-gray-900",children:[e.jsx(Zn,{size:18})," Back"]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:s?`${s.title}  Max ${s.maxScore}`:"Activity Scores"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r?.sectionName})]}),e.jsxs("button",{onClick:i,disabled:c,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 disabled:opacity-60 cursor-pointer transition-colors",children:[e.jsx(dw,{size:18}),c?"Uploading...":"Upload All Scores"]})]})]})}function I_({error:s}){return s?e.jsx("div",{className:"mt-4 text-sm text-red-700 bg-red-50 border border-red-200 rounded-md p-3",children:s}):null}function F_(){return e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})})}function V_({rows:s,max:r,rowStatus:n,onScoreChange:i,onUpload:c}){return s.length===0?e.jsx("div",{className:"mt-6 hidden lg:block",children:e.jsx("div",{className:"overflow-x-auto bg-white rounded-xl border border-gray-200",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 sticky top-0 z-10",children:e.jsxs("tr",{className:"text-left text-gray-600",children:[e.jsx("th",{className:"px-5 py-3 font-semibold",children:"ID"}),e.jsx("th",{className:"px-5 py-3 font-semibold",children:"NAME"}),e.jsx("th",{className:"px-5 py-3 font-semibold",children:"SCORE"}),e.jsx("th",{className:"px-5 py-3 font-semibold hidden xl:table-cell",children:"PERCENTAGE"}),e.jsx("th",{className:"px-5 py-3 font-semibold hidden xl:table-cell",children:"RECORDED"}),e.jsx("th",{className:"px-5 py-3 font-semibold text-right",children:"ACTIONS"})]})}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-5 py-8 text-center text-gray-500",children:"No students in this section."})})})]})})}):e.jsx("div",{className:"mt-6 hidden lg:block",children:e.jsx("div",{className:"overflow-x-auto bg-white rounded-xl border border-gray-200",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 sticky top-0 z-10",children:e.jsxs("tr",{className:"text-left text-gray-600",children:[e.jsx("th",{className:"px-5 py-3 font-semibold",children:"ID"}),e.jsx("th",{className:"px-5 py-3 font-semibold",children:"NAME"}),e.jsx("th",{className:"px-5 py-3 font-semibold",children:"SCORE"}),e.jsx("th",{className:"px-5 py-3 font-semibold hidden lg:table-cell",children:"PERCENTAGE"}),e.jsx("th",{className:"px-5 py-3 font-semibold hidden xl:table-cell",children:"RECORDED"}),e.jsx("th",{className:"px-5 py-3 font-semibold text-right",children:"ACTIONS"})]})}),e.jsx("tbody",{children:s.map((u,m)=>{const f=Number(u.maxScore??r)||r,x=u.score!=="",p=x?Number(u.score):0,b=Number.isNaN(p)?0:p,j=f>0?Math.min(100,Math.max(0,b/f*100)):0,w=n[u.studentId],E=w?.state==="saving",v=w?.state==="error"?w.message||"Upload failed":w?.state==="success"?"Saved":"";return e.jsxs("tr",{className:m%2===0?"bg-white":"bg-gray-50/60",children:[e.jsx("td",{className:"px-5 py-3 text-gray-800",children:u.studid}),e.jsx("td",{className:"px-5 py-3 text-gray-900 font-medium",children:u.fullName}),e.jsx("td",{className:"px-5 py-3",children:e.jsx("input",{type:"number",min:0,max:f,value:u.score,onChange:T=>i(u.studentId,T.target.value),className:"w-24 xl:w-28 px-2 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),e.jsx("td",{className:"px-5 py-3 hidden lg:table-cell",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"h-2.5 rounded-full bg-blue-600 transition-all",style:{width:`${j}%`}})}),e.jsxs("span",{className:"text-gray-700 font-medium min-w-[3rem]",children:[j.toFixed(1),"%"]})]})}),e.jsx("td",{className:"px-5 py-3 text-gray-800 hidden xl:table-cell",children:x?`${b}/${f}`:"--"}),e.jsx("td",{className:"px-5 py-3",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[v&&e.jsx("span",{className:`text-xs ${w?.state==="error"?"text-red-600":w?.state==="success"?"text-green-600":"text-gray-500"}`,children:v}),e.jsx("button",{onClick:()=>c(u.studentId),disabled:E,className:`inline-flex items-center gap-1 px-3 py-1.5 text-xs font-medium rounded-md\r
                                   bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-60 cursor-pointer transition-colors`,title:"Upload",children:E?"Uploading...":"Upload"})]})})]},u.studentId)})})]})})})}function Q_({rows:s,max:r,rowStatus:n,onScoreChange:i,onUpload:c}){return s.length===0?e.jsx("div",{className:"mt-6 space-y-3 lg:hidden",children:e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6 text-center text-gray-500",children:"No students in this section."})}):e.jsx("div",{className:"mt-6 space-y-3 lg:hidden",children:s.map(u=>{const m=Number(u.maxScore??r)||r,f=u.score!=="",x=f?Number(u.score):0,p=Number.isNaN(x)?0:x,b=m>0?Math.min(100,Math.max(0,p/m*100)):0,j=n[u.studentId],w=j?.state==="saving",E=j?.state==="error"?j.message||"Upload failed":j?.state==="success"?"Saved":"";return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-baseline justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"ID"}),e.jsx("div",{className:"font-semibold text-gray-900",children:u.studid})]}),e.jsx("button",{onClick:()=>c(u.studentId),disabled:w,className:"px-3 py-1.5 text-xs font-medium rounded-md bg-red-600 text-white hover:bg-red-700 disabled:opacity-60",children:w?"Uploading...":"Upload"})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Name"}),e.jsx("div",{className:"font-medium text-gray-900",children:u.fullName})]}),e.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Score"}),e.jsx("input",{type:"number",min:0,max:m,value:u.score,onChange:v=>i(u.studentId,v.target.value),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Recorded"}),e.jsx("div",{className:"mt-2 text-gray-900",children:f?`${p}/${m}`:"--"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Percentage"}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all",style:{width:`${b}%`}})}),E&&e.jsx("div",{className:`mt-2 text-xs ${j?.state==="error"?"text-red-600":j?.state==="success"?"text-green-600":"text-gray-500"}`,children:E})]})]},u.studentId)})})}function X_(){const{sectionId:s,activityId:r}=vi(),{state:n}=rs(),i=dt(),[c,u]=g.useState(n?.activity||null),[m,f]=g.useState(n?.section||null),[x,p]=g.useState([]),[b,j]=g.useState({}),[w,E]=g.useState(!0),[v,T]=g.useState(""),[C,k]=g.useState(""),[N,M]=g.useState(1),[A,D]=g.useState(10),[Y,Q]=g.useState(!1),q=c?.maxScore??100;g.useEffect(()=>{const le=new AbortController;return(async()=>{try{E(!0);const _=await ge(`http://localhost:5000/api/instructor/activities/${r}/scores?sectionId=${s}`,{signal:le.signal});let P={};try{P=await _.json()}catch{P={}}if(!_.ok)throw new Error(P?.message||`Failed to load scores (HTTP ${_.status})`);u(P.activity),f(P.section);const ie=(Array.isArray(P.rows)?P.rows:[]).map(L=>({studentId:L.studentId,fullName:L.fullName,studid:L.studid,score:L.score??"",maxScore:L.maxScore??P.activity?.maxScore??100})).sort((L,V)=>{const me=(L.fullName||"").localeCompare(V.fullName||"",void 0,{sensitivity:"base"});return me!==0?me:(L.studid||"").localeCompare(V.studid||"",void 0,{sensitivity:"base",numeric:!0})});p(ie),j({}),T("")}catch(_){_?.name!=="AbortError"&&(console.error(_),T(_.message||"Failed to load scores"))}finally{E(!1)}})(),()=>le.abort()},[r,s]);const ne=g.useCallback((le,_)=>{p(P=>P.map(ie=>{if(ie.studentId!==le)return ie;if(_==="")return{...ie,score:""};const L=Number(_);if(Number.isNaN(L))return ie;const V=Number(ie.maxScore??q)||q;return{...ie,score:Math.max(0,Math.min(V,L))}}))},[q]),re=async le=>{const _=x.find(V=>V.studentId===le);if(!_)return;const P=Number(_.maxScore??q)||q,ie=_.score===""?0:Number(_.score),L=Math.max(0,Math.min(P,Number.isNaN(ie)?0:ie));j(V=>({...V,[le]:{state:"saving"}}));try{const V={sectionId:s,rows:[{studentId:le,score:L}]},me=await ge(`http://localhost:5000/api/instructor/activities/${r}/scores`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(V)});let xe={};try{xe=await me.json()}catch{xe={}}if(!me.ok)throw new Error(xe?.message||`Upload failed (HTTP ${me.status})`);p(ke=>ke.map(te=>te.studentId===le?{...te,score:L}:te)),j(ke=>({...ke,[le]:{state:"success"}})),setTimeout(()=>{j(ke=>{const te={...ke};return delete te[le],te})},1500)}catch(V){j(me=>({...me,[le]:{state:"error",message:V.message}}))}},B=async()=>{const le=x.filter(L=>L.score!==""),_=x.filter(L=>L.score==="");if(le.length===0){T("No scores to upload. Please enter scores before uploading."),setTimeout(()=>T(""),3e3);return}Q(!0);const P=le.map(L=>{const V=Number(L.maxScore??q)||q,me=Number(L.score),xe=Math.max(0,Math.min(V,Number.isNaN(me)?0:me));return{studentId:L.studentId,score:xe}}),ie={};P.forEach(L=>{ie[L.studentId]={state:"saving"}}),j(ie);try{const L={sectionId:s,rows:P,notify:!0},V=await ge(`http://localhost:5000/api/instructor/activities/${r}/scores`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)});let me={};try{me=await V.json()}catch{me={}}if(!V.ok)throw new Error(me?.message||`Upload failed (HTTP ${V.status})`);p(te=>te.map(K=>{const ve=P.find(se=>se.studentId===K.studentId);return ve?{...K,score:ve.score}:K}));const xe={};P.forEach(te=>{xe[te.studentId]={state:"success"}}),j(xe);let ke=`Successfully uploaded ${le.length} score(s).`;_.length>0?ke+=` ${_.length} student(s) with no scores have been notified via email.`:ke+=" All students have been notified via email.",T(""),k(ke),setTimeout(()=>{j({}),k("")},4e3)}catch(L){const V={};P.forEach(me=>{V[me.studentId]={state:"error",message:L.message}}),j(V),T(L.message||"Failed to upload scores")}finally{Q(!1)}},ae=g.useMemo(()=>x,[x]),ce=Math.ceil(ae.length/A),J=(N-1)*A,$=J+A,O=ae.slice(J,$),U=le=>M(le),I=le=>{D(le),M(1)};return e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(as,{}),e.jsxs("div",{className:"flex-1 max-w-7xl mx-auto mt-10 px-4 sm:px-6 lg:px-8 lg:ml-64 2xl:ml-72",children:[e.jsx(G_,{activity:c,section:m,onBack:()=>i(-1),onUploadAll:B,isUploadingAll:Y}),e.jsx(I_,{error:v}),C&&e.jsx("div",{className:"mb-4 p-4 bg-green-50 border-l-4 border-green-500 rounded-r-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-green-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm font-medium text-green-800",children:C})})]})}),w?e.jsx(F_,{}):e.jsxs(e.Fragment,{children:[e.jsx(V_,{rows:O,max:q,rowStatus:b,onScoreChange:ne,onUpload:re}),e.jsx(Q_,{rows:O,max:q,rowStatus:b,onScoreChange:ne,onUpload:re}),ae.length>0&&e.jsx(Wt,{currentPage:N,totalPages:ce,totalItems:ae.length,itemsPerPage:A,onPageChange:U,onItemsPerPageChange:I,rowsPerPageOptions:[5,10,15,20,25]})]})]})]})}function Hp({isOpen:s,onClose:r,title:n,children:i}){return s?e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-white/10 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto shadow-2xl border border-white/20",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:n}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors cursor-pointer",children:e.jsx(et,{size:20})})]}),i]})}):null}function Z_({onAddClick:s}){return e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"pt-4 sm:pt-6 md:pt-4 lg:pt-6 font-outfit text-[#1E3A5F] text-xl sm:text-2xl lg:text-3xl font-bold",children:"Activity Management"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Create, assign, and manage activities"})]}),e.jsxs("button",{onClick:s,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors cursor-pointer",children:[e.jsx(vr,{size:20}),"Add Activity"]})]})}function W_({searchTerm:s,onSearchChange:r,filterSection:n,onFilterChange:i,filterTerm:c,onFilterTermChange:u,sections:m,filteredCount:f,totalCount:x}){return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-3 sm:p-4 mb-4 sm:mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"relative order-1",children:[e.jsx(Wr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search activities / description / sections...",value:s,onChange:p=>r(p.target.value),autoComplete:"off",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none text-sm sm:text-base"})]}),e.jsxs("select",{value:n,onChange:p=>i(p.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none text-sm sm:text-base order-2 sm:col-span-1 cursor-pointer",children:[e.jsx("option",{value:"",children:"All Sections"}),m.map(p=>e.jsxs("option",{value:p._id||p.id,children:[p.sectionName," - ",p.subject?.subjectCode||""," (",p.schoolYear," ",p.term,")"]},p._id||p.id))]}),e.jsxs("select",{value:c,onChange:p=>u(p.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none text-sm sm:text-base order-3 sm:col-span-1 cursor-pointer",children:[e.jsx("option",{value:"",children:"All Terms"}),e.jsx("option",{value:"Midterm",children:"Mid Term"}),e.jsx("option",{value:"Finalterm",children:"Final Term"}),e.jsx("option",{value:"Summer",children:"Summer"})]}),e.jsxs("div",{className:"order-4 lg:col-span-1 text-sm text-gray-600 hidden lg:block self-center",children:["Showing ",f," of ",x]})]})})}function J_(){return e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}function K_({activity:s,getAssignedSectionNames:r,formatDate:n,onEdit:i,onDelete:c}){return e.jsxs("div",{className:"rounded-lg border border-blue-200 bg-blue-50/30 p-6 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100",children:e.jsx(Nc,{className:"text-blue-600",size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 text-lg",children:s.title}),e.jsx("p",{className:"text-gray-600 text-sm flex items-center gap-1"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>i(s),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors cursor-pointer",title:"Edit Activity",children:e.jsx(Nr,{size:16})}),e.jsx("button",{onClick:()=>c(s),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors cursor-pointer",title:"Delete Activity",children:e.jsx(wc,{size:16})})]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(gb,{size:16,className:"mt-0.5 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-700",children:s.description||"No description"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Lt,{size:16,className:"text-gray-400"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Assigned to:"," ",r(s.sectionIds||[])||"None"]})]}),e.jsxs("div",{className:"mt-3 p-3 bg-white rounded-lg border border-blue-200",children:[e.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Activity Details:"}),e.jsxs("p",{className:"text-sm text-blue-600",children:["Category: ",s.category||""]}),e.jsxs("p",{className:"text-sm text-blue-600",children:["Max Score: ",s.maxScore??s.points??0]})]})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Created: ",n(s.createdAt)]})]})}function eA(){return e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx(Nc,{className:"mx-auto text-gray-300 mb-4",size:48}),e.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"No matching activities"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your search or add a new activity."})]})}const tA=[{key:"classStanding",label:"Class Standing"},{key:"laboratory",label:"Laboratory"},{key:"majorOutput",label:"Major Output"}];function qp({formData:s,onChange:r,onSubmit:n,onCancel:i,sections:c,onToggleSection:u,isEditMode:m=!1}){return e.jsxs("form",{onSubmit:n,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"title",value:s.title,onChange:r,autoComplete:"off",placeholder:m?"":"e.g., Quiz 1, Lab Exercise 2",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (optional)"}),e.jsx("textarea",{name:"description",value:s.description,onChange:r,rows:3,placeholder:m?"":"Brief details or instructions",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (optional)"}),e.jsx("textarea",{name:"notes",value:s.notes,onChange:r,rows:2,placeholder:m?"":"Additional notes (optional)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Term ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"term",value:s.term||"Midterm",onChange:r,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none cursor-pointer",children:[e.jsx("option",{value:"Midterm",children:"Mid Term"}),e.jsx("option",{value:"Finalterm",children:"Final Term"}),e.jsx("option",{value:"Summer",children:"Summer"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Category ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("select",{name:"category",value:s.category,onChange:r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none cursor-pointer",children:tA.map(f=>e.jsx("option",{value:f.key,children:f.label},f.key))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Max Score ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",name:"maxScore",min:"1",value:s.maxScore,onChange:r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Event Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"eventType",value:s.eventType||"quiz",onChange:r,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none",children:[e.jsx("option",{value:"quiz",children:"Quiz"}),e.jsx("option",{value:"laboratory",children:"Laboratory"}),e.jsx("option",{value:"exam",children:"Exam"}),e.jsx("option",{value:"assignment",children:"Assignment"}),e.jsx("option",{value:"project",children:"Project"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),e.jsx("input",{type:"text",name:"location",value:s.location,onChange:r,placeholder:"e.g., Room 101, Online",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Start Date & Time ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"datetime-local",name:"startDateTime",value:s.startDateTime,onChange:r,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["End Date & Time ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"datetime-local",name:"endDateTime",value:s.endDateTime,onChange:r,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",name:"syncToGoogleCalendar",checked:!!s.syncToGoogleCalendar,onChange:r,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Sync to Google Calendar"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign to Sections"}),e.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-200 rounded-lg p-2 bg-white",children:c.length===0?e.jsx("p",{className:"text-sm text-gray-500 p-2",children:"No sections available."}):c.map(f=>e.jsxs("label",{className:"flex items-center gap-3 p-2 rounded hover:bg-gray-50 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:s.sectionIds.includes(f._id||f.id),onChange:()=>u(f._id||f.id)}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"text-gray-900 font-medium",children:f.sectionName}),e.jsxs("div",{className:"text-gray-500",children:[f.schoolYear," - ",f.term,"  ",f.subject?.subjectCode," ",f.subject?.subjectName]})]})]},f._id||f.id))})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{type:"button",onClick:i,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer",children:"Cancel"}),e.jsxs("button",{type:"submit",className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 cursor-pointer",children:[e.jsx(qt,{size:16}),m?"Update Activity":"Add Activity"]})]})]})}function sA(){const s=dt(),r=Ys(),{showError:n,showSuccess:i,showConfirmDialog:c}=r,[u,m]=g.useState([]),[f,x]=g.useState([]),[p,b]=g.useState(!0),[j,w]=g.useState(""),[E,v]=g.useState(""),[T,C]=g.useState(""),[k,N]=g.useState(1),[M,A]=g.useState(9),[D,Y]=g.useState(!1),[Q,q]=g.useState(!1),[ne,re]=g.useState(null),[B,ae]=g.useState({title:"",description:"",notes:"",category:"classStanding",maxScore:"100",eventType:"quiz",location:"",startDateTime:"",endDateTime:"",syncToGoogleCalendar:!1,sectionIds:[]}),ce=g.useRef(!1),J=se=>{if(!se)return"";try{return new Date(se).toLocaleString()}catch{return se}},$=async()=>{try{b(!0);const se=await ge("http://localhost:5000/api/instructor/sections");if(se.status===401){n("Your session has expired. Please log in again."),s("/login");return}const oe=(await se.json().catch(()=>({}))).sections||[];x(oe);const W=await Promise.all(oe.map(async Ce=>{try{const Re=await ge(`http://localhost:5000/api/instructor/sections/${Ce._id}/activities`);if(!Re.ok)return{sectionId:Ce._id,activities:[]};const he=await Re.json().catch(()=>({}));return{sectionId:Ce._id,activities:he.activities||[]}}catch{return{sectionId:Ce._id,activities:[]}}})),Ne=new Map;W.forEach(({sectionId:Ce,activities:Re})=>{Re.forEach(he=>{const ye=he._id||he.id;if(ye)if(!Ne.has(ye))Ne.set(ye,{...he,sectionIds:[Ce]});else{const tt=Ne.get(ye);tt.sectionIds.includes(Ce)||tt.sectionIds.push(Ce),Ne.set(ye,tt)}})}),m(Array.from(Ne.values()))}catch(se){console.error(se),n("Failed to load activities or sections")}finally{b(!1)}};g.useEffect(()=>{ce.current||(ce.current=!0,$())},[]);const O=Gt.useCallback(se=>f.find(oe=>(oe._id||oe.id)===se)?.sectionName||"Unknown",[f]),U=Gt.useCallback((se=[])=>se.map(O).filter(Boolean).join(", "),[O]),I=g.useMemo(()=>{const se=j.trim().toLowerCase();return(u||[]).filter(je=>{const oe=se?[je.title,je.description,U(je.sectionIds||[])].filter(Boolean).some(Ce=>String(Ce).toLowerCase().includes(se)):!0,W=E?(je.sectionIds||[]).some(Ce=>String(Ce)===String(E)):!0,Ne=T?je.term===T:!0;return oe&&W&&Ne})},[u,j,E,T,U]);g.useEffect(()=>{N(1)},[j,E,T]);const le=Math.ceil(I.length/M),_=(k-1)*M,P=_+M,ie=I.slice(_,P),L=se=>N(se),V=se=>{A(se),N(1)},me=()=>{ae({title:"",description:"",notes:"",term:"Midterm",category:"classStanding",maxScore:"100",eventType:"quiz",location:"",startDateTime:"",endDateTime:"",syncToGoogleCalendar:!1,sectionIds:[]}),re(null)},xe=se=>{const{name:je,value:oe,type:W,checked:Ne}=se.target;ae(Ce=>({...Ce,[je]:W==="checkbox"?Ne:oe}))},ke=se=>{ae(je=>{const oe=je.sectionIds.includes(se);return{...je,sectionIds:oe?je.sectionIds.filter(W=>W!==se):[...je.sectionIds,se]}})},te=se=>{re(se),ae({title:se.title||"",description:se.description||"",notes:se.notes||"",term:se.term||"Midterm",category:se.category||"classStanding",maxScore:String(se.maxScore??se.points??"100"),eventType:se.eventType||"quiz",location:se.location||"",startDateTime:se.startDateTime?new Date(se.startDateTime).toISOString().slice(0,16):"",endDateTime:se.endDateTime?new Date(se.endDateTime).toISOString().slice(0,16):"",syncToGoogleCalendar:se.syncToGoogleCalendar||!1,sectionIds:se.sectionIds?[...se.sectionIds]:[]}),q(!0)},K=async se=>{if(se.preventDefault(),!B.title.trim()){n("Title is required");return}if(!ne){if(!B.startDateTime||!B.endDateTime){n("Start and end date/time are required");return}const oe=new Date(B.startDateTime),W=new Date(B.endDateTime);if(isNaN(oe.getTime())||isNaN(W.getTime())){n("Invalid date/time format");return}if(oe>=W){n("End date/time must be after start date/time");return}}const je={title:B.title.trim(),description:B.description.trim(),notes:B.notes?.trim()||"",term:B.term||"Midterm",category:B.category,maxScore:parseInt(B.maxScore,10)||0,eventType:B.eventType||"quiz",location:B.location?.trim()||"",startDateTime:B.startDateTime,endDateTime:B.endDateTime,syncToGoogleCalendar:B.syncToGoogleCalendar||!1};try{if(ne){const oe=`http://localhost:5000/api/instructor/activities/${ne._id||ne.id}`,W=await ge(oe,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(je)});if(!W.ok){const Ne=await W.json().catch(()=>({}));throw new Error(Ne.message||"Failed to update activity")}}else{const oe=B.sectionIds;if(!oe.length){n("Select at least one section to assign this activity");return}const W=[];for(const Ne of oe){const Ce=f.find(ye=>(ye._id||ye.id)===Ne),Re=Ce?.subject?._id||Ce?.subject;if(!Re){W.push(`Missing subject for section ${O(Ne)}`);continue}const he=await ge(`http://localhost:5000/api/instructor/subjects/${Re}/activities`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...je,sectionId:Ne})});if(!he.ok){const ye=await he.json().catch(()=>({}));W.push(ye.message||`Failed to create for ${O(Ne)}`)}}if(W.length)throw new Error(W.join("; "))}await $(),me(),Y(!1),q(!1),i(ne?"Activity updated":"Activity created for selected sections")}catch(oe){console.error(oe),n(oe.message||"Error saving activity")}},ve=async se=>{c("Delete Activity",`Are you sure you want to delete "${se.title}"? This cannot be undone.`,async()=>{try{const je=await ge(`http://localhost:5000/api/instructor/activities/${se._id||se.id}`,{method:"DELETE"});if(je.ok)await $(),i("Activity deleted");else if(je.status===403)n("You do not have permission to delete this activity.");else if(je.status===404)n("Activity not found or already deleted.");else{const oe=await je.json().catch(()=>({}));n(oe.message||"Failed to delete activity")}}catch(je){console.error(je),n("Error deleting activity")}})};return e.jsx(Bs,{notifications:r,children:e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(as,{}),e.jsxs("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-20 mt-10",children:[e.jsx(Z_,{onAddClick:()=>{me(),Y(!0)}}),e.jsx(W_,{searchTerm:j,onSearchChange:w,filterSection:E,onFilterChange:v,filterTerm:T,onFilterTermChange:C,sections:f,filteredCount:I.length,totalCount:u.length}),p?e.jsx(J_,{}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[ie.map(se=>e.jsx(K_,{activity:se,getAssignedSectionNames:U,formatDate:J,onEdit:te,onDelete:ve},se._id||se.id)),I.length===0&&e.jsx(eA,{})]}),I.length>0&&e.jsx(Wt,{currentPage:k,totalPages:le,totalItems:I.length,itemsPerPage:M,onPageChange:L,onItemsPerPageChange:V,rowsPerPageOptions:[6,9,12,18]})]}),e.jsx(Hp,{isOpen:D,onClose:()=>Y(!1),title:"Add New Activity",children:e.jsx(qp,{formData:B,onChange:xe,onSubmit:K,onCancel:()=>Y(!1),sections:f,onToggleSection:ke,isEditMode:!1})}),e.jsx(Hp,{isOpen:Q,onClose:()=>q(!1),title:"Edit Activity",children:e.jsx(qp,{formData:B,onChange:xe,onSubmit:K,onCancel:()=>q(!1),sections:f,onToggleSection:ke,isEditMode:!0})})]})]})})}const qh=s=>{const r={"Class Standing":{gradient:"from-blue-400 to-blue-500",bg:"bg-blue-50/80",border:"border-blue-300/60",text:"text-blue-800",badge:"bg-blue-500",light:"bg-blue-100/70",hover:"hover:bg-blue-50"},Laboratory:{gradient:"from-purple-400 to-purple-500",bg:"bg-purple-50/80",border:"border-purple-300/60",text:"text-purple-800",badge:"bg-purple-500",light:"bg-purple-100/70",hover:"hover:bg-purple-50"},"Major Output":{gradient:"from-emerald-400 to-emerald-500",bg:"bg-emerald-50/80",border:"border-emerald-300/60",text:"text-emerald-800",badge:"bg-emerald-500",light:"bg-emerald-100/70",hover:"hover:bg-emerald-50"}};return r[s]||r["Class Standing"]};function aA({value:s,color:r}){const n=Math.max(0,Math.min(100,Number(s)||0));return e.jsxs("div",{className:"flex flex-col items-end gap-2 min-w-[110px]",children:[e.jsxs("span",{className:`inline-flex items-center justify-center px-4 py-2 text-sm font-bold rounded-lg ${r} text-white shadow-lg`,children:[n.toFixed(1),"%"]}),e.jsx("div",{className:"w-28 h-2.5 rounded-full bg-gray-200 overflow-hidden shadow-inner",children:e.jsx("div",{className:`h-full bg-gradient-to-r ${qh("").gradient} rounded-full transition-all duration-500`,style:{width:`${n}%`}})})]})}function rA({name:s,weightLabel:r,percent:n,rows:i=[]}){const c=qh(s),[u,m]=g.useState(1),[f,x]=g.useState(5);g.useEffect(()=>{m(1)},[i.length]);const p=Math.ceil(i.length/f),b=(u-1)*f,j=b+f,w=i.slice(b,j),E=T=>m(T),v=T=>{x(T),m(1)};return e.jsxs("section",{className:`rounded-2xl border-2 ${c.border} bg-white shadow-xl overflow-hidden transition-all duration-300 hover:shadow-2xl`,children:[e.jsx("div",{className:`bg-gradient-to-r ${c.gradient} px-6 py-5`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:s}),e.jsx("p",{className:"text-sm text-white/90",children:r})]}),e.jsx(aA,{value:n,color:c.badge})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:`${c.light} border-b-2 ${c.border}`,children:[e.jsx("th",{className:`font-semibold text-left py-3 px-4 ${c.text}`,children:"Activity"}),e.jsx("th",{className:`font-semibold text-left py-3 px-4 ${c.text}`,children:"Score"}),e.jsx("th",{className:`font-semibold text-left py-3 px-4 ${c.text}`,children:"Percentage"}),e.jsx("th",{className:`font-semibold text-left py-3 px-4 ${c.text}`,children:"Date Posted"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[w.map((T,C)=>{const k=b+C;return e.jsxs("tr",{className:`${c.hover} transition-colors duration-150`,children:[e.jsx("td",{className:"py-4 px-4 font-medium text-gray-800",children:T.item}),e.jsx("td",{className:"py-4 px-4 text-gray-700 font-semibold",children:T.score}),e.jsx("td",{className:`py-4 px-4 font-bold ${c.text} text-base`,children:T.percentage}),e.jsx("td",{className:"py-4 px-4 whitespace-nowrap text-gray-500",children:T.date})]},k)}),i.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"py-8 text-center text-gray-400 italic",children:"No activities posted yet."})})]})]})}),i.length>0&&e.jsx(Wt,{currentPage:u,totalPages:p,totalItems:i.length,itemsPerPage:f,onPageChange:E,onItemsPerPageChange:v,rowsPerPageOptions:[5,10,15,20,25]})]})]})}function nA({title:s,percentage:r,weightLabel:n,icon:i,bgColor:c}){return e.jsx("div",{className:"bg-white rounded-2xl border-2 border-gray-200 shadow-lg p-5 hover:shadow-xl transition-all duration-300",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:s}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:[r,"%"]}),n&&e.jsx("span",{className:"text-xs font-medium text-gray-500 bg-gray-100 px-2 py-1 rounded-md",children:n})]})]}),e.jsx("div",{className:`flex items-center justify-center w-14 h-14 rounded-full ${c}`,children:i})]})})}function lA({title:s,subtitle:r,onBack:n}){return e.jsxs("div",{className:"mb-8 mt-8",children:[e.jsxs("button",{onClick:n,className:"inline-flex items-center gap-2 text-sm text-gray-600 hover:text-gray-900 mb-4 transition-colors duration-200 font-medium",children:[e.jsx(Zn,{size:18})," Back"]}),e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-[#1E3A5F] mb-1",children:s}),e.jsx("p",{className:"text-sm text-gray-600",children:r})]})}function iA({categories:s=[]}){return e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-8",children:s.map(r=>{const n=qh(r.name);let i;r.name==="Class Standing"?i=e.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}):r.name==="Laboratory"?i=e.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}):i=e.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"})});const c=r.percent||0,u=r.weightLabel||"Weight: 0%";return e.jsx(nA,{title:r.name,percentage:c.toFixed(1),weightLabel:u.replace("Weight: ","").replace(" of final grade",""),bgColor:n.badge,icon:i},r.name)})})}function oA({categories:s}){return e.jsx("div",{className:"space-y-8",children:s.map(r=>e.jsx(rA,{name:r.name,weightLabel:r.weightLabel,percent:r.percent,rows:r.rows},r.name))})}function cA(){return e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(It,{}),e.jsx("div",{className:"flex-1 ml-0 max-[880px]:ml-0 min-[881px]:ml-65 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading your scores..."})]})})]})}function dA({error:s,onBack:r}){return e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(It,{}),e.jsx("div",{className:"flex-1 ml-0 max-[880px]:ml-0 min-[881px]:ml-65 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-600 mb-4",children:s}),e.jsx("button",{onClick:r,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Back to Subjects"})]})})]})}function uA({title:s,subtitle:r="Detailed Grade Breakdown",onBack:n,categories:i=[]}){const[c,u]=g.useState(1),[m,f]=g.useState(10),[x,p]=g.useState("all"),b=[{value:"all",label:"All Terms"},{value:"midterm",label:"Midterm"},{value:"finalterm",label:"Finalterm"},{value:"summer",label:"Summer"}],j=Gt.useMemo(()=>x==="all"?i:i.map(A=>({...A,rows:A.rows.filter(D=>D.term?.toLowerCase()===x.toLowerCase())})).filter(A=>A.rows.length>0),[i,x]),w=Gt.useMemo(()=>j.flatMap(A=>A.rows.map(D=>({...D,categoryName:A.name,categoryWeight:A.weightLabel}))),[j]),E=(c-1)*m,v=E+m,T=w.slice(E,v),C=Gt.useMemo(()=>{const A={};return T.forEach(D=>{if(!A[D.categoryName]){const ne=i.find(re=>re.name===D.categoryName);A[D.categoryName]={name:D.categoryName,weightLabel:D.categoryWeight,percent:ne?.percent||0,rows:[]}}const{categoryName:Y,categoryWeight:Q,...q}=D;A[D.categoryName].rows.push(q)}),Object.values(A)},[T,i]),k=Math.ceil(w.length/m),N=A=>u(A),M=A=>{f(A),u(1)};return e.jsxs("div",{className:"flex min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50",children:[e.jsx(It,{}),e.jsx("div",{className:"flex-1 ml-0 max-[880px]:ml-0 min-[881px]:ml-65",children:e.jsx("div",{className:"min-h-screen",children:e.jsxs("div",{className:"mx-auto w-full max-w-6xl px-4 sm:px-6 lg:px-8 py-8 max-[880px]:pt-20",children:[e.jsx(lA,{onBack:n,title:s,subtitle:r}),e.jsx("div",{className:"mb-6 bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Filter by Term:"}),e.jsx("select",{value:x,onChange:A=>{p(A.target.value),u(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:b.map(A=>e.jsx("option",{value:A.value,children:A.label},A.value))})]})}),e.jsx(iA,{categories:j}),e.jsx(oA,{categories:C}),w.length>0&&e.jsx(Wt,{currentPage:c,totalPages:k,totalItems:w.length,itemsPerPage:m,onPageChange:N,onItemsPerPageChange:M,rowsPerPageOptions:[10,20,30,50]})]})})})]})}function Gp(){const{sectionId:s}=vi(),{state:r}=rs(),n=dt(),[i,c]=g.useState(!0),[u,m]=g.useState(null),[f,x]=g.useState(r?.section||null),[p,b]=g.useState([]),j=()=>{const T=JSON.parse(localStorage.getItem("user")||"{}");return T.id||T._id},w=Gt.useCallback((T,C)=>{console.log("Processing categories with:",{activities:T,allScores:C});const k={classStanding:{name:"Class Standing",activities:[],weight:0},laboratory:{name:"Laboratory",activities:[],weight:0},majorOutput:{name:"Major Output",activities:[],weight:0}},N=f?.gradingSchema||{};k.classStanding.weight=N.classStanding||30,k.laboratory.weight=N.laboratory||30,k.majorOutput.weight=N.majorOutput||40;const M=j();console.log("Current student ID:",M),T.forEach(D=>{const Y=D.category||"classStanding";if(k[Y]){const Q=C.find(q=>q.activityId===D._id);console.log(`Activity ${D.title} scores:`,Q),k[Y].activities.push({activity:D,scores:Q?.scores||[]})}});const A=Object.entries(k).map(([,D])=>{const Y=D.activities.map(({activity:q,scores:ne})=>{console.log(`Processing activity ${q.title}, scores array:`,ne);const re=ne.length>0?ne[0]:null,B=re?.score??0,ae=re?.maxScore??q.maxScore??100,ce=ae>0?B/ae*100:0;return console.log(`Score for ${q.title}:`,{studentScore:re,score:B,maxScore:ae,percentage:ce}),{item:q.title,score:`${B}/${ae}`,percentage:`${ce.toFixed(1)}%`,date:new Date(q.createdAt).toLocaleDateString(),term:q.term}}),Q=Y.length>0?Y.reduce((q,ne)=>q+parseFloat(ne.percentage),0)/Y.length:0;return{name:D.name,weightLabel:`Weight: ${D.weight}% of final grade`,percent:Q,rows:Y}});console.log("Processed categories:",A),b(A)},[f]);g.useEffect(()=>{s&&(async()=>{try{if(c(!0),m(null),!f&&s){const k=await ge("http://localhost:5000/api/student/sections");if(k.ok){const M=(await k.json()).sections?.find(A=>A._id===s);if(M)x(M);else{m("Section not found");return}}}const C=await ge(`http://localhost:5000/api/instructor/sections/${s}/activities`);if(C.ok){const N=(await C.json()).activities||[],M=N.map(async D=>{try{const Y=await ge(`http://localhost:5000/api/activityScores/activities/${D._id}/scores?sectionId=${s}`);if(Y.ok){const Q=await Y.json();return{activityId:D._id,activity:D,scores:Q.rows||[]}}}catch(Y){console.error(`Error fetching scores for activity ${D._id}:`,Y)}return{activityId:D._id,activity:D,scores:[]}}),A=await Promise.all(M);w(N,A)}}catch(C){console.error("Error fetching data:",C),m("Failed to load scores")}finally{c(!1)}})()},[s,f,w]);const E=()=>{r?.fromArchive?n("/student/archive"):n("/student/subjects")};if(i)return e.jsx(cA,{message:"Loading your scores..."});if(u)return e.jsx(dA,{message:u,onBack:E});const v=f?`${f.subject?.subjectCode} - ${f.subject?.subjectName}`:"Course Scores";return e.jsx(uA,{title:v,subtitle:`Section ${f?.sectionName||""} - Detailed Grade Breakdown`,onBack:E,categories:p})}function mA({onCreateClick:s}){return e.jsx("div",{className:"mb-6 flex justify-between items-center flex-wrap gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"pt-4 sm:pt-6 md:pt-4 lg:pt-6 font-outfit text-[#1E3A5F] text-xl sm:text-2xl lg:text-3xl font-bold",children:"Schedule Management"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"View and edit your activity schedules. Create schedules by creating activities."})]})})}function hA({currentDate:s,onPreviousMonth:r,onNextMonth:n,onToday:i,view:c,onViewChange:u}){return e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-4",children:e.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors cursor-pointer",children:e.jsx(Zn,{className:"w-5 h-5"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:s.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),e.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors cursor-pointer",children:e.jsx(Zr,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:i,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer",children:"Today"}),e.jsxs("select",{value:c,onChange:m=>u(m.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer",children:[e.jsx("option",{value:"month",children:"Month"}),e.jsx("option",{value:"list",children:"List"})]})]})]})})}const Ip={quiz:{bg:"bg-red-100",text:"text-red-800"},laboratory:{bg:"bg-yellow-100",text:"text-yellow-800"},exam:{bg:"bg-blue-100",text:"text-blue-800"},assignment:{bg:"bg-orange-100",text:"text-orange-800"},project:{bg:"bg-green-100",text:"text-green-800"},other:{bg:"bg-gray-100",text:"text-gray-800"}},fA=s=>new Date(s).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});function xA({calendarDays:s,getSchedulesForDay:r,isToday:n,onScheduleClick:i}){return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"grid grid-cols-7 bg-gray-50",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(c=>e.jsx("div",{className:"py-3 text-center text-sm font-semibold text-gray-700 border-b border-gray-200",children:c},c))}),e.jsx("div",{className:"grid grid-cols-7",children:s.map((c,u)=>{const m=c?r(c):[];return e.jsx("div",{className:`min-h-[120px] p-2 border-b border-r border-gray-200 ${c?n(c)?"bg-blue-50":"bg-white hover:bg-gray-50":"bg-gray-50"}`,children:c&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`text-sm font-semibold mb-1 ${n(c)?"text-blue-600":"text-gray-700"}`,children:c}),e.jsxs("div",{className:"space-y-1",children:[m.slice(0,3).map(f=>e.jsxs("button",{onClick:()=>i(f),className:`w-full text-left px-2 py-1 rounded text-xs ${Ip[f.eventType].bg} ${Ip[f.eventType].text} hover:opacity-80 transition-opacity`,children:[e.jsx("div",{className:"font-medium truncate",children:f.title}),e.jsx("div",{className:"truncate",children:fA(f.startDateTime)})]},f._id)),m.length>3&&e.jsxs("div",{className:"text-xs text-gray-500 pl-2",children:["+",m.length-3," more"]})]})]})},u)})})]})}const Sm={quiz:{bg:"bg-red-100",text:"text-red-800",dot:"bg-red-500"},laboratory:{bg:"bg-yellow-100",text:"text-yellow-800",dot:"bg-yellow-500"},exam:{bg:"bg-blue-100",text:"text-blue-800",dot:"bg-blue-500"},assignment:{bg:"bg-orange-100",text:"text-orange-800",dot:"bg-orange-500"},project:{bg:"bg-green-100",text:"text-green-800",dot:"bg-green-500"},other:{bg:"bg-gray-100",text:"text-gray-800",dot:"bg-gray-500"}},gA=s=>new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),pA=s=>new Date(s).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});function bA({schedules:s,onScheduleClick:r}){const n=[...s].sort((i,c)=>new Date(i.startDateTime)-new Date(c.startDateTime));return e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:e.jsx("div",{className:"divide-y divide-gray-200",children:n.length>0?n.map(i=>e.jsx("div",{onClick:()=>r(i),className:"p-4 hover:bg-gray-50 cursor-pointer transition-colors",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-1 h-16 rounded ${Sm[i.eventType].dot}`}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:i.title}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[i.subject.subjectCode," -"," ",i.section.sectionName]})]}),e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded ${Sm[i.eventType].bg} ${Sm[i.eventType].text}`,children:i.eventType.toUpperCase()})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Cs,{className:"w-4 h-4"}),gA(i.startDateTime)," at"," ",pA(i.startDateTime)]}),i.location&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ci,{className:"w-4 h-4"}),i.location]})]})]})]})},i._id)):e.jsx("div",{className:"p-8 text-center text-gray-500",children:"No schedules for this month"})})})}const yA={quiz:{dot:"bg-red-500"},laboratory:{dot:"bg-yellow-500"},exam:{dot:"bg-blue-500"},assignment:{dot:"bg-orange-500"},project:{dot:"bg-green-500"},other:{dot:"bg-gray-500"}};function jA(){return e.jsxs("div",{className:"mt-4 bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Event Types"}),e.jsx("div",{className:"flex flex-wrap gap-4",children:Object.entries(yA).map(([s,r])=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-4 h-4 rounded ${r.dot}`}),e.jsx("span",{className:"text-sm text-gray-700 capitalize",children:s})]},s))})]})}function vA({isOpen:s,isEdit:r,formData:n,sections:i,subjects:c,onClose:u,onSubmit:m,onChange:f}){return s?e.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r?"Edit Schedule":"Create Schedule"}),e.jsx("button",{onClick:u,className:"text-gray-500 hover:text-gray-700 cursor-pointer",children:e.jsx(et,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),e.jsx("input",{type:"text",name:"title",value:n.title,onChange:f,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section *"}),e.jsxs("select",{name:"sectionId",value:n.sectionId,onChange:f,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer",children:[e.jsx("option",{value:"",children:"Select Section"}),i.map(x=>e.jsx("option",{value:x._id,children:x.sectionName},x._id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject *"}),e.jsxs("select",{name:"subjectId",value:n.subjectId,onChange:f,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer",children:[e.jsx("option",{value:"",children:"Select Subject"}),c.map(x=>e.jsxs("option",{value:x._id,children:[x.subjectCode," - ",x.subjectName]},x._id))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Type *"}),e.jsxs("select",{name:"eventType",value:n.eventType,onChange:f,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer",children:[e.jsx("option",{value:"quiz",children:"Quiz"}),e.jsx("option",{value:"laboratory",children:"Laboratory"}),e.jsx("option",{value:"exam",children:"Exam"}),e.jsx("option",{value:"assignment",children:"Assignment"}),e.jsx("option",{value:"project",children:"Project"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date & Time *"}),e.jsx("input",{type:"datetime-local",name:"startDateTime",value:n.startDateTime,onChange:f,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date & Time *"}),e.jsx("input",{type:"datetime-local",name:"endDateTime",value:n.endDateTime,onChange:f,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),e.jsx("input",{type:"text",name:"location",value:n.location,onChange:f,placeholder:"e.g., Room 101, Online",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{name:"description",value:n.description,onChange:f,rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),e.jsx("textarea",{name:"notes",value:n.notes,onChange:f,rows:"2",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",name:"syncToGoogleCalendar",checked:n.syncToGoogleCalendar,onChange:f,className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Sync to Google Calendar"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsxs("button",{type:"submit",className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[r?"Update":"Create"," Schedule"]}),e.jsx("button",{type:"button",onClick:u,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]})})}):null}const Fp={quiz:{bg:"bg-red-100",text:"text-red-800"},laboratory:{bg:"bg-yellow-100",text:"text-yellow-800"},exam:{bg:"bg-blue-100",text:"text-blue-800"},assignment:{bg:"bg-orange-100",text:"text-orange-800"},project:{bg:"bg-green-100",text:"text-green-800"},other:{bg:"bg-gray-100",text:"text-gray-800"}},NA=s=>new Date(s).toLocaleString("en-US",{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),wA=s=>new Date(s).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});function SA({isOpen:s,schedule:r,onClose:n,onEdit:i,onDelete:c}){return!s||!r?null:e.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-lg max-w-lg w-full",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r.title}),e.jsx("span",{className:`inline-block px-2 py-1 text-xs font-semibold rounded mt-2 ${Fp[r.eventType].bg} ${Fp[r.eventType].text}`,children:r.eventType.toUpperCase()})]}),e.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:e.jsx(et,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(fa,{className:"w-5 h-5 text-gray-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Section"}),e.jsx("p",{className:"font-medium",children:r.section?.sectionName})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ct,{className:"w-5 h-5 text-gray-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Subject"}),e.jsxs("p",{className:"font-medium",children:[r.subject?.subjectCode," -"," ",r.subject?.subjectName]})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Cs,{className:"w-5 h-5 text-gray-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Schedule"}),e.jsxs("p",{className:"font-medium",children:[NA(r.startDateTime)," -"," ",wA(r.endDateTime)]})]})]}),r.location&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ci,{className:"w-5 h-5 text-gray-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Location"}),e.jsx("p",{className:"font-medium",children:r.location})]})]}),r.description&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Tm,{className:"w-5 h-5 text-gray-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Description"}),e.jsx("p",{className:"font-medium",children:r.description})]})]}),r.isGoogleCalendarSynced&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-green-800",children:" Synced with Google Calendar"})})]}),e.jsxs("div",{className:"flex gap-3 pt-6",children:[e.jsxs("button",{onClick:()=>{n(),i()},className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Nr,{className:"w-4 h-4"}),"Edit"]}),e.jsxs("button",{onClick:()=>c(r._id),className:"flex items-center justify-center gap-2 px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 transition-colors",children:[e.jsx(wc,{className:"w-4 h-4"}),"Delete"]})]})]})})})}function CA(){return e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}function kA(){const[s,r]=g.useState([]),[n,i]=g.useState([]),[c,u]=g.useState([]),[m,f]=g.useState(!0),[x,p]=g.useState(!1),[b,j]=g.useState(null),[w,E]=g.useState({show:!1,title:"",message:"",type:""}),[v,T]=g.useState({show:!1,title:"",message:"",onConfirm:null,onCancel:null}),[C,k]=g.useState(new Date),[N,M]=g.useState("month"),[A,D]=g.useState(!1),[Y,Q]=g.useState({title:"",description:"",eventType:"quiz",startDateTime:"",endDateTime:"",sectionId:"",subjectId:"",location:"",notes:"",syncToGoogleCalendar:!1});g.useEffect(()=>{q(),ne(),re()},[]);const q=async()=>{try{const te=await ge("http://localhost:5000/api/schedule/instructor/schedules");if(te.ok){const K=await te.json();r(K.schedules||[])}}catch(te){console.error("Error loading schedules:",te),B("Error loading schedules","error")}finally{f(!1)}},ne=async()=>{try{const te=await ge("http://localhost:5000/api/section/instructor/my-sections");if(te.ok){const K=await te.json();i(K.sections||[]);const ve=[],se=new Set;K.sections.forEach(je=>{je.subject&&!se.has(je.subject._id)&&(se.add(je.subject._id),ve.push(je.subject))}),u(ve)}}catch(te){console.error("Error loading sections:",te)}},re=async()=>{},B=(te,K,ve="")=>{E({show:!0,title:ve||(K==="success"?"Success":K==="error"?"Error":"Notice"),message:te,type:K}),setTimeout(()=>E({show:!1,title:"",message:"",type:""}),3e3)},ae=({title:te,message:K,onConfirm:ve,onCancel:se})=>{T({show:!0,title:te,message:K,onConfirm:ve,onCancel:se})},ce=()=>{T({show:!1,title:"",message:"",onConfirm:null,onCancel:null})},J=te=>{const{name:K,value:ve,type:se,checked:je}=te.target;Q(oe=>({...oe,[K]:se==="checkbox"?je:ve}))},$=async te=>{if(te.preventDefault(),!b){B("Schedules can only be created through activities","error");return}const K=W=>W&&(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}$/.test(W)?`${W}:00`:W),ve=K(Y.startDateTime),se=K(Y.endDateTime);if(!ve||!se){B("Please provide both start and end date/time","error");return}const je=new Date(ve),oe=new Date(se);if(isNaN(je.getTime())||isNaN(oe.getTime())){B("Invalid date/time format","error");return}if(je>=oe){B("End date/time must be after start date/time","error");return}try{const W=`http://localhost:5000/api/schedule/${b._id}`,Ce=await ge(W,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)});if(Ce.ok)B("Schedule updated successfully","success"),D(!1),I(),q();else{const Re=await Ce.json();B(Re.message||"Error updating schedule","error")}}catch(W){console.error("Error updating schedule:",W),B("Error updating schedule","error")}},O=async te=>{try{(await ge(`http://localhost:5000/api/schedule/${te}`,{method:"DELETE"})).ok?(B("Schedule deleted successfully","success"),p(!1),q()):B("Error deleting schedule","error")}catch(K){console.error("Error deleting schedule:",K),B("Error deleting schedule","error")}},U=te=>{ae({title:"Delete Schedule",message:"Are you sure you want to delete this schedule?",onConfirm:async()=>await O(te),onCancel:ce})},I=()=>{Q({title:"",description:"",eventType:"quiz",startDateTime:"",endDateTime:"",sectionId:"",subjectId:"",location:"",notes:"",syncToGoogleCalendar:!1}),j(null)},le=te=>{j(te);const K=new Date(te.startDateTime),ve=new Date(te.endDateTime);Q({title:te.title,description:te.description||"",eventType:te.eventType,startDateTime:`${K.getFullYear()}-${String(K.getMonth()+1).padStart(2,"0")}-${String(K.getDate()).padStart(2,"0")}T${String(K.getHours()).padStart(2,"0")}:${String(K.getMinutes()).padStart(2,"0")}`,endDateTime:`${ve.getFullYear()}-${String(ve.getMonth()+1).padStart(2,"0")}-${String(ve.getDate()).padStart(2,"0")}T${String(ve.getHours()).padStart(2,"0")}:${String(ve.getMinutes()).padStart(2,"0")}`,sectionId:te.section._id,subjectId:te.subject._id,location:te.location||"",notes:te.notes||"",syncToGoogleCalendar:te.isGoogleCalendarSynced}),D(!0)},_=()=>{k(new Date(C.getFullYear(),C.getMonth()-1))},P=()=>{k(new Date(C.getFullYear(),C.getMonth()+1))},ie=()=>{k(new Date)},L=()=>{const te=C.getFullYear(),K=C.getMonth();return s.filter(ve=>{const se=new Date(ve.startDateTime);return se.getFullYear()===te&&se.getMonth()===K})},V=te=>{const K=C.getFullYear(),ve=C.getMonth();return s.filter(se=>{const je=new Date(se.startDateTime);return je.getFullYear()===K&&je.getMonth()===ve&&je.getDate()===te})},me=()=>{const te=C.getFullYear(),K=C.getMonth(),ve=new Date(te,K,1).getDay(),se=new Date(te,K+1,0).getDate(),je=[];for(let oe=0;oe<ve;oe++)je.push(null);for(let oe=1;oe<=se;oe++)je.push(oe);return je},xe=te=>{const K=new Date;return te===K.getDate()&&C.getMonth()===K.getMonth()&&C.getFullYear()===K.getFullYear()};if(m)return e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(as,{}),e.jsx("div",{className:"flex-1 p-8 max-w-7xl mx-auto ml-0 max-[880px]:ml-0 min-[881px]:ml-65",children:e.jsx(CA,{})})]});const ke=L();return e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(as,{}),e.jsxs("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-20 mt-10",children:[e.jsx(mA,{onCreateClick:null})," ",e.jsx(hA,{currentDate:C,onPreviousMonth:_,onNextMonth:P,onToday:ie,view:N,onViewChange:M}),N==="month"?e.jsx(xA,{calendarDays:me(),getSchedulesForDay:V,isToday:xe,onScheduleClick:te=>{j(te),p(!0)}}):e.jsx(bA,{schedules:ke,onScheduleClick:te=>{j(te),p(!0)}}),e.jsx(jA,{}),e.jsx(vA,{isOpen:A,isEdit:!0,formData:Y,sections:n,subjects:c,onClose:()=>{D(!1),I()},onSubmit:$,onChange:J}),e.jsx(SA,{isOpen:x,schedule:b,onClose:()=>p(!1),onEdit:()=>le(b),onDelete:U}),e.jsx(Jn,{isOpen:w.show,onClose:()=>E({show:!1,title:"",message:"",type:""}),type:w.type,title:w.title,message:w.message}),e.jsx(pb,{isOpen:v.show,onClose:ce,title:v.title,message:v.message,onConfirm:v.onConfirm,onCancel:v.onCancel})]})]})}function EA(){return e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex items-center gap-3 mb-2",children:e.jsx("h1",{className:"pt-4 sm:pt-6 md:pt-4 lg:pt-6 font-outfit text-[#1E3A5F] text-xl sm:text-2xl lg:text-3xl font-bold",children:"Archived Sections"})}),e.jsx("p",{className:"text-gray-600",children:"View and manage your archived sections, with the option to restore them."})]})}function TA({error:s}){return s?e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 flex items-center gap-3",children:[e.jsx(ta,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),e.jsx("span",{className:"text-red-700",children:s})]}):null}function _A(){return e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}function AA({searchTerm:s,onSearchChange:r,selectedYear:n,onYearChange:i,selectedSemester:c,onSemesterChange:u,academicYears:m,semesters:f}){return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Wn,{className:"w-5 h-5 text-gray-600"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Filters"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search sections...",value:s,onChange:x=>r(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none"})]}),e.jsx("select",{value:n,onChange:x=>i(x.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none cursor-pointer",children:m.map(x=>e.jsx("option",{value:x.value,children:x.label},x.value))}),e.jsx("select",{value:c,onChange:x=>u(x.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none cursor-pointer",children:f.map(x=>e.jsx("option",{value:x.value,children:x.label},x.value))})]})]})}function MA({totalArchived:s,filteredCount:r,currentPage:n,totalPages:i}){return e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Archived"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s})]}),e.jsx(ft,{className:"w-8 h-8 text-red-400"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Filtered Results"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r})]}),e.jsx(Wn,{className:"w-8 h-8 text-blue-400"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Current Page"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[n," / ",i||1]})]}),e.jsx(Ct,{className:"w-8 h-8 text-purple-400"})]})})]})}function DA({sections:s,onViewDetails:r,onUnarchive:n,formatDate:i}){return e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Academic Year"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Students"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Archived Date"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(c=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(fa,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:c.sectionName}),e.jsx("div",{className:"text-xs text-gray-500",children:c.term})]})]})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm text-gray-900",children:c.subject?.subjectCode}),e.jsx("div",{className:"text-xs text-gray-500",children:c.subject?.subjectName})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ft,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-900",children:c.schoolYear})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Lt,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-900",children:c.students?.length||0})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx(Cs,{className:"w-4 h-4"}),i(c.archivedAt)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>r(c),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:e.jsx(qa,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>n(c),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Unarchive Section",children:e.jsx(xb,{className:"w-4 h-4"})})]})})]},c._id))})]})})}function OA({searchTerm:s,selectedYear:r,selectedSemester:n,onClearFilters:i}){const c=s||r!=="all"||n!=="all";return e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ft,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Archived Sections"}),e.jsx("p",{className:"text-gray-500 mb-4",children:c?"No sections match your search criteria":"You don't have any archived sections yet"}),c&&e.jsx("button",{onClick:i,className:"text-blue-600 hover:text-blue-700 font-medium",children:"Clear Filters"})]})}function RA({isOpen:s,section:r,onClose:n,onConfirm:i,isLoading:c}){return!s||!r?null:e.jsx("div",{className:"fixed inset-0 bg-black/20 bg-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Unarchive Section"}),e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:e.jsx(et,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 rounded-lg mb-4",children:[e.jsx(xb,{className:"w-8 h-8 text-green-600 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:r.sectionName}),e.jsxs("p",{className:"text-sm text-gray-600",children:[r.subject?.subjectCode," -"," ",r.schoolYear," ",r.term]})]})]}),e.jsx("p",{className:"text-gray-600 mb-2",children:"Are you sure you want to unarchive this section? It will be moved back to your active sections list."}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Students: ",r.students?.length||0]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:n,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",disabled:c,children:"Cancel"}),e.jsx("button",{onClick:i,disabled:c,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Unarchiving...":"Unarchive Section"})]})]})})}function LA(){const s=dt(),[r,n]=g.useState([]),[i,c]=g.useState(!0),[u,m]=g.useState(""),[f,x]=g.useState(""),[p,b]=g.useState("all"),[j,w]=g.useState("all"),[E,v]=g.useState(1),T=10,[C,k]=g.useState(!1),[N,M]=g.useState(null),[A,D]=g.useState(!1),[Y,Q]=g.useState({show:!1,type:"",message:""});g.useEffect(()=>{q()},[]);const q=async()=>{try{c(!0);const U=await ge("http://localhost:5000/api/instructor/sections?includeArchived=true");if(U.ok){const le=((await U.json()).sections||[]).filter(_=>_.isArchived);n(le),m("")}else{const I=await U.json();m(I.message||"Failed to fetch archived sections")}}catch(U){console.error("Error fetching archived sections:",U),m("Error fetching archived sections")}finally{c(!1)}},ne=g.useMemo(()=>{const U=new Set(r.map(le=>le.schoolYear).filter(Boolean)),I=Array.from(U).sort((le,_)=>le>_?-1:1);return[{value:"all",label:"All Academic Year"}].concat(I.map(le=>({value:le,label:le})))},[r]),re=g.useMemo(()=>{const U=new Set(r.map(le=>le.term).filter(Boolean)),I=Array.from(U);return[{value:"all",label:"All Semesters"}].concat(I.map(le=>({value:le,label:`${le} Semester`})))},[r]),B=g.useMemo(()=>{const U=f.trim().toLowerCase();return r.filter(I=>{const le=!U||I.sectionName?.toLowerCase().includes(U)||I.subject?.subjectCode?.toLowerCase().includes(U)||I.subject?.subjectName?.toLowerCase().includes(U),_=p==="all"||I.schoolYear===p,P=j==="all"||I.term===j;return le&&_&&P})},[r,f,p,j]),ae=Math.ceil(B.length/T),ce=g.useMemo(()=>{const U=(E-1)*T;return B.slice(U,U+T)},[B,E]),J=async()=>{if(N)try{D(!0);const U=await ge(`http://localhost:5000/api/section/${N._id}/unarchive`,{method:"PUT"});if(U.ok)Q({show:!0,type:"success",message:"Section unarchived successfully!"}),await q(),k(!1),M(null);else{const I=await U.json();Q({show:!0,type:"error",message:I.message||"Failed to unarchive section"})}}catch(U){console.error("Error unarchiving section:",U),Q({show:!0,type:"error",message:"Error unarchiving section"})}finally{D(!1)}},$=U=>{s(`/instructor/sections/${U._id}/activities`,{state:{section:U,subject:U.subject,fromArchive:!0}})},O=U=>U?new Date(U).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return i?e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(as,{}),e.jsx("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-20 mt-10",children:e.jsx(_A,{})})]}):e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(as,{}),e.jsxs("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-20 mt-10",children:[e.jsx(EA,{}),e.jsx(TA,{error:u}),e.jsx(AA,{searchTerm:f,onSearchChange:U=>{x(U),v(1)},selectedYear:p,onYearChange:U=>{b(U),v(1)},selectedSemester:j,onSemesterChange:U=>{w(U),v(1)},academicYears:ne,semesters:re}),e.jsx(MA,{totalArchived:r.length,filteredCount:B.length,currentPage:E,totalPages:ae}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:ce.length>0?e.jsxs(e.Fragment,{children:[e.jsx(DA,{sections:ce,onViewDetails:$,onUnarchive:U=>{M(U),k(!0)},formatDate:O}),ae>1&&e.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:e.jsx(Wt,{currentPage:E,totalPages:ae,onPageChange:v})})]}):e.jsx(OA,{searchTerm:f,selectedYear:p,selectedSemester:j,onClearFilters:()=>{x(""),b("all"),w("all"),v(1)}})}),e.jsx(RA,{isOpen:C,section:N,onClose:()=>{k(!1),M(null)},onConfirm:J,isLoading:A}),e.jsx(Jn,{isOpen:Y.show,type:Y.type,title:Y.type==="success"?"Success":"Error",message:Y.message,onClose:()=>Q({show:!1,type:"",message:""})})]})]})}const UA=()=>e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"pt-4 sm:pt-6 md:pt-4 lg:pt-6 font-outfit text-[#1E3A5F] text-2xl sm:text-3xl lg:text-3xl font-bold",children:"My Schedule"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"View all your upcoming quizzes, exams, and activities"})]}),zA=({filter:s,onFilterChange:r})=>e.jsxs("div",{className:"mb-4 bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Event Type"}),e.jsxs("select",{value:s,onChange:n=>r(n.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer",children:[e.jsx("option",{value:"all",children:"All Events"}),e.jsx("option",{value:"quiz",children:"Quizzes"}),e.jsx("option",{value:"laboratory",children:"Laboratory"}),e.jsx("option",{value:"exam",children:"Exams"}),e.jsx("option",{value:"assignment",children:"Assignments"}),e.jsx("option",{value:"project",children:"Projects"}),e.jsx("option",{value:"other",children:"Other"})]})]}),PA=({currentDate:s,view:r,onPreviousMonth:n,onNextMonth:i,onToday:c,onViewChange:u})=>e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-4",children:e.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors cursor-pointer",children:e.jsx(Zn,{className:"w-5 h-5"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:s.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),e.jsx("button",{onClick:i,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors cursor-pointer",children:e.jsx(Zr,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:c,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer",children:"Today"}),e.jsxs("select",{value:r,onChange:m=>u(m.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer",children:[e.jsx("option",{value:"month",children:"Month"}),e.jsx("option",{value:"list",children:"List"})]})]})]})}),Zs={quiz:{bg:"bg-red-100",text:"text-red-800",border:"border-red-300",dot:"bg-red-500"},laboratory:{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-300",dot:"bg-yellow-500"},exam:{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-300",dot:"bg-blue-500"},assignment:{bg:"bg-orange-100",text:"text-orange-800",border:"border-orange-300",dot:"bg-orange-500"},project:{bg:"bg-green-100",text:"text-green-800",border:"border-green-300",dot:"bg-green-500"},other:{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-300",dot:"bg-gray-500"}},Xy=s=>new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),Bc=s=>new Date(s).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),$A=s=>new Date(s).toLocaleString("en-US",{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),YA=({generateCalendarDays:s,getSchedulesForDay:r,isToday:n,onEventClick:i})=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"grid grid-cols-7 bg-gray-50",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(c=>e.jsx("div",{className:"py-3 text-center text-sm font-semibold text-gray-700 border-b border-gray-200",children:c},c))}),e.jsx("div",{className:"grid grid-cols-7",children:s().map((c,u)=>{const m=c?r(c):[];return e.jsx("div",{className:`min-h-[120px] p-2 border-b border-r border-gray-200 ${c?n(c)?"bg-blue-50":"bg-white hover:bg-gray-50":"bg-gray-50"}`,children:c&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`text-sm font-semibold mb-1 ${n(c)?"text-blue-600":"text-gray-700"}`,children:c}),e.jsxs("div",{className:"space-y-1",children:[m.slice(0,3).map(f=>e.jsxs("button",{onClick:()=>i(f),className:`w-full text-left px-2 py-1 rounded text-xs ${Zs[f.eventType].bg} ${Zs[f.eventType].text} hover:opacity-80 transition-opacity`,children:[e.jsx("div",{className:"font-medium truncate",children:f.title}),e.jsx("div",{className:"truncate",children:Bc(f.startDateTime)})]},f._id)),m.length>3&&e.jsxs("div",{className:"text-xs text-gray-500 pl-2",children:["+",m.length-3," more"]})]})]})},u)})})]}),BA=({monthSchedules:s,onEventClick:r})=>e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:e.jsx("div",{className:"divide-y divide-gray-200",children:s.length>0?s.sort((n,i)=>new Date(n.startDateTime)-new Date(i.startDateTime)).map(n=>e.jsx("div",{onClick:()=>r(n),className:"p-4 hover:bg-gray-50 cursor-pointer transition-colors",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-1 h-16 rounded ${Zs[n.eventType].dot}`}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:n.title}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[n.subject.subjectCode," -"," ",n.section.sectionName]})]}),e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded ${Zs[n.eventType].bg} ${Zs[n.eventType].text}`,children:n.eventType.toUpperCase()})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Cs,{className:"w-4 h-4"}),Xy(n.startDateTime)," at"," ",Bc(n.startDateTime)]}),n.location&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ci,{className:"w-4 h-4"}),n.location]})]})]})]})},n._id)):e.jsx("div",{className:"p-8 text-center text-gray-500",children:"No schedules for this month"})})}),HA=()=>e.jsxs("div",{className:"mt-4 bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Event Types"}),e.jsx("div",{className:"flex flex-wrap gap-4",children:Object.entries(Zs).map(([s,r])=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-4 h-4 rounded ${r.dot}`}),e.jsx("span",{className:"text-sm text-gray-700 capitalize",children:s})]},s))})]}),qA=({upcomingEvents:s,onEventClick:r})=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Upcoming Events"}),s.length>0?e.jsx("div",{className:"space-y-3",children:s.map(n=>e.jsxs("div",{onClick:()=>r(n),className:`p-3 rounded-lg border cursor-pointer hover:shadow-md transition-shadow ${Zs[n.eventType].bg} ${Zs[n.eventType].border}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-sm",children:n.title}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${Zs[n.eventType].text}`,children:n.eventType})]}),e.jsx("p",{className:"text-xs text-gray-700 mb-1",children:n.subject.subjectCode}),e.jsxs("p",{className:"text-xs text-gray-600 flex items-center gap-1",children:[e.jsx(Cs,{className:"w-3 h-3"}),Xy(n.startDateTime)," ",Bc(n.startDateTime)]})]},n._id))}):e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:"No upcoming events"})})]}),GA=({totalEvents:s,upcomingCount:r,thisWeekCount:n})=>e.jsxs("div",{className:"mt-4 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistics"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Events"}),e.jsx("span",{className:"font-semibold text-gray-900",children:s})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Upcoming"}),e.jsx("span",{className:"font-semibold text-blue-600",children:r})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"This Week"}),e.jsx("span",{className:"font-semibold text-green-600",children:n})]})]})]}),IA=({isOpen:s,schedule:r,onClose:n})=>!s||!r?null:e.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-lg max-w-lg w-full",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r.title}),e.jsx("span",{className:`inline-block px-2 py-1 text-xs font-semibold rounded mt-2 ${Zs[r.eventType].bg} ${Zs[r.eventType].text}`,children:r.eventType.toUpperCase()})]}),e.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:e.jsx(et,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(fa,{className:"w-5 h-5 text-gray-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Section"}),e.jsx("p",{className:"font-medium",children:r.section?.sectionName})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ct,{className:"w-5 h-5 text-gray-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Subject"}),e.jsxs("p",{className:"font-medium",children:[r.subject?.subjectCode," -"," ",r.subject?.subjectName]})]})]}),r.instructor&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx($s,{className:"w-5 h-5 text-gray-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Instructor"}),e.jsx("p",{className:"font-medium",children:r.instructor.fullName||`${r.instructor.firstName||""} ${r.instructor.lastName||""}`.trim()||"Not assigned"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Cs,{className:"w-5 h-5 text-gray-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Schedule"}),e.jsxs("p",{className:"font-medium",children:[$A(r.startDateTime)," -"," ",Bc(r.endDateTime)]})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ci,{className:"w-5 h-5 text-gray-500 mt-0.5"}),e.jsxs("div",{className:"w-full",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Location"}),e.jsx("p",{className:"font-medium",children:r.location||"Not specified"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Tm,{className:"w-5 h-5 text-gray-500 mt-0.5"}),e.jsxs("div",{className:"w-full",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Description"}),e.jsx("p",{className:"font-medium text-gray-700 whitespace-pre-wrap",children:r.description||"No description provided"})]})]}),r.notes&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mt-2",children:[e.jsxs("p",{className:"text-sm font-medium text-blue-900 mb-1 flex items-center gap-1",children:[e.jsx(Tm,{className:"w-4 h-4"}),"Important Notes"]}),e.jsx("p",{className:"text-sm text-blue-800 whitespace-pre-wrap",children:r.notes})]})]}),e.jsx("div",{className:"flex justify-end pt-6",children:e.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Close"})})]})})}),FA=()=>e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});function VA(){const[s,r]=g.useState([]),[n,i]=g.useState(!0),[c,u]=g.useState(!1),[m,f]=g.useState(null),[x,p]=g.useState("all"),[b,j]=g.useState(new Date),[w,E]=g.useState("month");g.useEffect(()=>{v()},[]);const v=async()=>{try{const re=await ge("http://localhost:5000/api/schedule/student/schedules");if(re.ok){const B=await re.json();r(B.schedules||[])}}catch(re){console.error("Error loading schedules:",re)}finally{i(!1)}},T=re=>{f(re),u(!0)},C=()=>{j(new Date(b.getFullYear(),b.getMonth()-1))},k=()=>{j(new Date(b.getFullYear(),b.getMonth()+1))},N=()=>{j(new Date)},M=()=>{const re=b.getFullYear(),B=b.getMonth();return s.filter(ae=>{const ce=new Date(ae.startDateTime),J=ce.getFullYear()===re&&ce.getMonth()===B,$=x==="all"||ae.eventType===x;return J&&$})},A=re=>{const B=b.getFullYear(),ae=b.getMonth();return s.filter(ce=>{const J=new Date(ce.startDateTime),$=J.getFullYear()===B&&J.getMonth()===ae&&J.getDate()===re,O=x==="all"||ce.eventType===x;return $&&O})},D=()=>{const re=b.getFullYear(),B=b.getMonth(),ae=new Date(re,B,1).getDay(),ce=new Date(re,B+1,0).getDate(),J=[];for(let $=0;$<ae;$++)J.push(null);for(let $=1;$<=ce;$++)J.push($);return J},Y=re=>{const B=new Date;return re===B.getDate()&&b.getMonth()===B.getMonth()&&b.getFullYear()===B.getFullYear()},Q=s.filter(re=>new Date(re.startDateTime)>new Date).sort((re,B)=>new Date(re.startDateTime)-new Date(B.startDateTime)).slice(0,5),q=M(),ne=s.filter(re=>{const B=new Date(re.startDateTime),ae=new Date,ce=new Date(ae.getTime()+10080*60*1e3);return B>=ae&&B<=ce}).length;return n?e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(It,{}),e.jsx("div",{className:"flex-1 p-8 max-w-7xl mx-auto ml-0 max-[880px]:ml-0 min-[881px]:ml-65",children:e.jsx(FA,{})})]}):e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(It,{}),e.jsxs("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-20 mt-10",children:[e.jsx(UA,{}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx(zA,{filter:x,onFilterChange:p}),e.jsx(PA,{currentDate:b,view:w,onPreviousMonth:C,onNextMonth:k,onToday:N,onViewChange:E}),w==="month"?e.jsx(YA,{generateCalendarDays:D,getSchedulesForDay:A,isToday:Y,onEventClick:T}):e.jsx(BA,{monthSchedules:q,onEventClick:T}),e.jsx(HA,{})]}),e.jsxs("div",{className:"lg:col-span-1",children:[e.jsx(qA,{upcomingEvents:Q,onEventClick:T}),e.jsx(GA,{totalEvents:s.length,upcomingCount:Q.length,thisWeekCount:ne})]})]}),e.jsx(IA,{isOpen:c,schedule:m,onClose:()=>u(!1)})]})]})}const QA=()=>e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex items-center gap-3 mb-2",children:e.jsx("h1",{className:"font-outfit text-[#1E3A5F] text-2xl sm:text-3xl lg:text-3xl font-bold",children:"Archived Subjects"})}),e.jsx("p",{className:"text-gray-600",children:"View subjects that have been archived by your instructors."})]}),XA=({searchTerm:s,selectedYear:r,selectedSemester:n,academicYears:i,semesters:c,onSearchChange:u,onYearChange:m,onSemesterChange:f,onPageReset:x})=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Wn,{className:"w-5 h-5 text-gray-600"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Filters"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search subjects...",value:s,onChange:p=>{u(p.target.value),x()},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none"})]}),e.jsx("select",{value:r,onChange:p=>{m(p.target.value),x()},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none cursor-pointer",children:i.map(p=>e.jsx("option",{value:p.value,children:p.label},p.value))}),e.jsx("select",{value:n,onChange:p=>{f(p.target.value),x()},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none cursor-pointer",children:c.map(p=>e.jsx("option",{value:p.value,children:p.label},p.value))})]})]}),ZA=({totalArchived:s,filteredCount:r,currentPage:n,totalPages:i})=>e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Archived"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s})]}),e.jsx(ft,{className:"w-8 h-8 text-red-400"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Filtered Results"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r})]}),e.jsx(Wn,{className:"w-8 h-8 text-blue-400"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Current Page"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[n," / ",i||1]})]}),e.jsx(Ct,{className:"w-8 h-8 text-purple-400"})]})})]}),WA=({section:s,onViewDetails:r,formatDate:n})=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer overflow-hidden border border-gray-200",onClick:()=>r(s),children:[e.jsxs("div",{className:"h-32 bg-gradient-to-br from-blue-400 to-purple-600 flex items-center justify-center relative",children:[e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx("span",{className:"px-2 py-1 bg-white/90 text-xs font-semibold text-gray-700 rounded-full",children:"ARCHIVED"})}),e.jsxs("div",{className:"text-white text-center",children:[e.jsx("div",{className:"text-2xl font-bold mb-1",children:s.subject?.subjectCode||"SUBJ"}),e.jsx("div",{className:"text-sm opacity-90",children:s.sectionName})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 line-clamp-2",children:s.subject?.subjectName||"Untitled Subject"}),e.jsxs("div",{className:"space-y-2 mb-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(Ft,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.schoolYear," - ",s.term]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(ns,{className:"w-4 h-4"}),e.jsx("span",{children:s.instructor?.fullName||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(Lt,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.students?.length||0," students"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-xs",children:[e.jsx(Cs,{className:"w-3 h-3"}),e.jsxs("span",{children:["Archived ",n(s.archivedAt)]})]})]}),e.jsx("div",{className:"pt-3 border-t border-gray-100",children:e.jsxs("button",{onClick:i=>{i.stopPropagation(),r(s)},className:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:[e.jsx(qa,{className:"w-4 h-4"}),"View Details"]})})]})]}),JA=({searchTerm:s,selectedYear:r,selectedSemester:n,onClearFilters:i})=>{const c=s||r!=="all"||n!=="all";return e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ft,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Archived Subjects"}),e.jsx("p",{className:"text-gray-500 mb-4",children:c?"No subjects match your search criteria":"You don't have any archived subjects yet"}),c&&e.jsx("button",{onClick:i,className:"text-blue-600 hover:text-blue-700 font-medium",children:"Clear Filters"})]})},KA=({currentPage:s,totalPages:r,onPageChange:n})=>r<=1?null:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>n(Math.max(1,s-1)),disabled:s===1,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),e.jsxs("span",{className:"px-4 py-2 text-gray-700",children:["Page ",s," of ",r]}),e.jsx("button",{onClick:()=>n(Math.min(r,s+1)),disabled:s===r,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]}),e8=({paginatedSections:s,searchTerm:r,selectedYear:n,selectedSemester:i,currentPage:c,totalPages:u,onViewDetails:m,onClearFilters:f,onPageChange:x,formatDate:p})=>e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:s.map(b=>e.jsx(WA,{section:b,onViewDetails:m,formatDate:p},b._id))}),e.jsx(KA,{currentPage:c,totalPages:u,onPageChange:x})]}):e.jsx(JA,{searchTerm:r,selectedYear:n,selectedSemester:i,onClearFilters:f})}),t8=({error:s})=>s?e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 flex items-center gap-3",children:[e.jsx(ta,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),e.jsx("span",{className:"text-red-700",children:s})]}):null;function s8(){const s=dt(),[r,n]=g.useState([]),[i,c]=g.useState(!0),[u,m]=g.useState(""),[f,x]=g.useState(""),[p,b]=g.useState("all"),[j,w]=g.useState("all"),[E,v]=g.useState(1),[T,C]=g.useState(9),[k,N]=g.useState({show:!1,type:"",message:""});g.useEffect(()=>{M()},[]);const M=async()=>{try{c(!0);const J=await ge("http://localhost:5000/api/student/sections?includeArchived=true");if(J.ok){const $=await J.json();n($.sections||[]),m("")}else{const $=await J.json();m($.message||"Failed to fetch archived sections")}}catch(J){console.error("Error fetching archived sections:",J),m("Error fetching archived sections")}finally{c(!1)}},A=g.useMemo(()=>{const J=new Set(r.map(O=>O.schoolYear).filter(Boolean)),$=Array.from(J).sort((O,U)=>O>U?-1:1);return[{value:"all",label:"All Academic Year"}].concat($.map(O=>({value:O,label:O})))},[r]),D=g.useMemo(()=>{const J=new Set(r.map(O=>O.term).filter(Boolean)),$=Array.from(J);return[{value:"all",label:"All Semesters"}].concat($.map(O=>({value:O,label:`${O} Semester`})))},[r]),Y=g.useMemo(()=>{const J=f.trim().toLowerCase();return r.filter($=>{const O=!J||$.sectionName?.toLowerCase().includes(J)||$.subject?.subjectCode?.toLowerCase().includes(J)||$.subject?.subjectName?.toLowerCase().includes(J),U=p==="all"||$.schoolYear===p,I=j==="all"||$.term===j;return O&&U&&I})},[r,f,p,j]),Q=Math.ceil(Y.length/T),q=g.useMemo(()=>{const J=(E-1)*T;return Y.slice(J,J+T)},[Y,E,T]),ne=J=>{s(`/student/sections/${J._id}/activities`,{state:{section:J,subject:J.subject,fromArchive:!0}})},re=J=>J?new Date(J).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";if(i)return e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(It,{}),e.jsx("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-20 mt-10",children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})})]});const B=()=>{x(""),b("all"),w("all"),v(1)},ae=J=>v(J),ce=J=>{C(J),v(1)};return e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(It,{}),e.jsxs("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-20 mt-10",children:[e.jsx(QA,{}),e.jsx(t8,{error:u}),e.jsx(XA,{searchTerm:f,selectedYear:p,selectedSemester:j,academicYears:A,semesters:D,onSearchChange:x,onYearChange:b,onSemesterChange:w,onPageReset:()=>v(1)}),e.jsx(ZA,{totalArchived:r.length,filteredCount:Y.length,currentPage:E,totalPages:Q}),e.jsx(e8,{paginatedSections:q,searchTerm:f,selectedYear:p,selectedSemester:j,currentPage:E,totalPages:Q,onViewDetails:ne,onClearFilters:B,onPageChange:v,formatDate:re}),Y.length>0&&e.jsx(Wt,{currentPage:E,totalPages:Q,totalItems:Y.length,itemsPerPage:T,onPageChange:ae,onItemsPerPageChange:ce,rowsPerPageOptions:[9,18,27,36]}),e.jsx(Jn,{isOpen:k.show,type:k.type,title:k.type==="success"?"Success":"Error",message:k.message,onClose:()=>N({...k,show:!1})})]})]})}const a8=()=>e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex items-center gap-3 mb-2",children:e.jsx("h1",{className:"font-outfit text-[#1E3A5F] text-2xl sm:text-3xl lg:text-3xl font-bold",children:"Hidden Subjects"})}),e.jsx("p",{className:"text-gray-600",children:"Manage subjects you have hidden from your active subjects list."})]}),r8=({searchTerm:s,selectedYear:r,selectedSemester:n,academicYears:i,semesters:c,onSearchChange:u,onYearChange:m,onSemesterChange:f,onPageReset:x})=>{const p=w=>{u(w),x()},b=w=>{m(w),x()},j=w=>{f(w),x()};return e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(Wr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",value:s,onChange:w=>p(w.target.value),placeholder:"Search by subject name or code...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Academic Year"}),e.jsx("select",{value:r,onChange:w=>b(w.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:i.map(w=>e.jsx("option",{value:w.value,children:w.label},w.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Semester"}),e.jsx("select",{value:n,onChange:w=>j(w.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:c.map(w=>e.jsx("option",{value:w.value,children:w.label},w.value))})]})]})})},n8=({totalHidden:s,filteredCount:r,currentPage:n,totalPages:i})=>e.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg border border-gray-200 p-4 mb-6",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Si,{className:"w-5 h-5 text-gray-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Hidden"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:s})]})]}),r<s&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Wn,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Filtered Results"}),e.jsx("p",{className:"text-xl font-bold text-blue-600",children:r})]})]})]}),i>1&&e.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",n," of ",i]})]})}),l8=({section:s,onViewDetails:r,onUnhideClick:n,formatDate:i})=>{const c=s.hiddenByStudents?.find(()=>!0);return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer overflow-hidden border border-gray-200",onClick:()=>r(s),children:[e.jsxs("div",{className:"h-32 bg-gradient-to-br from-gray-400 to-gray-600 flex items-center justify-center relative",children:[e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx("span",{className:"px-2 py-1 bg-white/90 text-xs font-semibold text-gray-700 rounded-full",children:"HIDDEN"})}),e.jsxs("div",{className:"text-white text-center",children:[e.jsx("div",{className:"text-2xl font-bold mb-1",children:s.subject?.subjectCode||"SUBJ"}),e.jsx("div",{className:"text-sm opacity-90",children:s.sectionName})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 line-clamp-2",children:s.subject?.subjectName||"Untitled Subject"}),e.jsxs("div",{className:"space-y-2 mb-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(Ft,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.schoolYear," - ",s.term]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(ns,{className:"w-4 h-4"}),e.jsx("span",{children:s.instructor?.fullName||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(Lt,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.students?.length||0," students"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-xs",children:[e.jsx(Cs,{className:"w-3 h-3"}),e.jsxs("span",{children:["Hidden ",i(c?.hiddenAt)]})]})]}),e.jsxs("div",{className:"pt-3 border-t border-gray-100 grid grid-cols-2 gap-2",children:[e.jsxs("button",{onClick:u=>n(s,u),className:"flex items-center justify-center gap-2 px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium",children:[e.jsx(D2,{className:"w-4 h-4"}),"Unhide"]}),e.jsxs("button",{onClick:u=>{u.stopPropagation(),r(s)},className:"flex items-center justify-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:[e.jsx(qa,{className:"w-4 h-4"}),"View"]})]})]})]})},i8=({searchTerm:s,selectedYear:r,selectedSemester:n,onClearFilters:i})=>{const c=s||r!=="all"||n!=="all";return e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Si,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:c?"No hidden subjects found":"No hidden subjects"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:c?"No subjects match your current filters. Try adjusting your search criteria.":"You haven't hidden any subjects yet. Hidden subjects will appear here."}),c&&e.jsxs("button",{onClick:i,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(U2,{className:"w-4 h-4"}),"Clear Filters"]})]})},o8=({paginatedSections:s,searchTerm:r,selectedYear:n,selectedSemester:i,onViewDetails:c,onUnhideClick:u,onClearFilters:m,formatDate:f})=>e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:s.map(x=>e.jsx(l8,{section:x,onViewDetails:c,onUnhideClick:u,formatDate:f},x._id))}):e.jsx(i8,{searchTerm:r,selectedYear:n,selectedSemester:i,onClearFilters:m})}),c8=({error:s})=>s?e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ta,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),e.jsx("p",{className:"text-red-800",children:s})]})}):null;function d8(){const s=dt(),[r,n]=g.useState([]),[i,c]=g.useState(!0),[u,m]=g.useState(""),[f,x]=g.useState(""),[p,b]=g.useState("all"),[j,w]=g.useState("all"),[E,v]=g.useState(1),[T,C]=g.useState(9),[k,N]=g.useState({show:!1,type:"",message:""});g.useEffect(()=>{M()},[]);const M=async()=>{try{c(!0);const $=await ge("http://localhost:5000/api/student/sections/hidden");if($.ok){const O=await $.json();n(O.sections||[]),m("")}else{const O=await $.json();m(O.message||"Failed to fetch hidden sections")}}catch($){console.error("Error fetching hidden sections:",$),m("Error fetching hidden sections")}finally{c(!1)}},A=async($,O)=>{O.stopPropagation();try{const U=await ge(`http://localhost:5000/api/student/sections/${$._id}/unhide`,{method:"PUT"});if(U.ok)N({show:!0,type:"success",message:"Subject unhidden successfully!"}),await M();else{const I=await U.json();N({show:!0,type:"error",message:I.message||"Failed to unhide subject"})}}catch(U){console.error("Error unhiding subject:",U),N({show:!0,type:"error",message:"Error unhiding subject"})}},D=g.useMemo(()=>{const $=new Set(r.map(U=>U.schoolYear).filter(Boolean)),O=Array.from($).sort((U,I)=>U>I?-1:1);return[{value:"all",label:"All Academic Year"}].concat(O.map(U=>({value:U,label:U})))},[r]),Y=g.useMemo(()=>{const $=new Set(r.map(U=>U.term).filter(Boolean)),O=Array.from($);return[{value:"all",label:"All Semesters"}].concat(O.map(U=>({value:U,label:`${U} Semester`})))},[r]),Q=g.useMemo(()=>{const $=f.trim().toLowerCase();return r.filter(O=>{const U=!$||O.sectionName?.toLowerCase().includes($)||O.subject?.subjectCode?.toLowerCase().includes($)||O.subject?.subjectName?.toLowerCase().includes($),I=p==="all"||O.schoolYear===p,le=j==="all"||O.term===j;return U&&I&&le})},[r,f,p,j]),q=Math.ceil(Q.length/T),ne=g.useMemo(()=>{const $=(E-1)*T;return Q.slice($,$+T)},[Q,E,T]),re=$=>{s(`/student/sections/${$._id}/activities`,{state:{section:$,subject:$.subject,fromHidden:!0}})},B=$=>$?new Date($).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";if(i)return e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(It,{}),e.jsx("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-20 mt-10",children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})})]});const ae=()=>{x(""),b("all"),w("all"),v(1)},ce=$=>v($),J=$=>{C($),v(1)};return e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(It,{}),e.jsxs("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto ml-0 max-[880px]:ml-0 min-[881px]:ml-65 max-[880px]:pt-20 mt-10",children:[e.jsx(a8,{}),e.jsx(c8,{error:u}),e.jsx(r8,{searchTerm:f,selectedYear:p,selectedSemester:j,academicYears:D,semesters:Y,onSearchChange:x,onYearChange:b,onSemesterChange:w,onPageReset:()=>v(1)}),e.jsx(n8,{totalHidden:r.length,filteredCount:Q.length,currentPage:E,totalPages:q}),e.jsx(o8,{paginatedSections:ne,searchTerm:f,selectedYear:p,selectedSemester:j,currentPage:E,totalPages:q,onViewDetails:re,onUnhideClick:A,onClearFilters:ae,onPageChange:v,formatDate:B}),Q.length>0&&e.jsx(Wt,{currentPage:E,totalPages:q,totalItems:Q.length,itemsPerPage:T,onPageChange:ce,onItemsPerPageChange:J,rowsPerPageOptions:[9,18,27,36]}),e.jsx(Jn,{isOpen:k.show,type:k.type,title:k.type==="success"?"Success":"Error",message:k.message,onClose:()=>N({...k,show:!1})})]})]})}function u8(){const[s]=z1(),r=dt(),[n,i]=g.useState("processing");return g.useEffect(()=>{(async()=>{const u=s.get("code"),m=s.get("state");if(s.get("error")){i("error"),setTimeout(()=>{window.close()},3e3);return}if(!u){i("error"),setTimeout(()=>{window.close()},3e3);return}try{(await ge(`http://localhost:5000/api/google-calendar/callback?code=${u}&state=${m}`)).ok?(i("success"),setTimeout(()=>{window.close()},2e3)):(i("error"),setTimeout(()=>{window.close()},3e3))}catch(x){console.error("Error handling callback:",x),i("error"),setTimeout(()=>{window.close()},3e3)}})()},[s,r]),e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[n==="processing"&&e.jsxs(e.Fragment,{children:[e.jsx(fb,{className:"w-16 h-16 mx-auto text-blue-600 animate-spin mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Connecting..."}),e.jsx("p",{className:"text-gray-600",children:"Please wait while we connect your Google Calendar."})]}),n==="success"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 mx-auto bg-green-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(qt,{className:"w-10 h-10 text-green-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Successfully Connected!"}),e.jsx("p",{className:"text-gray-600",children:"Your Google Calendar has been connected. This window will close automatically."})]}),n==="error"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 mx-auto bg-red-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(et,{className:"w-10 h-10 text-red-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Connection Failed"}),e.jsx("p",{className:"text-gray-600",children:"Failed to connect Google Calendar. Please try again. This window will close automatically."})]})]})})}function m8(){return e.jsxs(o1,{children:[e.jsx(ze,{path:"/",element:e.jsx(ui,{to:"/login"})}),e.jsx(ze,{path:"/admin/adminLogin",element:e.jsx(_p,{})}),e.jsx(ze,{path:"/admin/adminRequestCode",element:e.jsx(BE,{})}),e.jsx(ze,{path:"/admin/reset-password",element:e.jsx(YE,{})}),e.jsx(ze,{path:"/admin/adminVerifyCode",element:e.jsx(HE,{})}),e.jsx(ze,{path:"/login",element:e.jsx(Xw,{})}),e.jsx(ze,{path:"/register",element:e.jsx(rp,{})}),e.jsx(ze,{path:"/studentRegister",element:e.jsx(rp,{})}),e.jsx(ze,{path:"*",element:e.jsx(ui,{to:"/login"})}),e.jsx(ze,{path:"/adminLogin",element:e.jsx(_p,{})}),e.jsx(ze,{path:"/admin",element:e.jsx(Xe,{role:"Admin",children:e.jsx(yk,{})})}),e.jsx(ze,{path:"/admin/profile",element:e.jsx(Xe,{role:"Admin",children:e.jsx(Tk,{})})}),e.jsx(ze,{path:"/admin/instructors",element:e.jsx(Xe,{role:"Admin",children:e.jsx(Pk,{})})}),e.jsx(ze,{path:"/admin/students",element:e.jsx(Xe,{role:"Admin",children:e.jsx(Fk,{})})}),e.jsx(ze,{path:"/admin/all-users",element:e.jsx(Xe,{role:"Admin",children:e.jsx(eE,{})})}),e.jsx(ze,{path:"/admin/semestral-period",element:e.jsx(Xe,{role:"Admin",children:e.jsx(hE,{})})}),e.jsx(ze,{path:"/admin/subjects",element:e.jsx(Xe,{role:"Admin",children:e.jsx(wE,{})})}),e.jsx(ze,{path:"/admin/sections",element:e.jsx(Xe,{role:"Admin",children:e.jsx(ME,{})})}),e.jsx(ze,{path:"/admin/view-invite-student/:sectionId",element:e.jsx(Xe,{role:"Admin",children:e.jsx($E,{})})}),e.jsx(ze,{path:"/admin/archive",element:e.jsx(Xe,{role:"Admin",children:e.jsx(WE,{})})}),e.jsx(ze,{path:"/admin/monitoring",element:e.jsx(Xe,{role:"Admin",children:e.jsx(uT,{})})}),e.jsx(ze,{path:"/instructor",element:e.jsx(Xe,{role:"instructor",children:e.jsx(RT,{})})}),e.jsx(ze,{path:"/instructor/my-sections",element:e.jsx(Xe,{role:"instructor",children:e.jsx(GT,{})})}),e.jsx(ze,{path:"/instructor/grades",element:e.jsx(Xe,{role:"instructor",children:e.jsx(a_,{})})}),e.jsx(ze,{path:"/instructor/semester-view",element:e.jsx(Xe,{role:"instructor",children:e.jsx(m_,{})})}),e.jsx(ze,{path:"/instructor/activity-management",element:e.jsx(Xe,{role:"instructor",children:e.jsx(sA,{})})}),e.jsx(ze,{path:"/instructor/sections/:sectionId/activities/:activityId/scores",element:e.jsx(Xe,{role:"instructor",children:e.jsx(X_,{})})}),e.jsx(ze,{path:"/instructor/sections/:sectionId/activities",element:e.jsx(Xe,{role:"instructor",children:e.jsx(q_,{})})}),e.jsx(ze,{path:"/instructor/students",element:e.jsx(Xe,{role:"instructor",children:e.jsx(D_,{})})}),e.jsx(ze,{path:"/instructor/archive",element:e.jsx(Xe,{role:"instructor",children:e.jsx(LA,{})})}),e.jsx(ze,{path:"/instructor/profile",element:e.jsx(Xe,{role:"instructor",children:e.jsx(C_,{})})}),e.jsx(ze,{path:"/instructor/schedule",element:e.jsx(Xe,{role:"instructor",children:e.jsx(kA,{})})}),e.jsx(ze,{path:"/instructor/settings/google-calendar/callback",element:e.jsx(Xe,{role:"instructor",children:e.jsx(u8,{})})}),e.jsx(ze,{path:"/student",element:e.jsx(Xe,{role:"student",children:e.jsx(X6,{})})}),e.jsx(ze,{path:"/student/grades",element:e.jsx(Xe,{role:"student",children:e.jsx(sk,{})})}),e.jsx(ze,{path:"/student/subjects",element:e.jsx(Xe,{role:"student",children:e.jsx(uk,{})})}),e.jsx(ze,{path:"/student/sections/:sectionId/activities",element:e.jsx(Xe,{role:"student",children:e.jsx(Gp,{})})}),e.jsx(ze,{path:"/student/subjects/:subjectId/activities/:activityId/scores",element:e.jsx(Xe,{role:"student",children:e.jsx(Gp,{})})}),e.jsx(ze,{path:"/student/subjects/:subjectId/grades",element:e.jsx(Xe,{role:"student",children:e.jsx(mk,{})})}),e.jsx(ze,{path:"/student/profile",element:e.jsx(Xe,{role:"student",children:e.jsx(kT,{})})}),e.jsx(ze,{path:"/student/schedule",element:e.jsx(Xe,{role:"student",children:e.jsx(VA,{})})}),e.jsx(ze,{path:"/student/archive",element:e.jsx(Xe,{role:"student",children:e.jsx(s8,{})})}),e.jsx(ze,{path:"/student/hidden",element:e.jsx(Xe,{role:"student",children:e.jsx(d8,{})})})]})}const h8="956629357698-0f6hvofgd1jm04ncftrg1e75at150g1r.apps.googleusercontent.com";bN.createRoot(document.getElementById("root")).render(e.jsx(g.StrictMode,{children:e.jsx(G1,{clientId:h8,children:e.jsx(D1,{children:e.jsx(m8,{})})})}));
